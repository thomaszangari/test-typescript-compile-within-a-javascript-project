{"ast":null,"code":"import _objectDestructuringEmpty from\"C:\\\\Users\\\\tomsa\\\\OneDrive\\\\Desktop\\\\ReactExampleCode\\\\test-typescript-compile-within-a-javascript-project\\\\Code\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectDestructuringEmpty\";import _classCallCheck from\"C:\\\\Users\\\\tomsa\\\\OneDrive\\\\Desktop\\\\ReactExampleCode\\\\test-typescript-compile-within-a-javascript-project\\\\Code\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\tomsa\\\\OneDrive\\\\Desktop\\\\ReactExampleCode\\\\test-typescript-compile-within-a-javascript-project\\\\Code\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\tomsa\\\\OneDrive\\\\Desktop\\\\ReactExampleCode\\\\test-typescript-compile-within-a-javascript-project\\\\Code\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\tomsa\\\\OneDrive\\\\Desktop\\\\ReactExampleCode\\\\test-typescript-compile-within-a-javascript-project\\\\Code\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";var _dec,_class,_temp;import React from\"react\";import{inject,observer}from\"mobx-react\";import DatePicker from'react-datepicker';import{Button,Modal}from\"react-bootstrap\";import moment from\"moment\";import{UserAction,UserActionCategory}from\"../../UserActionCategory\";import{toJS}from\"mobx\";import{checkRenderPermissions}from\"../../helpers\";import{permissions,timeOfDayFormat}from\"../../constants\";//import Tile from \"../../components/tile/tile.js\";\nimport LightTable from\"../../components/lighttable/LightTable\";import'./DailyReconciliationReport.css';var DailyReconciliationReport=(_dec=inject('claimStore','playerStore'),_dec(_class=observer(_class=(_temp=/*#__PURE__*/function(_React$Component){_inherits(DailyReconciliationReport,_React$Component);var _super=_createSuper(DailyReconciliationReport);function DailyReconciliationReport(props){var _this;_classCallCheck(this,DailyReconciliationReport);_this=_super.call(this,props);_this.setReconDate=function(newDate){if(newDate===null){_this.props.claimStore.setReconDate(null);// this.setState({endDate: null, startDate: null});\n}else{_this.props.claimStore.setReconDate(newDate);}};_this.onSearchClick=function(){var reconDate=_this.props.claimStore.reconDate;var queryParams='?';if(reconDate){var rDate=moment(reconDate).format('YYYY-MM-DD');queryParams+=\"queryDate=\".concat(rDate);}_this.props.claimStore.getReconData(queryParams);};_this.handlePaymentDetailClick=function(paymentData){_this.props.claimStore.logAction(UserActionCategory.API_CALL,UserAction.VIEW_PAYMENT_DETAILS,'Transaction ID: '+paymentData.transactionId,'');_this.props.claimStore.setPaymentDetails(paymentData,_this.navigateToPaymentDetails);};_this.onModalClose=function(){_this.setState({showPopup:false,selectedRejectFile:null});};_this.viewDetailsClick=function(data){if(data.label=='Player Payments by ACH'||data.label=='Taxes to DOR by ACH'||data.label=='Payment Retries by ACH'){_this.props.claimStore.reconSetSelectedBatchId(data);_this.props.history.push('/finance/claims/batch/details');}else if(data.label=='Returned ACH Payments'){_this.props.claimStore.reconSetSelectedRejectReferenceNumber(data);_this.props.history.push('/finance/claims/reject/details');}};_this.state={showPopup:false,selectedRejectFile:null};return _this;}_createClass(DailyReconciliationReport,[{key:\"maxDate\",value:function maxDate(){var d=new Date();return d.setDate(d.getDate()-1);}},{key:\"componentDidMount\",value:function componentDidMount(){this.props.claimStore.getReconData();}},{key:\"renderDailyReconciliationReport\",value:function renderDailyReconciliationReport(){var _this2=this;var _this$props$claimStor=this.props.claimStore,reconDate=_this$props$claimStor.reconDate,ESAValidations=_this$props$claimStor.ESAValidations,mobileClaims=_this$props$claimStor.mobileClaims,playerPayments=_this$props$claimStor.playerPayments,taxes=_this$props$claimStor.taxes,ACHTotal=_this$props$claimStor.ACHTotal,returnedPayments=_this$props$claimStor.returnedPayments,ACHRetries=_this$props$claimStor.ACHRetries,paperCheckRetries=_this$props$claimStor.paperCheckRetries,reconTableHeader=_this$props$claimStor.reconTableHeader,reconTableRows=_this$props$claimStor.reconTableRows;_objectDestructuringEmpty(this.state);var rows=toJS(JSON.parse(JSON.stringify(reconTableRows)));if(rows.length>0&&checkRenderPermissions(permissions.CAN_SEE_BATCH_REJECT_FILE_DETAILS,JSON.parse(localStorage.getItem('userpolicies')))){rows.forEach(function(row){if(row.label!='Payment Retries by Paper Check'&&row.label!='Unknown Type'){row.items[0]=/*#__PURE__*/React.createElement(\"a\",{onClick:function onClick(){return _this2.viewDetailsClick(row);},className:\"recon-link\"},row.label);}});}if(true){return/*#__PURE__*/React.createElement(\"div\",{className:\"full-container\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"report-header\"},/*#__PURE__*/React.createElement(\"div\",{className:\"tile-card\"},/*#__PURE__*/React.createElement(\"div\",{className:\"tile-card-title-label\"},\"Mobile Claims Reconciliation Report\"),/*#__PURE__*/React.createElement(\"div\",{className:\"tile-card-note-label\"},\"Date\"),/*#__PURE__*/React.createElement(\"div\",{className:\"tile-card-contents\"},/*#__PURE__*/React.createElement(DatePicker,{style:\"margin-right:15px;\",selected:reconDate,isClearable:true,maxDate:this.maxDate(),onChange:function onChange(date){return _this2.setReconDate(date);}}),/*#__PURE__*/React.createElement(\"button\",{className:\"date-picker-btn\",onClick:function onClick(){return _this2.onSearchClick();}},\"Generate\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"container-left\"},/*#__PURE__*/React.createElement(\"div\",{className:\"new-claims\"},/*#__PURE__*/React.createElement(\"div\",{className:\"tile-card\"},/*#__PURE__*/React.createElement(\"div\",{className:\"tile-card-label\"},\"New Claims\"),/*#__PURE__*/React.createElement(\"div\",{className:\"tile-card-data\"},/*#__PURE__*/React.createElement(\"div\",{className:\"tile-card-data-label\"},\"ESA Validations\"),/*#__PURE__*/React.createElement(\"div\",{className:\"tile-card-data-value\"},ESAValidations)),/*#__PURE__*/React.createElement(\"div\",{className:\"tile-card-note-label\"},\"Imported Data from Third Party\"),/*#__PURE__*/React.createElement(\"div\",{className:\"tile-card-data\"},/*#__PURE__*/React.createElement(\"div\",{className:\"tile-card-data-label\"},\"RTC Mobile Claims\"),/*#__PURE__*/React.createElement(\"div\",{className:\"tile-card-data-value\"},mobileClaims)))),/*#__PURE__*/React.createElement(\"div\",{className:\"new-payments\"},/*#__PURE__*/React.createElement(\"div\",{className:\"tile-card\"},/*#__PURE__*/React.createElement(\"div\",{className:\"tile-card-label\"},\"New Payments\"),\" \",/*#__PURE__*/React.createElement(\"div\",{className:\"tile-card-data\"},/*#__PURE__*/React.createElement(\"div\",{className:\"tile-card-data-label\"},\"Player Payment by ACH\"),/*#__PURE__*/React.createElement(\"div\",{className:\"tile-card-data-value\"},playerPayments)),/*#__PURE__*/React.createElement(\"div\",{className:\"tile-card-data\"},/*#__PURE__*/React.createElement(\"div\",{className:\"tile-card-data-label\"},\"Taxes to DOR by ACH\"),/*#__PURE__*/React.createElement(\"div\",{className:\"tile-card-data-value\"},taxes)),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(\"div\",{className:\"tile-card-data\"},/*#__PURE__*/React.createElement(\"div\",{className:\"tile-card-data-label\"},\"Total\"),/*#__PURE__*/React.createElement(\"div\",{className:\"tile-card-data-value\"},ACHTotal))))),/*#__PURE__*/React.createElement(\"div\",{className:\"container-right\"},/*#__PURE__*/React.createElement(\"div\",{className:\"returned-payments\"},/*#__PURE__*/React.createElement(\"div\",{className:\"tile-card\"},/*#__PURE__*/React.createElement(\"div\",{className:\"tile-card-label\"},\"Returned Payments\"),/*#__PURE__*/React.createElement(\"div\",{className:\"tile-card-data\"},/*#__PURE__*/React.createElement(\"div\",{className:\"tile-card-data-label\"},\"Returned ACH Payments\"),/*#__PURE__*/React.createElement(\"div\",{className:\"tile-card-data-value\"},returnedPayments)))),/*#__PURE__*/React.createElement(\"div\",{className:\"payment-retries\"},/*#__PURE__*/React.createElement(\"div\",{className:\"tile-card\"},/*#__PURE__*/React.createElement(\"div\",{className:\"tile-card-label\"},\"Payment Retries\"),/*#__PURE__*/React.createElement(\"div\",{className:\"tile-card-data\"},/*#__PURE__*/React.createElement(\"div\",{className:\"tile-card-data-label\"},\"Payment Retries by ACH\"),/*#__PURE__*/React.createElement(\"div\",{className:\"tile-card-data-value\"},ACHRetries)),/*#__PURE__*/React.createElement(\"div\",{className:\"tile-card-data\"},/*#__PURE__*/React.createElement(\"div\",{className:\"tile-card-data-label\"},\"Payment Retries by Paper Check\"),/*#__PURE__*/React.createElement(\"div\",{className:\"tile-card-data-value\"},paperCheckRetries)))))),/*#__PURE__*/React.createElement(\"div\",{className:\"itemized-transactions\"},reconTableHeader&&reconTableHeader.length>0?/*#__PURE__*/React.createElement(\"div\",{className:\"tile-card\"},/*#__PURE__*/React.createElement(\"div\",{className:\"tile-card-label\"},\"Itemized Transaction Reports\"),/*#__PURE__*/React.createElement(\"div\",{className:\"table-container\"},/*#__PURE__*/React.createElement(LightTable,{theadData:reconTableHeader,tbodyData:rows}))):null));}}},{key:\"render\",value:function render(){//<NewTable tableHeader={reconTableHeader} rowData={reconTableRows}></NewTable>\nvar renderObj;if(checkRenderPermissions(permissions.CAN_SEE_DAILY_RECONCILIATION,JSON.parse(localStorage.getItem('userpolicies')))){renderObj=this.renderDailyReconciliationReport();}else{renderObj=/*#__PURE__*/React.createElement(\"h3\",{class:\"unauthorized-header\"},\"You do not have permission to view this page! Please contact your System Administrator!\");}return renderObj;}}]);return DailyReconciliationReport;}(React.Component),_temp))||_class)||_class);export default DailyReconciliationReport;","map":{"version":3,"sources":["C:/Users/tomsa/OneDrive/Desktop/ReactExampleCode/test-typescript-compile-within-a-javascript-project/Code/src/Finance/DailyReconciliationReport/DailyReconciliationReport.js"],"names":["React","inject","observer","DatePicker","Button","Modal","moment","UserAction","UserActionCategory","toJS","checkRenderPermissions","permissions","timeOfDayFormat","LightTable","DailyReconciliationReport","props","setReconDate","newDate","claimStore","onSearchClick","reconDate","queryParams","rDate","format","getReconData","handlePaymentDetailClick","paymentData","logAction","API_CALL","VIEW_PAYMENT_DETAILS","transactionId","setPaymentDetails","navigateToPaymentDetails","onModalClose","setState","showPopup","selectedRejectFile","viewDetailsClick","data","label","reconSetSelectedBatchId","history","push","reconSetSelectedRejectReferenceNumber","state","d","Date","setDate","getDate","ESAValidations","mobileClaims","playerPayments","taxes","ACHTotal","returnedPayments","ACHRetries","paperCheckRetries","reconTableHeader","reconTableRows","rows","JSON","parse","stringify","length","CAN_SEE_BATCH_REJECT_FILE_DETAILS","localStorage","getItem","forEach","row","items","maxDate","date","renderObj","CAN_SEE_DAILY_RECONCILIATION","renderDailyReconciliationReport","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport {inject, observer} from \"mobx-react\";\r\nimport DatePicker from 'react-datepicker';\r\nimport {Button, Modal} from \"react-bootstrap\";\r\nimport moment from \"moment\";\r\nimport {UserAction, UserActionCategory} from \"../../UserActionCategory\";\r\nimport {toJS} from \"mobx\";\r\nimport {checkRenderPermissions} from \"../../helpers\";\r\nimport {permissions, timeOfDayFormat} from \"../../constants\";\r\n//import Tile from \"../../components/tile/tile.js\";\r\nimport LightTable from \"../../components/lighttable/LightTable\";\r\n\r\nimport './DailyReconciliationReport.css';\r\n\r\n@inject('claimStore', 'playerStore')\r\n@observer\r\nclass DailyReconciliationReport extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            showPopup: false,\r\n            selectedRejectFile: null,\r\n        }\r\n    }\r\n\r\n    maxDate() {\r\n        let d = new Date();\r\n        return d.setDate(d.getDate() -1);\r\n    }\r\n\r\n    setReconDate = (newDate) => {\r\n        if(newDate === null) {\r\n            this.props.claimStore.setReconDate(null);\r\n            // this.setState({endDate: null, startDate: null});\r\n        } else {\r\n            this.props.claimStore.setReconDate(newDate);\r\n        }\r\n    }\r\n\r\n    onSearchClick = () => {\r\n        const {reconDate} = this.props.claimStore;\r\n        let queryParams = '?';\r\n        if (reconDate) {\r\n            const rDate = moment(reconDate).format('YYYY-MM-DD');\r\n            queryParams += `queryDate=${rDate}`;\r\n        }\r\n        this.props.claimStore.getReconData(queryParams);\r\n\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.claimStore.getReconData();\r\n    }\r\n\r\n    handlePaymentDetailClick = (paymentData) => {\r\n        this.props.claimStore.logAction(UserActionCategory.API_CALL, UserAction.VIEW_PAYMENT_DETAILS, 'Transaction ID: '+paymentData.transactionId, '');\r\n        this.props.claimStore.setPaymentDetails(paymentData, this.navigateToPaymentDetails);\r\n    }\r\n\r\n    onModalClose = () => {\r\n        this.setState({showPopup: false, selectedRejectFile: null});\r\n    }\r\n\r\n    viewDetailsClick = (data) => {\r\n        if(data.label == 'Player Payments by ACH' || data.label == 'Taxes to DOR by ACH' || data.label == 'Payment Retries by ACH') {\r\n            this.props.claimStore.reconSetSelectedBatchId(data);\r\n            this.props.history.push('/finance/claims/batch/details');\r\n        } else if (data.label == 'Returned ACH Payments') {\r\n            this.props.claimStore.reconSetSelectedRejectReferenceNumber(data);\r\n            this.props.history.push('/finance/claims/reject/details');\r\n        }\r\n\r\n    }\r\n\r\n    renderDailyReconciliationReport() {\r\n        const {reconDate, ESAValidations, mobileClaims, playerPayments, taxes, ACHTotal, returnedPayments, ACHRetries, paperCheckRetries, reconTableHeader, reconTableRows} = this.props.claimStore;\r\n        const {} = this.state;\r\n        const rows = toJS(JSON.parse(JSON.stringify(reconTableRows)));\r\n        if(rows.length > 0 &&\r\n            checkRenderPermissions(permissions.CAN_SEE_BATCH_REJECT_FILE_DETAILS, JSON.parse(localStorage.getItem('userpolicies')))) {\r\n            rows.forEach(row => {\r\n                if(row.label != 'Payment Retries by Paper Check' && row.label != 'Unknown Type'){\r\n                    row.items[0] = <a onClick={() => this.viewDetailsClick(row)} className='recon-link'>{row.label}</a>\r\n                }\r\n            })\r\n        }\r\n        if(true) {\r\n            return(\r\n                <div className='full-container'>\r\n                    <div>\r\n                        <div className = 'report-header'>      \r\n                            <div className='tile-card'>\r\n                                <div className='tile-card-title-label'>Mobile Claims Reconciliation Report</div>  \r\n                                <div className = 'tile-card-note-label'>Date</div> \r\n                                <div className='tile-card-contents'>\r\n                                    <DatePicker\r\n                                    style=\"margin-right:15px;\"\r\n                                    selected={reconDate}\r\n                                    isClearable\r\n                                    maxDate={this.maxDate()}\r\n                                    onChange={date => this.setReconDate(date)}\r\n                                    />\r\n                                    \r\n                                <button className=\"date-picker-btn\" onClick={() => this.onSearchClick()}>Generate</button> \r\n                                </div> \r\n                            </div>\r\n                        </div>\r\n                        <div className='container-left'>\r\n                            <div className = 'new-claims'>\r\n                                <div className='tile-card'>\r\n                                    <div className='tile-card-label'>New Claims</div>\r\n                                    <div className='tile-card-data'>\r\n                                        <div className='tile-card-data-label'>ESA Validations</div>\r\n                                        <div className='tile-card-data-value'>{ESAValidations}</div>\r\n                                    </div>  \r\n                                    <div className = 'tile-card-note-label'>Imported Data from Third Party</div> \r\n                                    <div className='tile-card-data'>\r\n                                        <div className='tile-card-data-label'>RTC Mobile Claims</div>\r\n                                        <div className='tile-card-data-value'>{mobileClaims}</div>\r\n                                    </div>       \r\n                                </div>\r\n                            </div>\r\n                            <div className = 'new-payments'>\r\n                                <div className='tile-card'>\r\n                                    <div className='tile-card-label'>New Payments</div> <div className='tile-card-data'>\r\n                                        <div className='tile-card-data-label'>Player Payment by ACH</div>\r\n                                        <div className='tile-card-data-value'>{playerPayments}</div>\r\n                                    </div>  \r\n                                    <div className='tile-card-data'>\r\n                                        <div className='tile-card-data-label'>Taxes to DOR by ACH</div>\r\n                                        <div className='tile-card-data-value'>{taxes}</div>\r\n                                    </div>  \r\n                                    <hr></hr>\r\n                                    <div className='tile-card-data'>\r\n                                        <div className='tile-card-data-label'>Total</div>\r\n                                        <div className='tile-card-data-value'>{ACHTotal}</div>\r\n                                    </div>                \r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className='container-right'>\r\n                            <div className = 'returned-payments'>\r\n                                <div className='tile-card'>\r\n                                    <div className='tile-card-label'>Returned Payments</div>     \r\n                                    <div className='tile-card-data'>\r\n                                        <div className='tile-card-data-label'>Returned ACH Payments</div>\r\n                                        <div className='tile-card-data-value'>{returnedPayments}</div>\r\n                                    </div> \r\n                                </div>\r\n                            </div>\r\n                            <div className = 'payment-retries'>\r\n                                <div className='tile-card'>\r\n                                    <div className='tile-card-label'>Payment Retries</div>  \r\n                                    <div className='tile-card-data'>\r\n                                        <div className='tile-card-data-label'>Payment Retries by ACH</div>\r\n                                        <div className='tile-card-data-value'>{ACHRetries}</div>\r\n                                    </div>  \r\n                                    <div className='tile-card-data'>\r\n                                        <div className='tile-card-data-label'>Payment Retries by Paper Check</div>\r\n                                        <div className='tile-card-data-value'>{paperCheckRetries}</div>\r\n                                    </div>       \r\n                                </div>\r\n                            </div>\r\n                        </div>                                     \r\n                    </div>\r\n                    <div className='itemized-transactions'>\r\n                        {\r\n                            reconTableHeader && reconTableHeader.length > 0 ?\r\n                            <div className='tile-card'>\r\n                                <div className='tile-card-label'>Itemized Transaction Reports</div>\r\n                                <div className='table-container'>\r\n                                    <LightTable theadData={reconTableHeader} tbodyData={rows}/>  \r\n                                </div>\r\n                            </div>\r\n                            : null\r\n                        }\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n\r\n    render() {\r\n        //<NewTable tableHeader={reconTableHeader} rowData={reconTableRows}></NewTable>\r\n        let renderObj;\r\n\r\n        if(checkRenderPermissions(permissions.CAN_SEE_DAILY_RECONCILIATION, JSON.parse(localStorage.getItem('userpolicies')))) {\r\n            renderObj = this.renderDailyReconciliationReport();\r\n        } else {\r\n            renderObj =\r\n                <h3 class='unauthorized-header'>You do not have permission to view this page! Please contact your System\r\n                    Administrator!</h3>\r\n        }\r\n\r\n        return (\r\n            renderObj\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default DailyReconciliationReport;\r\n"]},"metadata":{},"sourceType":"module"}