{"ast":null,"code":"var _dec,\n    _class,\n    _temp,\n    _jsxFileName = \"C:\\\\Users\\\\tomsa\\\\OneDrive\\\\Desktop\\\\Capstone\\\\lottery\\\\mslc-backoffice-client\\\\v1\\\\Code\\\\src\\\\Player\\\\Tabs\\\\ClaimHistory.js\";\n\nimport React from \"react\";\nimport { inject, observer } from \"mobx-react\";\nimport './Tabs.css';\nimport ReactTable from \"../../PaginatedTable/ReactTable\";\nimport { checkRenderPermissions } from \"../../helpers\";\nimport { permissions } from \"../../constants\";\nlet ClaimHistory = (_dec = inject('playerStore'), _dec(_class = observer(_class = (_temp = class ClaimHistory extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleClaimDetailClick = claimData => {\n      this.props.playerStore.setSelectedClaim(claimData, this.navigateToClaimDetails);\n    };\n\n    this.navigateToClaimDetails = () => {\n      const id = this.props.playerStore.selectedClaimId;\n      this.props.history.push('/claim/' + id);\n    };\n  }\n\n  componentDidMount() {\n    if (this.props.playerStore.selectedPlayerID) {\n      this.props.playerStore.fetchAllClaims();\n    }\n  }\n\n  render() {\n    const {\n      claimHistoryTableHeader,\n      claimHistoryTableRows,\n      selectedPlayerID\n    } = this.props.playerStore;\n    let tableRows = JSON.parse(JSON.stringify(claimHistoryTableRows));\n    let tableHeaders = JSON.parse(JSON.stringify(claimHistoryTableHeader));\n\n    if (tableHeaders && tableRows) {\n      const isViewPermission = checkRenderPermissions(permissions.CAN_SEE_CLAIM_DETAILS, JSON.parse(localStorage.getItem('userpolicies')));\n\n      if (isViewPermission) {\n        tableRows = tableRows.map(row => {\n          row.view = /*#__PURE__*/React.createElement(\"a\", {\n            onClick: () => this.handleClaimDetailClick(row),\n            className: \"claim-tab-link\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 40,\n              columnNumber: 32\n            }\n          }, \"View\");\n          return row;\n        });\n        tableHeaders.push({\n          key: 'view',\n          label: 'View'\n        });\n      }\n    }\n\n    if (!selectedPlayerID && !tableHeaders && !tableRows) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"player-search-container container-fluid\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"no-data-message\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 17\n        }\n      }, \"Error loading data...go back\"));\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"player-search-container container-fluid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 13\n      }\n    }, tableHeaders && tableRows ? /*#__PURE__*/React.createElement(ReactTable, {\n      tableHeader: tableHeaders,\n      rowData: tableRows,\n      noDataMessage: \"Player has no Claims\",\n      className: \"update-user-table\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 27\n      }\n    }) : null);\n  }\n\n}, _temp)) || _class) || _class);\nexport default ClaimHistory;","map":{"version":3,"sources":["C:/Users/tomsa/OneDrive/Desktop/Capstone/lottery/mslc-backoffice-client/v1/Code/src/Player/Tabs/ClaimHistory.js"],"names":["React","inject","observer","ReactTable","checkRenderPermissions","permissions","ClaimHistory","Component","constructor","props","handleClaimDetailClick","claimData","playerStore","setSelectedClaim","navigateToClaimDetails","id","selectedClaimId","history","push","componentDidMount","selectedPlayerID","fetchAllClaims","render","claimHistoryTableHeader","claimHistoryTableRows","tableRows","JSON","parse","stringify","tableHeaders","isViewPermission","CAN_SEE_CLAIM_DETAILS","localStorage","getItem","map","row","view","key","label"],"mappings":";;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,MAAR,EAAgBC,QAAhB,QAA+B,YAA/B;AACA,OAAO,YAAP;AACA,OAAOC,UAAP,MAAuB,iCAAvB;AACA,SAAQC,sBAAR,QAAqC,eAArC;AACA,SAAQC,WAAR,QAA0B,iBAA1B;IAIMC,Y,WAFLL,MAAM,CAAC,aAAD,C,gBACNC,Q,mBADD,MAEMI,YAFN,SAE2BN,KAAK,CAACO,SAFjC,CAE2C;AAEvCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SAUnBC,sBAVmB,GAUMC,SAAS,IAAI;AAClC,WAAKF,KAAL,CAAWG,WAAX,CAAuBC,gBAAvB,CAAwCF,SAAxC,EAAmD,KAAKG,sBAAxD;AACH,KAZkB;;AAAA,SAcnBA,sBAdmB,GAcM,MAAM;AAC3B,YAAMC,EAAE,GAAG,KAAKN,KAAL,CAAWG,WAAX,CAAuBI,eAAlC;AACA,WAAKP,KAAL,CAAWQ,OAAX,CAAmBC,IAAnB,CAAwB,YAAUH,EAAlC;AACH,KAjBkB;AAElB;;AAEDI,EAAAA,iBAAiB,GAAG;AAChB,QAAG,KAAKV,KAAL,CAAWG,WAAX,CAAuBQ,gBAA1B,EAA4C;AACxC,WAAKX,KAAL,CAAWG,WAAX,CAAuBS,cAAvB;AACH;AACJ;;AAWDC,EAAAA,MAAM,GAAG;AACL,UAAM;AAACC,MAAAA,uBAAD;AAA0BC,MAAAA,qBAA1B;AAAiDJ,MAAAA;AAAjD,QAAqE,KAAKX,KAAL,CAAWG,WAAtF;AACA,QAAIa,SAAS,GAAGC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAeJ,qBAAf,CAAX,CAAhB;AACA,QAAIK,YAAY,GAAGH,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAeL,uBAAf,CAAX,CAAnB;;AACA,QAAGM,YAAY,IAAIJ,SAAnB,EAA8B;AAC1B,YAAMK,gBAAgB,GAAG1B,sBAAsB,CAACC,WAAW,CAAC0B,qBAAb,EAC3CL,IAAI,CAACC,KAAL,CAAWK,YAAY,CAACC,OAAb,CAAqB,cAArB,CAAX,CAD2C,CAA/C;;AAEA,UAAGH,gBAAH,EAAqB;AACjBL,QAAAA,SAAS,GAAGA,SAAS,CAACS,GAAV,CAAcC,GAAG,IAAI;AAC7BA,UAAAA,GAAG,CAACC,IAAJ,gBAAW;AAAG,YAAA,OAAO,EAAE,MAAM,KAAK1B,sBAAL,CAA4ByB,GAA5B,CAAlB;AAAoD,YAAA,SAAS,EAAC,gBAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAX;AACA,iBAAOA,GAAP;AACH,SAHW,CAAZ;AAIAN,QAAAA,YAAY,CAACX,IAAb,CAAkB;AAACmB,UAAAA,GAAG,EAAE,MAAN;AAAcC,UAAAA,KAAK,EAAE;AAArB,SAAlB;AACH;AACJ;;AACD,QAAG,CAAClB,gBAAD,IAAqB,CAACS,YAAtB,IAAsC,CAACJ,SAA1C,EAAqD;AACjD,0BAAQ;AAAK,QAAA,SAAS,EAAC,yCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACJ;AAAK,QAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wCADI,CAAR;AAGH;;AAED,wBACI;AAAK,MAAA,SAAS,EAAC,yCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEQI,YAAY,IAAIJ,SAAhB,gBACM,oBAAC,UAAD;AAAY,MAAA,WAAW,EAAEI,YAAzB;AACY,MAAA,OAAO,EAAEJ,SADrB;AAEY,MAAA,aAAa,EAAC,sBAF1B;AAGY,MAAA,SAAS,EAAC,mBAHtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADN,GAKM,IAPd,CADJ;AAcH;;AAxDsC,C;AA4D3C,eAAenB,YAAf","sourcesContent":["import React from \"react\";\r\nimport {inject, observer} from \"mobx-react\";\r\nimport './Tabs.css';\r\nimport ReactTable from \"../../PaginatedTable/ReactTable\";\r\nimport {checkRenderPermissions} from \"../../helpers\";\r\nimport {permissions} from \"../../constants\";\r\n\r\n@inject('playerStore')\r\n@observer\r\nclass ClaimHistory extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    componentDidMount() {\r\n        if(this.props.playerStore.selectedPlayerID) {\r\n            this.props.playerStore.fetchAllClaims();\r\n        }\r\n    }\r\n\r\n    handleClaimDetailClick = claimData => {\r\n        this.props.playerStore.setSelectedClaim(claimData, this.navigateToClaimDetails);\r\n    }\r\n\r\n    navigateToClaimDetails = () => {\r\n        const id = this.props.playerStore.selectedClaimId;\r\n        this.props.history.push('/claim/'+id);\r\n    }\r\n\r\n    render() {\r\n        const {claimHistoryTableHeader, claimHistoryTableRows, selectedPlayerID} = this.props.playerStore;\r\n        let tableRows = JSON.parse(JSON.stringify(claimHistoryTableRows));\r\n        let tableHeaders = JSON.parse(JSON.stringify(claimHistoryTableHeader));\r\n        if(tableHeaders && tableRows) {\r\n            const isViewPermission = checkRenderPermissions(permissions.CAN_SEE_CLAIM_DETAILS,\r\n                JSON.parse(localStorage.getItem('userpolicies')));\r\n            if(isViewPermission) {\r\n                tableRows = tableRows.map(row => {\r\n                    row.view = <a onClick={() => this.handleClaimDetailClick(row)} className='claim-tab-link'>View</a>;\r\n                    return row;\r\n                });\r\n                tableHeaders.push({key: 'view', label: 'View'});\r\n            }\r\n        }\r\n        if(!selectedPlayerID && !tableHeaders && !tableRows) {\r\n            return (<div className='player-search-container container-fluid'>\r\n                <div className='no-data-message'>Error loading data...go back</div>\r\n            </div>);\r\n        }\r\n\r\n        return (\r\n            <div className='player-search-container container-fluid'>\r\n                {\r\n                    tableHeaders && tableRows\r\n                        ? <ReactTable tableHeader={tableHeaders}\r\n                                      rowData={tableRows}\r\n                                      noDataMessage='Player has no Claims'\r\n                                      className='update-user-table'/>\r\n                        : null\r\n                }\r\n            </div>\r\n\r\n        );\r\n\r\n    }\r\n\r\n}\r\n\r\nexport default ClaimHistory;\r\n"]},"metadata":{},"sourceType":"module"}