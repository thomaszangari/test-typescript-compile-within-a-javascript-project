{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\tomsa\\\\OneDrive\\\\Desktop\\\\ReactExampleCode\\\\test-typescript-compile-within-a-javascript-project\\\\Code\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\tomsa\\\\OneDrive\\\\Desktop\\\\ReactExampleCode\\\\test-typescript-compile-within-a-javascript-project\\\\Code\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\tomsa\\\\OneDrive\\\\Desktop\\\\ReactExampleCode\\\\test-typescript-compile-within-a-javascript-project\\\\Code\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\tomsa\\\\OneDrive\\\\Desktop\\\\ReactExampleCode\\\\test-typescript-compile-within-a-javascript-project\\\\Code\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from\"react\";import'./ClaimResearch.css';import{checkRenderPermissions}from\"../../helpers\";import{permissions}from\"../../constants\";import AppToast from\"../../toast\";import ClaimSearch from\"../claimsearch\";import config from\"../../config\";import ReactTable from\"../../PaginatedTable/ReactTable\";var ClaimResearch=/*#__PURE__*/function(_React$Component){_inherits(ClaimResearch,_React$Component);var _super=_createSuper(ClaimResearch);function ClaimResearch(props){var _this;_classCallCheck(this,ClaimResearch);_this=_super.call(this,props);_this.onToastClose=function(){_this.setState({showToast:false});};_this.handleSelectClick=function(event,id){event.preventDefault();_this.props.history.push(\"/claim/view/\".concat(id));};_this.setTableData=function(data){if(data.length===0){_this.setState({showToast:true,userList:[],tableHeader:[]});}else{var rows=data.map(function(d,index){d.idField=index+1;d.select=checkRenderPermissions(permissions.DO_CLAIM_RESEARCH,JSON.parse(localStorage.getItem('userpolicies')))?/*#__PURE__*/React.createElement(\"a\",{onClick:function onClick(e){return _this.handleSelectClick(e,d.id);},href:\"\",className:\"select-link\"},\"View\"):null;return d;});_this.setState({userList:rows});}};_this.onSearchClick=function(){var firstName=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'';var lastName=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'';var drawDate=arguments.length>2&&arguments[2]!==undefined?arguments[2]:'';var ticketStatus=arguments.length>3&&arguments[3]!==undefined?arguments[3]:'';var paymentStatus=arguments.length>4&&arguments[4]!==undefined?arguments[4]:'';var queryParams='limit=50';if(firstName&&firstName!==''){queryParams+=\"&firstname=\".concat(firstName);}if(lastName&&lastName!==''){queryParams+=\"&lastname=\".concat(lastName);}if(drawDate&&drawDate!==''){queryParams+=\"&drawdate=\".concat(drawDate);}if(ticketStatus&&ticketStatus!==''){queryParams+=\"&ticketstatus=\".concat(ticketStatus);}if(paymentStatus&&paymentStatus!==''){queryParams+=\"&paymentstatus=\".concat(paymentStatus);}fetch(\"\".concat(config.SERVER_BASE_URL,\"/v1/claim/search?\").concat(queryParams),{method:'GET',headers:{'Content-Type':'application/json'}}).then(function(response){return response.json();}).then(function(res){if(res&&res.error){_this.setState({errorMessage:res.error});}else{_this.setTableData(res);}}).catch(function(error){_this.setState({errorMessage:error.toString()});});};_this.state={userList:[],tableHeader:[{key:'ticketnumber',label:'Ticket#'},{key:'firstname',label:'First Name'},{key:'lastname',label:'Last Name'},{key:'drawdate',label:'Draw date'},{key:'ticketstatus',label:'Ticket Status'},{key:'select',label:'View'}],showToast:false};return _this;}_createClass(ClaimResearch,[{key:\"componentDidMount\",value:function componentDidMount(){}},{key:\"renderClaimResearch\",value:function renderClaimResearch(){var _this$state=this.state,tableHeader=_this$state.tableHeader,userList=_this$state.userList,showToast=_this$state.showToast;var msg='No Results found.';return/*#__PURE__*/React.createElement(\"div\",{className:\"claim-search-container container-fluid\"},/*#__PURE__*/React.createElement(\"div\",{className:\"claim-search-panel claim-search-child\"},/*#__PURE__*/React.createElement(ClaimSearch,{handleSearchClick:this.onSearchClick})),userList&&userList.length>0&&tableHeader?/*#__PURE__*/React.createElement(ReactTable,{tableHeader:tableHeader,rowData:userList,className:\"update-user-table\"}):null,showToast?/*#__PURE__*/React.createElement(AppToast,{showToast:showToast,message:msg,isSuccessMessage:true,handleClose:this.onToastClose}):null);}},{key:\"render\",value:function render(){var renderObj;if(checkRenderPermissions(permissions.SEE_CLAIM_SUPPORT,JSON.parse(localStorage.getItem('userpolicies')))&&checkRenderPermissions(permissions.DO_CLAIM_RESEARCH,JSON.parse(localStorage.getItem('userpolicies')))){renderObj=this.renderClaimResearch();}else{renderObj=/*#__PURE__*/React.createElement(\"h1\",{class:\"unauthorized-header\"},\"You do not have permission to view this page! Please contact your System Administrator!\");}return renderObj;}}]);return ClaimResearch;}(React.Component);export default ClaimResearch;","map":{"version":3,"sources":["C:/Users/tomsa/OneDrive/Desktop/ReactExampleCode/test-typescript-compile-within-a-javascript-project/Code/src/Claims/claimresearch/ClaimResearch.js"],"names":["React","checkRenderPermissions","permissions","AppToast","ClaimSearch","config","ReactTable","ClaimResearch","props","onToastClose","setState","showToast","handleSelectClick","event","id","preventDefault","history","push","setTableData","data","length","userList","tableHeader","rows","map","d","index","idField","select","DO_CLAIM_RESEARCH","JSON","parse","localStorage","getItem","e","onSearchClick","firstName","lastName","drawDate","ticketStatus","paymentStatus","queryParams","fetch","SERVER_BASE_URL","method","headers","then","response","json","res","error","errorMessage","catch","toString","state","key","label","msg","renderObj","SEE_CLAIM_SUPPORT","renderClaimResearch","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport './ClaimResearch.css';\r\nimport {checkRenderPermissions} from \"../../helpers\";\r\nimport {permissions} from \"../../constants\";\r\nimport AppToast from \"../../toast\";\r\nimport ClaimSearch from \"../claimsearch\";\r\nimport config from \"../../config\";\r\nimport ReactTable from \"../../PaginatedTable/ReactTable\";\r\n\r\nclass ClaimResearch extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            userList: [],\r\n            tableHeader: [\r\n                {key: 'ticketnumber', label: 'Ticket#'},\r\n                {key: 'firstname', label: 'First Name'},\r\n                {key: 'lastname', label: 'Last Name'},\r\n                {key: 'drawdate', label: 'Draw date'},\r\n                {key: 'ticketstatus', label: 'Ticket Status'},\r\n                {key: 'select', label: 'View'}\r\n            ],\r\n            showToast: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n    }\r\n\r\n    onToastClose = () => {\r\n        this.setState({showToast: false});\r\n    }\r\n\r\n    handleSelectClick = (event, id) => {\r\n        event.preventDefault();\r\n        this.props.history.push(`/claim/view/${id}`);\r\n    }\r\n\r\n    setTableData = (data) => {\r\n        if (data.length === 0) {\r\n            this.setState({showToast: true, userList: [], tableHeader: []});\r\n        } else {\r\n            const rows = data.map((d, index) => {\r\n                d.idField = index + 1;\r\n                d.select = checkRenderPermissions(permissions.DO_CLAIM_RESEARCH, JSON.parse(localStorage.getItem('userpolicies'))) ?\r\n                    <a onClick={(e) => this.handleSelectClick(e, d.id)} href='' className='select-link'>View</a> : null;\r\n                return d;\r\n            });\r\n\r\n            this.setState({userList: rows});\r\n        }\r\n    }\r\n\r\n    onSearchClick = (firstName = '', lastName = '', drawDate = '', ticketStatus = '', paymentStatus = '') => {\r\n\r\n        let queryParams = 'limit=50';\r\n        if (firstName && firstName !== '') {\r\n            queryParams += `&firstname=${firstName}`\r\n        }\r\n        if (lastName && lastName !== '') {\r\n            queryParams += `&lastname=${lastName}`\r\n        }\r\n        if (drawDate && drawDate !== '') {\r\n            queryParams += `&drawdate=${drawDate}`\r\n        }\r\n        if (ticketStatus && ticketStatus !== '') {\r\n            queryParams += `&ticketstatus=${ticketStatus}`\r\n        }\r\n        if (paymentStatus && paymentStatus !== '') {\r\n            queryParams += `&paymentstatus=${paymentStatus}`\r\n        }\r\n\r\n        fetch(`${config.SERVER_BASE_URL}/v1/claim/search?${queryParams}`, {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n        })\r\n            .then(response => response.json())\r\n            .then(res => {\r\n                if (res && res.error) {\r\n                    this.setState({errorMessage: res.error});\r\n                } else {\r\n                    this.setTableData(res);\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                this.setState({errorMessage: error.toString()});\r\n            });\r\n    }\r\n\r\n    renderClaimResearch() {\r\n        const {tableHeader, userList, showToast} = this.state;\r\n        const msg = 'No Results found.';\r\n        return (\r\n            <div className='claim-search-container container-fluid'>\r\n                <div className='claim-search-panel claim-search-child'>\r\n                    <ClaimSearch handleSearchClick={this.onSearchClick}/>\r\n                </div>\r\n                {\r\n                    userList && userList.length > 0 && tableHeader\r\n                        ? <ReactTable tableHeader={tableHeader} rowData={userList} className='update-user-table'/>\r\n                        : null\r\n                }\r\n                {\r\n                    showToast ? <AppToast showToast={showToast} message={msg} isSuccessMessage={true}\r\n                                          handleClose={this.onToastClose}/> : null\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n\r\n    render() {\r\n        var renderObj;\r\n\r\n        if (checkRenderPermissions(permissions.SEE_CLAIM_SUPPORT, JSON.parse(localStorage.getItem('userpolicies'))) &&\r\n            checkRenderPermissions(permissions.DO_CLAIM_RESEARCH, JSON.parse(localStorage.getItem('userpolicies')))) {\r\n            renderObj = this.renderClaimResearch();\r\n        } else {\r\n            renderObj =\r\n                <h1 class='unauthorized-header'>You do not have permission to view this page! Please contact your System\r\n                    Administrator!</h1>\r\n        }\r\n\r\n        return (\r\n            renderObj\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default ClaimResearch;\r\n"]},"metadata":{},"sourceType":"module"}