{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\tomsa\\\\OneDrive\\\\Desktop\\\\ReactExampleCode\\\\test-typescript-compile-within-a-javascript-project\\\\Code\\\\src\\\\Claims\\\\claimupdate\\\\ClaimUpdate.js\";\nimport React from \"react\";\nimport './ClaimUpdate.css';\nimport { checkRenderPermissions } from \"../../helpers\";\nimport { permissions } from \"../../constants\";\nimport config from \"../../config\";\nimport ClaimSearch from \"../claimsearch\";\nimport AppToast from \"../../toast\";\nimport ReactTable from \"../../PaginatedTable/ReactTable\";\n\nclass ClaimUpdate extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.onToastClose = () => {\n      this.setState({\n        showToast: false\n      });\n    };\n\n    this.handleSelectClick = (event, id) => {\n      event.preventDefault();\n      this.props.history.push(`/claim/edit/${id}`);\n    };\n\n    this.setTableData = data => {\n      if (data.length === 0) {\n        this.setState({\n          showToast: true,\n          userList: [],\n          tableHeader: []\n        });\n      } else {\n        const rows = data.map((d, index) => {\n          d.idField = index + 1;\n          d.select = checkRenderPermissions(permissions.UPDATE_CLAIMS, JSON.parse(localStorage.getItem('userpolicies'))) ? /*#__PURE__*/React.createElement(\"a\", {\n            onClick: e => this.handleSelectClick(e, d.id),\n            href: \"\",\n            className: \"select-link\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 42,\n              columnNumber: 21\n            }\n          }, \"Update\") : null;\n          return d;\n        });\n        const tableHeader = [{\n          key: 'ticketnumber',\n          label: 'Ticket#'\n        }, {\n          key: 'firstname',\n          label: 'First Name'\n        }, {\n          key: 'lastname',\n          label: 'Last Name'\n        }, {\n          key: 'drawdate',\n          label: 'Draw date'\n        }, {\n          key: 'ticketstatus',\n          label: 'Ticket Status'\n        }, {\n          key: 'select',\n          label: 'Update'\n        }];\n        this.setState({\n          tableHeader: tableHeader,\n          userList: rows\n        });\n      }\n    };\n\n    this.onSearchClick = (firstName = '', lastName = '', drawDate = '', ticketStatus = '', paymentStatus = '') => {\n      let queryParams = 'limit=50';\n\n      if (firstName && firstName !== '') {\n        queryParams += `&firstname=${firstName}`;\n      }\n\n      if (lastName && lastName !== '') {\n        queryParams += `&lastname=${lastName}`;\n      }\n\n      if (drawDate && drawDate !== '') {\n        queryParams += `&drawdate=${drawDate}`;\n      }\n\n      if (ticketStatus && ticketStatus !== '') {\n        queryParams += `&ticketstatus=${ticketStatus}`;\n      }\n\n      if (paymentStatus && paymentStatus !== '') {\n        queryParams += `&paymentstatus=${paymentStatus}`;\n      }\n\n      fetch(`${config.SERVER_BASE_URL}/v1/claim/search?${queryParams}`, {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }).then(response => response.json()).then(res => {\n        if (res && res.error) {\n          this.setState({\n            errorMessage: res.error\n          });\n        } else {\n          this.setTableData(res);\n        }\n      }).catch(error => {\n        this.setState({\n          errorMessage: error.toString()\n        });\n      });\n    };\n\n    this.state = {\n      userList: [],\n      tableHeader: [],\n      showToast: false\n    };\n  }\n\n  componentDidMount() {}\n\n  renderClaimUpdate() {\n    const {\n      tableHeader,\n      userList,\n      showToast\n    } = this.state;\n    const msg = 'No Results found.';\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"claim-search-container container-fluid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"claim-search-panel claim-search-child\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(ClaimSearch, {\n      handleSearchClick: this.onSearchClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 21\n      }\n    })), userList && userList.length > 0 && tableHeader ? /*#__PURE__*/React.createElement(ReactTable, {\n      tableHeader: tableHeader,\n      rowData: userList,\n      className: \"update-user-table\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 27\n      }\n    }) : null, showToast ? /*#__PURE__*/React.createElement(AppToast, {\n      showToast: showToast,\n      message: msg,\n      isSuccessMessage: true,\n      handleClose: this.onToastClose,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 33\n      }\n    }) : null);\n  }\n\n  render() {\n    var renderObj;\n\n    if (checkRenderPermissions(permissions.SEE_CLAIM_SUPPORT, JSON.parse(localStorage.getItem('userpolicies'))) && checkRenderPermissions(permissions.UPDATE_CLAIMS, JSON.parse(localStorage.getItem('userpolicies')))) {\n      renderObj = this.renderClaimUpdate();\n    } else {\n      renderObj = /*#__PURE__*/React.createElement(\"h1\", {\n        class: \"unauthorized-header\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 17\n        }\n      }, \"You do not have permission to view this page! Please contact your System Administrator!\");\n    }\n\n    return renderObj;\n  }\n\n}\n\nexport default ClaimUpdate;","map":{"version":3,"sources":["C:/Users/tomsa/OneDrive/Desktop/ReactExampleCode/test-typescript-compile-within-a-javascript-project/Code/src/Claims/claimupdate/ClaimUpdate.js"],"names":["React","checkRenderPermissions","permissions","config","ClaimSearch","AppToast","ReactTable","ClaimUpdate","Component","constructor","props","onToastClose","setState","showToast","handleSelectClick","event","id","preventDefault","history","push","setTableData","data","length","userList","tableHeader","rows","map","d","index","idField","select","UPDATE_CLAIMS","JSON","parse","localStorage","getItem","e","key","label","onSearchClick","firstName","lastName","drawDate","ticketStatus","paymentStatus","queryParams","fetch","SERVER_BASE_URL","method","headers","then","response","json","res","error","errorMessage","catch","toString","state","componentDidMount","renderClaimUpdate","msg","render","renderObj","SEE_CLAIM_SUPPORT"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport './ClaimUpdate.css';\r\nimport {checkRenderPermissions} from \"../../helpers\";\r\nimport {permissions} from \"../../constants\";\r\nimport config from \"../../config\";\r\nimport ClaimSearch from \"../claimsearch\";\r\nimport AppToast from \"../../toast\";\r\nimport ReactTable from \"../../PaginatedTable/ReactTable\";\r\n\r\n\r\nclass ClaimUpdate extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            userList: [],\r\n            tableHeader: [],\r\n            showToast: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n    }\r\n\r\n    onToastClose = () => {\r\n        this.setState({showToast: false});\r\n    }\r\n\r\n    handleSelectClick = (event, id) => {\r\n        event.preventDefault();\r\n        this.props.history.push(`/claim/edit/${id}`);\r\n    }\r\n\r\n    setTableData = (data) => {\r\n        if (data.length === 0) {\r\n            this.setState({showToast: true, userList: [], tableHeader: []});\r\n        } else {\r\n            const rows = data.map((d, index) => {\r\n                d.idField = index + 1;\r\n                d.select = checkRenderPermissions(permissions.UPDATE_CLAIMS, JSON.parse(localStorage.getItem('userpolicies'))) ?\r\n                    <a onClick={(e) => this.handleSelectClick(e, d.id)} href=''\r\n                       className='select-link'>Update</a> : null;\r\n                return d;\r\n            });\r\n\r\n            const tableHeader = [\r\n                {key: 'ticketnumber', label: 'Ticket#'},\r\n                {key: 'firstname', label: 'First Name'},\r\n                {key: 'lastname', label: 'Last Name'},\r\n                {key: 'drawdate', label: 'Draw date'},\r\n                {key: 'ticketstatus', label: 'Ticket Status'},\r\n                {key: 'select', label: 'Update'}\r\n            ];\r\n            this.setState({tableHeader: tableHeader, userList: rows});\r\n        }\r\n    }\r\n\r\n    onSearchClick = (firstName = '', lastName = '', drawDate = '', ticketStatus = '', paymentStatus = '') => {\r\n\r\n        let queryParams = 'limit=50';\r\n        if (firstName && firstName !== '') {\r\n            queryParams += `&firstname=${firstName}`\r\n        }\r\n        if (lastName && lastName !== '') {\r\n            queryParams += `&lastname=${lastName}`\r\n        }\r\n        if (drawDate && drawDate !== '') {\r\n            queryParams += `&drawdate=${drawDate}`\r\n        }\r\n        if (ticketStatus && ticketStatus !== '') {\r\n            queryParams += `&ticketstatus=${ticketStatus}`\r\n        }\r\n        if (paymentStatus && paymentStatus !== '') {\r\n            queryParams += `&paymentstatus=${paymentStatus}`\r\n        }\r\n\r\n        fetch(`${config.SERVER_BASE_URL}/v1/claim/search?${queryParams}`, {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n        })\r\n            .then(response => response.json())\r\n            .then(res => {\r\n                if (res && res.error) {\r\n                    this.setState({errorMessage: res.error});\r\n                } else {\r\n                    this.setTableData(res);\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                this.setState({errorMessage: error.toString()});\r\n            });\r\n    }\r\n\r\n    renderClaimUpdate() {\r\n        const {tableHeader, userList, showToast} = this.state;\r\n        const msg = 'No Results found.';\r\n        return (\r\n            <div className='claim-search-container container-fluid'>\r\n                <div className='claim-search-panel claim-search-child'>\r\n                    <ClaimSearch handleSearchClick={this.onSearchClick}/>\r\n                </div>\r\n                {\r\n                    userList && userList.length > 0 && tableHeader\r\n                        ? <ReactTable tableHeader={tableHeader} rowData={userList} className='update-user-table'/>\r\n                        : null\r\n                }\r\n                {\r\n                    showToast ? <AppToast showToast={showToast} message={msg} isSuccessMessage={true}\r\n                                          handleClose={this.onToastClose}/> : null\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n\r\n    render() {\r\n        var renderObj;\r\n\r\n        if (checkRenderPermissions(permissions.SEE_CLAIM_SUPPORT, JSON.parse(localStorage.getItem('userpolicies'))) &&\r\n            checkRenderPermissions(permissions.UPDATE_CLAIMS, JSON.parse(localStorage.getItem('userpolicies')))) {\r\n            renderObj = this.renderClaimUpdate();\r\n        } else {\r\n            renderObj =\r\n                <h1 class='unauthorized-header'>You do not have permission to view this page! Please contact your System\r\n                    Administrator!</h1>\r\n        }\r\n\r\n        return (\r\n            renderObj\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default ClaimUpdate;\r\n"]},"metadata":{},"sourceType":"module"}