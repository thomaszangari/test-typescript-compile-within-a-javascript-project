{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\tomsa\\\\OneDrive\\\\Desktop\\\\Capstone\\\\lottery\\\\mslc-backoffice-client\\\\v1\\\\Code\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\tomsa\\\\OneDrive\\\\Desktop\\\\Capstone\\\\lottery\\\\mslc-backoffice-client\\\\v1\\\\Code\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\tomsa\\\\OneDrive\\\\Desktop\\\\Capstone\\\\lottery\\\\mslc-backoffice-client\\\\v1\\\\Code\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\tomsa\\\\OneDrive\\\\Desktop\\\\Capstone\\\\lottery\\\\mslc-backoffice-client\\\\v1\\\\Code\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";var _dec,_class,_temp;import React from\"react\";import{inject,observer}from\"mobx-react\";import'./Tabs.css';import ReactTable from\"../../PaginatedTable/ReactTable\";import{checkRenderPermissions}from\"../../helpers\";import{permissions}from\"../../constants\";var ClaimHistory=(_dec=inject('playerStore'),_dec(_class=observer(_class=(_temp=/*#__PURE__*/function(_React$Component){_inherits(ClaimHistory,_React$Component);var _super=_createSuper(ClaimHistory);function ClaimHistory(props){var _this;_classCallCheck(this,ClaimHistory);_this=_super.call(this,props);_this.handleClaimDetailClick=function(claimData){_this.props.playerStore.setSelectedClaim(claimData,_this.navigateToClaimDetails);};_this.navigateToClaimDetails=function(){var id=_this.props.playerStore.selectedClaimId;_this.props.history.push('/claim/'+id);};return _this;}_createClass(ClaimHistory,[{key:\"componentDidMount\",value:function componentDidMount(){if(this.props.playerStore.selectedPlayerID){this.props.playerStore.fetchAllClaims();}}},{key:\"render\",value:function render(){var _this2=this;var _this$props$playerSto=this.props.playerStore,claimHistoryTableHeader=_this$props$playerSto.claimHistoryTableHeader,claimHistoryTableRows=_this$props$playerSto.claimHistoryTableRows,selectedPlayerID=_this$props$playerSto.selectedPlayerID;var tableRows=JSON.parse(JSON.stringify(claimHistoryTableRows));var tableHeaders=JSON.parse(JSON.stringify(claimHistoryTableHeader));if(tableHeaders&&tableRows){var isViewPermission=checkRenderPermissions(permissions.CAN_SEE_CLAIM_DETAILS,JSON.parse(localStorage.getItem('userpolicies')));if(isViewPermission){tableRows=tableRows.map(function(row){row.view=/*#__PURE__*/React.createElement(\"a\",{onClick:function onClick(){return _this2.handleClaimDetailClick(row);},className:\"claim-tab-link\"},\"View\");return row;});tableHeaders.push({key:'view',label:'View'});}}if(!selectedPlayerID&&!tableHeaders&&!tableRows){return/*#__PURE__*/React.createElement(\"div\",{className:\"player-search-container container-fluid\"},/*#__PURE__*/React.createElement(\"div\",{className:\"no-data-message\"},\"Error loading data...go back\"));}return/*#__PURE__*/React.createElement(\"div\",{className:\"player-search-container container-fluid\"},tableHeaders&&tableRows?/*#__PURE__*/React.createElement(ReactTable,{tableHeader:tableHeaders,rowData:tableRows,noDataMessage:\"Player has no Claims\",className:\"update-user-table\"}):null);}}]);return ClaimHistory;}(React.Component),_temp))||_class)||_class);export default ClaimHistory;","map":{"version":3,"sources":["C:/Users/tomsa/OneDrive/Desktop/Capstone/lottery/mslc-backoffice-client/v1/Code/src/Player/Tabs/ClaimHistory.js"],"names":["React","inject","observer","ReactTable","checkRenderPermissions","permissions","ClaimHistory","props","handleClaimDetailClick","claimData","playerStore","setSelectedClaim","navigateToClaimDetails","id","selectedClaimId","history","push","selectedPlayerID","fetchAllClaims","claimHistoryTableHeader","claimHistoryTableRows","tableRows","JSON","parse","stringify","tableHeaders","isViewPermission","CAN_SEE_CLAIM_DETAILS","localStorage","getItem","map","row","view","key","label","Component"],"mappings":"s1BAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,MAAR,CAAgBC,QAAhB,KAA+B,YAA/B,CACA,MAAO,YAAP,CACA,MAAOC,CAAAA,UAAP,KAAuB,iCAAvB,CACA,OAAQC,sBAAR,KAAqC,eAArC,CACA,OAAQC,WAAR,KAA0B,iBAA1B,C,GAIMC,CAAAA,Y,OAFLL,MAAM,CAAC,aAAD,C,aACNC,Q,sIAGG,sBAAYK,KAAZ,CAAmB,8CACf,uBAAMA,KAAN,EADe,MAUnBC,sBAVmB,CAUM,SAAAC,SAAS,CAAI,CAClC,MAAKF,KAAL,CAAWG,WAAX,CAAuBC,gBAAvB,CAAwCF,SAAxC,CAAmD,MAAKG,sBAAxD,EACH,CAZkB,OAcnBA,sBAdmB,CAcM,UAAM,CAC3B,GAAMC,CAAAA,EAAE,CAAG,MAAKN,KAAL,CAAWG,WAAX,CAAuBI,eAAlC,CACA,MAAKP,KAAL,CAAWQ,OAAX,CAAmBC,IAAnB,CAAwB,UAAUH,EAAlC,EACH,CAjBkB,cAElB,C,sFAEmB,CAChB,GAAG,KAAKN,KAAL,CAAWG,WAAX,CAAuBO,gBAA1B,CAA4C,CACxC,KAAKV,KAAL,CAAWG,WAAX,CAAuBQ,cAAvB,GACH,CACJ,C,uCAWQ,2CACsE,KAAKX,KAAL,CAAWG,WADjF,CACES,uBADF,uBACEA,uBADF,CAC2BC,qBAD3B,uBAC2BA,qBAD3B,CACkDH,gBADlD,uBACkDA,gBADlD,CAEL,GAAII,CAAAA,SAAS,CAAGC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAeJ,qBAAf,CAAX,CAAhB,CACA,GAAIK,CAAAA,YAAY,CAAGH,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAeL,uBAAf,CAAX,CAAnB,CACA,GAAGM,YAAY,EAAIJ,SAAnB,CAA8B,CAC1B,GAAMK,CAAAA,gBAAgB,CAAGtB,sBAAsB,CAACC,WAAW,CAACsB,qBAAb,CAC3CL,IAAI,CAACC,KAAL,CAAWK,YAAY,CAACC,OAAb,CAAqB,cAArB,CAAX,CAD2C,CAA/C,CAEA,GAAGH,gBAAH,CAAqB,CACjBL,SAAS,CAAGA,SAAS,CAACS,GAAV,CAAc,SAAAC,GAAG,CAAI,CAC7BA,GAAG,CAACC,IAAJ,cAAW,yBAAG,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACxB,sBAAL,CAA4BuB,GAA5B,CAAN,EAAZ,CAAoD,SAAS,CAAC,gBAA9D,SAAX,CACA,MAAOA,CAAAA,GAAP,CACH,CAHW,CAAZ,CAIAN,YAAY,CAACT,IAAb,CAAkB,CAACiB,GAAG,CAAE,MAAN,CAAcC,KAAK,CAAE,MAArB,CAAlB,EACH,CACJ,CACD,GAAG,CAACjB,gBAAD,EAAqB,CAACQ,YAAtB,EAAsC,CAACJ,SAA1C,CAAqD,CACjD,mBAAQ,2BAAK,SAAS,CAAC,yCAAf,eACJ,2BAAK,SAAS,CAAC,iBAAf,iCADI,CAAR,CAGH,CAED,mBACI,2BAAK,SAAS,CAAC,yCAAf,EAEQI,YAAY,EAAIJ,SAAhB,cACM,oBAAC,UAAD,EAAY,WAAW,CAAEI,YAAzB,CACY,OAAO,CAAEJ,SADrB,CAEY,aAAa,CAAC,sBAF1B,CAGY,SAAS,CAAC,mBAHtB,EADN,CAKM,IAPd,CADJ,CAcH,C,0BAxDsBrB,KAAK,CAACmC,S,4BA4DjC,cAAe7B,CAAAA,YAAf","sourcesContent":["import React from \"react\";\r\nimport {inject, observer} from \"mobx-react\";\r\nimport './Tabs.css';\r\nimport ReactTable from \"../../PaginatedTable/ReactTable\";\r\nimport {checkRenderPermissions} from \"../../helpers\";\r\nimport {permissions} from \"../../constants\";\r\n\r\n@inject('playerStore')\r\n@observer\r\nclass ClaimHistory extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    componentDidMount() {\r\n        if(this.props.playerStore.selectedPlayerID) {\r\n            this.props.playerStore.fetchAllClaims();\r\n        }\r\n    }\r\n\r\n    handleClaimDetailClick = claimData => {\r\n        this.props.playerStore.setSelectedClaim(claimData, this.navigateToClaimDetails);\r\n    }\r\n\r\n    navigateToClaimDetails = () => {\r\n        const id = this.props.playerStore.selectedClaimId;\r\n        this.props.history.push('/claim/'+id);\r\n    }\r\n\r\n    render() {\r\n        const {claimHistoryTableHeader, claimHistoryTableRows, selectedPlayerID} = this.props.playerStore;\r\n        let tableRows = JSON.parse(JSON.stringify(claimHistoryTableRows));\r\n        let tableHeaders = JSON.parse(JSON.stringify(claimHistoryTableHeader));\r\n        if(tableHeaders && tableRows) {\r\n            const isViewPermission = checkRenderPermissions(permissions.CAN_SEE_CLAIM_DETAILS,\r\n                JSON.parse(localStorage.getItem('userpolicies')));\r\n            if(isViewPermission) {\r\n                tableRows = tableRows.map(row => {\r\n                    row.view = <a onClick={() => this.handleClaimDetailClick(row)} className='claim-tab-link'>View</a>;\r\n                    return row;\r\n                });\r\n                tableHeaders.push({key: 'view', label: 'View'});\r\n            }\r\n        }\r\n        if(!selectedPlayerID && !tableHeaders && !tableRows) {\r\n            return (<div className='player-search-container container-fluid'>\r\n                <div className='no-data-message'>Error loading data...go back</div>\r\n            </div>);\r\n        }\r\n\r\n        return (\r\n            <div className='player-search-container container-fluid'>\r\n                {\r\n                    tableHeaders && tableRows\r\n                        ? <ReactTable tableHeader={tableHeaders}\r\n                                      rowData={tableRows}\r\n                                      noDataMessage='Player has no Claims'\r\n                                      className='update-user-table'/>\r\n                        : null\r\n                }\r\n            </div>\r\n\r\n        );\r\n\r\n    }\r\n\r\n}\r\n\r\nexport default ClaimHistory;\r\n"]},"metadata":{},"sourceType":"module"}