{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\tomsa\\\\OneDrive\\\\Desktop\\\\ReactExampleCode\\\\test-typescript-compile-within-a-javascript-project\\\\Code\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\tomsa\\\\OneDrive\\\\Desktop\\\\ReactExampleCode\\\\test-typescript-compile-within-a-javascript-project\\\\Code\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\tomsa\\\\OneDrive\\\\Desktop\\\\ReactExampleCode\\\\test-typescript-compile-within-a-javascript-project\\\\Code\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\tomsa\\\\OneDrive\\\\Desktop\\\\ReactExampleCode\\\\test-typescript-compile-within-a-javascript-project\\\\Code\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";var _dec,_class,_temp;import React from\"react\";import{Button,Modal}from\"react-bootstrap\";import{inject,observer}from\"mobx-react\";import'./Tabs.css';import AppTextbox from\"../../AppTextbox\";import DatePicker from\"react-datepicker\";import{AddressStateCodes}from\"../../Constants/AddressStateCodes\";import{GenderCodes}from\"../../Constants/GenderCodes\";import{checkRenderPermissions}from\"../../helpers\";import{permissions}from\"../../constants\";var UpdateProfile=(_dec=inject('playerStore'),_dec(_class=observer(_class=(_temp=/*#__PURE__*/function(_React$Component){_inherits(UpdateProfile,_React$Component);var _super=_createSuper(UpdateProfile);function UpdateProfile(props){var _this;_classCallCheck(this,UpdateProfile);_this=_super.call(this,props);_this.handleSubmit=function(){_this.props.playerStore.setShowUpdateModal(true);};_this.onSubmitCancel=function(){_this.props.playerStore.setShowUpdateModal(false);};_this.onRejectCancel=function(){_this.setState({showCancelPopup:false},function(){return _this.props.handlePopup(false);});};_this.onCancel=function(){_this.setState({showCancelPopup:false},function(){return _this.props.handlePopup(true);});};_this.handleCancel=function(){if(_this.state.isFieldsEdited)_this.setState({showCancelPopup:true});else _this.props.history.goBack();};_this.handleToastClose=function(){var navigateToFirstTab=_this.props.playerStore.successMessage;_this.props.playerStore.setToast(false);if(navigateToFirstTab)_this.props.navigateToFirstTab();};_this.callbackToParent=function(){var isFieldsEdited=_this.state.isFieldsEdited;var flag=isFieldsEdited;_this.props.onUpdate(flag);};_this.handleSSNOnClick=function(e,stateName){//const val = e.target.value;\n_this.props.playerStore.updateUserDetails('',stateName);_this.setState({isFieldsEdited:true},function(){return _this.callbackToParent();});};_this.handleSSNChange=function(e,stateName){var val=e.target.value.replace(/\\D/g,'');//var val = this.value.replace(/\\D/g, '');\nvar newVal='';if(val.length>4){_this.value=val;}if(val.length>3&&val.length<6){newVal+=val.substr(0,3)+'-';val=val.substr(3);}if(val.length>5){newVal+=val.substr(0,3)+'-';newVal+=val.substr(3,2)+'-';val=val.substr(5);}newVal+=val;//this.value = newVal;\n_this.props.playerStore.updateUserDetails(newVal,stateName);};_this.handleInputChange=function(e,stateName){var val=e.target.value;_this.props.playerStore.updateUserDetails(val,stateName);_this.setState({isFieldsEdited:true},function(){return _this.callbackToParent();});};_this.isEmailValid=function(email){return email.match(/^([\\w.%+-]+)@([\\w-]+\\.)+([\\w]{2,})$/i);};_this.isPhoneNumberValid=function(phone){return phone.match(/^[0-9\\b]+$/)&&phone.length==10;};_this.isZipcodeValid=function(zip5){return zip5.match(/^[0-9\\b]+$/)&&zip5.length==5;};_this.isAddr1Valid=function(addr1){return addr1&&addr1.trim().length>0;};_this.isCityValid=function(city){return city&&city.trim().length>0;};_this.isStateValid=function(addrState){return addrState&&addrState.trim().length>0;};_this.isSSNValid=function(ssn){return ssn&&ssn.trim().length==11;};_this.handleEmailChange=function(e,stateName){var val=e.target.value;_this.props.playerStore.updateUserEmail(val,stateName);_this.setState({isFieldsEdited:true},function(){return _this.callbackToParent();});};_this.handleCheckboxChange=function(e,stateName){var val=e.target.checked;if(stateName==='termsAcceptedDate'){val=val?new Date(val):null;}_this.props.playerStore.updateUserDetails(val,stateName);_this.setState({isFieldsEdited:true},function(){return _this.callbackToParent();});};_this.handleSelectChange=function(e,stateName){var value=e.target.value;if(stateName==='gender'){_this.props.playerStore.updateUserDetails(value,'gender');}else if(stateName==='state'){_this.props.playerStore.updateUserDetails(value,'state');}_this.setState({isFieldsEdited:true},function(){return _this.callbackToParent();});};_this.handleDateChange=function(selected){var dateString=new Date(selected);var monthString=dateString.getMonth()+1;var dayString=dateString.getDate();var yearString=dateString.getFullYear();var timeString='T00:00:00';dateString=yearString+\"-\"+(\"0\"+monthString).slice(-2)+\"-\"+(\"0\"+dayString).slice(-2)+\"\"+timeString;_this.props.playerStore.updatePlayerDateOfBirth(dateString);};_this.APICallback=function(){_this.props.playerStore.updatePlayer();};_this.onYes=function(){_this.setState({onYesClicked:true},function(){return _this.APICallback();});};_this.state={isValidEmail:false,isValidPhone:false,isFieldsEdited:false,showCancelPopup:false,onYesClicked:false};return _this;}_createClass(UpdateProfile,[{key:\"render\",value:function render(){var _this2=this;var isDisabled=false;var date18YearAgo=new Date();date18YearAgo.setFullYear(date18YearAgo.getFullYear()-18);var showBackConfirm=this.props.showBackConfirm;var _this$props$playerSto=this.props.playerStore,selectedPlayerDetails=_this$props$playerSto.selectedPlayerDetails,showUpdateModal=_this$props$playerSto.showUpdateModal,showToast=_this$props$playerSto.showToast,successMessage=_this$props$playerSto.successMessage,errorMessage=_this$props$playerSto.errorMessage;if(selectedPlayerDetails&&selectedPlayerDetails.identity&&selectedPlayerDetails.account){var showCancelPopup=this.state.showCancelPopup;var identity=selectedPlayerDetails.identity,account=selectedPlayerDetails.account;var firstName=identity.firstName,lastName=identity.lastName,gender=identity.gender,dateOfBirth=identity.dateOfBirth,ssn=identity.ssn,phone=identity.phone,address1=identity.address1,address2=identity.address2,city=identity.city,state=identity.state,zip5=identity.zip5,acceptedEmailCommunication=identity.acceptedEmailCommunication,acceptedSmsCommunication=identity.acceptedSmsCommunication,termsAcceptedDate=identity.termsAcceptedDate;var email=account.email;isDisabled=!this.isEmailValid(email)||!this.isPhoneNumberValid(phone)||!this.isZipcodeValid(zip5)||!this.isAddr1Valid(address1)||!this.isCityValid(city)||!this.isStateValid(state)||!this.isSSNValid(ssn);return/*#__PURE__*/React.createElement(\"div\",{className:\"player-details-container container-fluid \"},/*#__PURE__*/React.createElement(Modal,{show:showCancelPopup||showBackConfirm,centered:true},/*#__PURE__*/React.createElement(Modal.Body,null,/*#__PURE__*/React.createElement(\"div\",{className:\"player-details-label\"},\"Are you sure you would like to cancel? All unsaved changes will be lost.\")),/*#__PURE__*/React.createElement(Modal.Footer,null,/*#__PURE__*/React.createElement(Button,{variant:\"secondary\",onClick:function onClick(e){return _this2.onRejectCancel(e);}},\"No\"),/*#__PURE__*/React.createElement(Button,{variant:\"primary\",onClick:function onClick(e){return _this2.onCancel(e);}},\"Yes\"))),/*#__PURE__*/React.createElement(Modal,{show:showUpdateModal,centered:true},/*#__PURE__*/React.createElement(Modal.Body,null,/*#__PURE__*/React.createElement(\"div\",{className:\"player-details-label\"},\"Are you sure you would like to Submit?\")),/*#__PURE__*/React.createElement(Modal.Footer,null,/*#__PURE__*/React.createElement(Button,{variant:\"secondary\",onClick:function onClick(e){return _this2.onSubmitCancel(e);}},\"No\"),/*#__PURE__*/React.createElement(Button,{variant:\"primary\",onClick:function onClick(){return _this2.onYes();}},\"Yes\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"player-details-panel\"},/*#__PURE__*/React.createElement(\"div\",{className:\"player-details-child \"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"player-details-label\"},\"First Name\"),/*#__PURE__*/React.createElement(AppTextbox,{type:\"text\",placeholder:\"Enter First Name \",value:firstName,onChange:function onChange(e){return _this2.handleInputChange(e,'firstName');}})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"player-details-label\"},\"Last Name\"),/*#__PURE__*/React.createElement(AppTextbox,{type:\"text\",placeholder:\"Enter last Name \",value:lastName,onChange:function onChange(e){return _this2.handleInputChange(e,'lastName');}})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"player-details-label\"},\"SSN\"),checkRenderPermissions(permissions.CAN_UPDATE_PLAYER_SSN,JSON.parse(localStorage.getItem('userpolicies')))?/*#__PURE__*/React.createElement(AppTextbox,{type:\"text\",maxlength:\"11\",placeholder:\"Enter SSN\",value:ssn,onChange:function onChange(e){return _this2.handleSSNChange(e,'ssn');},onClick:function onClick(e){return _this2.handleSSNOnClick(e,'ssn');}}):/*#__PURE__*/React.createElement(\"div\",{className:\"player-details-value\"},ssn),!this.isSSNValid(ssn)?/*#__PURE__*/React.createElement(\"div\",{className:\"player-invalid-email\"},\"Invalid SSN\"):null),/*#__PURE__*/React.createElement(\"div\",{className:\"col-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"player-details-label\"},\"Date of Birth\"),/*#__PURE__*/React.createElement(DatePicker,{popperPlacement:\"bottom-end\",selected:dateOfBirth?new Date(dateOfBirth):null,maxDate:date18YearAgo,onChange:function onChange(date){return _this2.handleDateChange(date);}}))),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"player-details-label\"},\"Gender\"),/*#__PURE__*/React.createElement(\"select\",{value:gender,onChange:function onChange(e){return _this2.handleSelectChange(e,'gender');}},/*#__PURE__*/React.createElement(\"option\",{selected:true,disabled:true,value:\"\"},\"Select\"),GenderCodes.map(function(g){return/*#__PURE__*/React.createElement(\"option\",{value:g},g);}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"player-details-label\"},\"Mailing Address 1\"),/*#__PURE__*/React.createElement(AppTextbox,{type:\"text\",placeholder:\"Enter address1 \",value:address1,onChange:function onChange(e){return _this2.handleInputChange(e,'address1');}}),!this.isAddr1Valid(address1)?/*#__PURE__*/React.createElement(\"div\",{className:\"player-invalid-email\"},\"Invalid Address 1\"):null),/*#__PURE__*/React.createElement(\"div\",{className:\"col-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"player-details-label\"},\"Mailing Address 2\"),/*#__PURE__*/React.createElement(AppTextbox,{type:\"text\",placeholder:\"Enter address2 \",value:address2,onChange:function onChange(e){return _this2.handleInputChange(e,'address2');}})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"player-details-label\"},\"City\"),/*#__PURE__*/React.createElement(AppTextbox,{type:\"text\",placeholder:\"Enter city\",value:city,onChange:function onChange(e){return _this2.handleInputChange(e,'city');}}),!this.isCityValid(city)?/*#__PURE__*/React.createElement(\"div\",{className:\"player-invalid-email\"},\"Invalid City\"):null)),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"player-details-label\"},\"State\"),/*#__PURE__*/React.createElement(\"select\",{value:state,onChange:function onChange(e){return _this2.handleSelectChange(e,'state');}},/*#__PURE__*/React.createElement(\"option\",{selected:true,disabled:true,value:\"\"},\"Select\"),AddressStateCodes.map(function(g){return/*#__PURE__*/React.createElement(\"option\",{value:g},g);}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"player-details-label\"},\"Zipcode\"),/*#__PURE__*/React.createElement(AppTextbox,{type:\"text\",placeholder:\"Enter zipcode \",value:zip5,maxlength:\"5\",onChange:function onChange(e){return _this2.handleInputChange(e,'zip5');}}),!this.isZipcodeValid(zip5)&&zip5.length?/*#__PURE__*/React.createElement(\"div\",{className:\"player-invalid-email\"},\"Invalid Zipcode\"):null),/*#__PURE__*/React.createElement(\"div\",{className:\"col-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"player-details-label\"},\"Email\"),/*#__PURE__*/React.createElement(AppTextbox,{type:\"text\",placeholder:\"Enter email \",value:email,onChange:function onChange(e){return _this2.handleEmailChange(e,'email');}}),!this.isEmailValid(email)&&email.length?/*#__PURE__*/React.createElement(\"div\",{className:\"player-invalid-email\"},\"Invalid Email\"):null),/*#__PURE__*/React.createElement(\"div\",{className:\"col-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"player-details-label\"},\"Phone\"),/*#__PURE__*/React.createElement(AppTextbox,{type:\"text\",placeholder:\"Enter Cellphone \",value:phone,maxlength:\"10\",onChange:function onChange(e){return _this2.handleInputChange(e,'phone');}}),!this.isPhoneNumberValid(phone)&&phone.length?/*#__PURE__*/React.createElement(\"div\",{className:\"player-invalid-email\"},\"Phone should be 10 digit\"):null)),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"player-details-label\"},\"Email Opt-In\"),/*#__PURE__*/React.createElement(\"input\",{type:\"checkbox\",id:\"EmailOptInCheck\",checked:acceptedEmailCommunication,onChange:function onChange(e){return _this2.handleCheckboxChange(e,'acceptedEmailCommunication');}})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"player-details-label\"},\"SMS Opt-In\"),/*#__PURE__*/React.createElement(\"input\",{type:\"checkbox\",id:\"SMSOptInCheck\",checked:acceptedSmsCommunication,onChange:function onChange(e){return _this2.handleCheckboxChange(e,'acceptedSmsCommunication');}})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"player-details-label\"},\"T&C Terms Accept\"),/*#__PURE__*/React.createElement(\"input\",{type:\"checkbox\",id:\"TnCTermsAcceptCheck\",checked:termsAcceptedDate,disabled:true})))),/*#__PURE__*/React.createElement(\"hr\",{className:\"separator\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"row player-button-row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"offset-6 col-3 button-column\"},/*#__PURE__*/React.createElement(Button,{disabled:isDisabled,className:\"player-details-btn\",onClick:function onClick(){return _this2.handleSubmit();}},\"Submit\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-3 button-column\"},/*#__PURE__*/React.createElement(Button,{className:\"player-details-btn \",onClick:function onClick(){return _this2.handleCancel();}},\"Cancel\")))));}else{return/*#__PURE__*/React.createElement(\"div\",{className:\"player-details-container container-fluid\"},/*#__PURE__*/React.createElement(\"div\",{className:\"no-data-message\"},\"Error loading data...go back\"));}}}]);return UpdateProfile;}(React.Component),_temp))||_class)||_class);export default UpdateProfile;","map":{"version":3,"sources":["C:/Users/tomsa/OneDrive/Desktop/ReactExampleCode/test-typescript-compile-within-a-javascript-project/Code/src/Player/Tabs/UpdateProfile.js"],"names":["React","Button","Modal","inject","observer","AppTextbox","DatePicker","AddressStateCodes","GenderCodes","checkRenderPermissions","permissions","UpdateProfile","props","handleSubmit","playerStore","setShowUpdateModal","onSubmitCancel","onRejectCancel","setState","showCancelPopup","handlePopup","onCancel","handleCancel","state","isFieldsEdited","history","goBack","handleToastClose","navigateToFirstTab","successMessage","setToast","callbackToParent","flag","onUpdate","handleSSNOnClick","e","stateName","updateUserDetails","handleSSNChange","val","target","value","replace","newVal","length","substr","handleInputChange","isEmailValid","email","match","isPhoneNumberValid","phone","isZipcodeValid","zip5","isAddr1Valid","addr1","trim","isCityValid","city","isStateValid","addrState","isSSNValid","ssn","handleEmailChange","updateUserEmail","handleCheckboxChange","checked","Date","handleSelectChange","handleDateChange","selected","dateString","monthString","getMonth","dayString","getDate","yearString","getFullYear","timeString","slice","updatePlayerDateOfBirth","APICallback","updatePlayer","onYes","onYesClicked","isValidEmail","isValidPhone","isDisabled","date18YearAgo","setFullYear","showBackConfirm","selectedPlayerDetails","showUpdateModal","showToast","errorMessage","identity","account","firstName","lastName","gender","dateOfBirth","address1","address2","acceptedEmailCommunication","acceptedSmsCommunication","termsAcceptedDate","CAN_UPDATE_PLAYER_SSN","JSON","parse","localStorage","getItem","date","map","g","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport {Button, Modal} from \"react-bootstrap\";\r\nimport {inject, observer} from \"mobx-react\";\r\nimport './Tabs.css';\r\nimport AppTextbox from \"../../AppTextbox\";\r\nimport DatePicker from \"react-datepicker\";\r\nimport {AddressStateCodes} from \"../../Constants/AddressStateCodes\";\r\nimport {GenderCodes} from \"../../Constants/GenderCodes\";\r\nimport {checkRenderPermissions} from \"../../helpers\";\r\nimport {permissions} from \"../../constants\";\r\n\r\n@inject('playerStore')\r\n@observer\r\nclass UpdateProfile extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            isValidEmail: false,\r\n            isValidPhone: false,\r\n            isFieldsEdited: false,\r\n            showCancelPopup: false,\r\n            onYesClicked: false\r\n        }\r\n    }\r\n\r\n    handleSubmit = () => {\r\n        this.props.playerStore.setShowUpdateModal(true);\r\n    }\r\n    onSubmitCancel = () => {\r\n        this.props.playerStore.setShowUpdateModal(false)\r\n    }\r\n    onRejectCancel = () => {\r\n        this.setState({showCancelPopup: false}, () => this.props.handlePopup(false));\r\n    }\r\n    onCancel = () => {\r\n        this.setState({showCancelPopup: false}, () => this.props.handlePopup(true));\r\n    }\r\n\r\n    handleCancel = () => {\r\n        if (this.state.isFieldsEdited)\r\n            this.setState({showCancelPopup: true});\r\n        else\r\n            this.props.history.goBack();\r\n    }\r\n\r\n    handleToastClose = () => {\r\n        const navigateToFirstTab = this.props.playerStore.successMessage;\r\n        this.props.playerStore.setToast(false);\r\n        if (navigateToFirstTab)\r\n            this.props.navigateToFirstTab();\r\n    }\r\n\r\n    callbackToParent = () => {\r\n        const {isFieldsEdited} = this.state;\r\n        const flag = isFieldsEdited;\r\n        this.props.onUpdate(flag);\r\n    }\r\n\r\n    handleSSNOnClick = (e, stateName) => {\r\n        //const val = e.target.value;\r\n        this.props.playerStore.updateUserDetails('', stateName);\r\n        this.setState({isFieldsEdited: true}, () => this.callbackToParent());\r\n    }\r\n\r\n    handleSSNChange = (e, stateName) => {\r\n        let val = e.target.value.replace(/\\D/g, '');\r\n        //var val = this.value.replace(/\\D/g, '');\r\n        var newVal = '';\r\n        if (val.length > 4) {\r\n            this.value = val;\r\n        }\r\n        if ((val.length > 3) && (val.length < 6)) {\r\n            newVal += val.substr(0, 3) + '-';\r\n            val = val.substr(3);\r\n        }\r\n        if (val.length > 5) {\r\n            newVal += val.substr(0, 3) + '-';\r\n            newVal += val.substr(3, 2) + '-';\r\n            val = val.substr(5);\r\n        }\r\n        newVal += val;\r\n        //this.value = newVal;\r\n        this.props.playerStore.updateUserDetails(newVal, stateName);\r\n    }\r\n\r\n\r\n    handleInputChange = (e, stateName) => {\r\n        const val = e.target.value;\r\n        this.props.playerStore.updateUserDetails(val, stateName);\r\n        this.setState({isFieldsEdited: true}, () => this.callbackToParent());\r\n    }\r\n\r\n    isEmailValid = (email) => {\r\n        return email.match(/^([\\w.%+-]+)@([\\w-]+\\.)+([\\w]{2,})$/i);\r\n    }\r\n\r\n    isPhoneNumberValid = (phone) => {\r\n        return phone.match(/^[0-9\\b]+$/) && phone.length == 10;\r\n    }\r\n\r\n    isZipcodeValid = (zip5) => {\r\n        return zip5.match(/^[0-9\\b]+$/) && zip5.length == 5;\r\n    }\r\n\r\n    isAddr1Valid = (addr1) => {\r\n        return addr1 && addr1.trim().length > 0;\r\n    }\r\n\r\n    isCityValid = (city) => {\r\n        return city && city.trim().length > 0;\r\n    }\r\n\r\n    isStateValid = (addrState) => {\r\n        return addrState && addrState.trim().length > 0;\r\n    }\r\n\r\n    isSSNValid = (ssn) => {\r\n        return ssn && ssn.trim().length == 11;\r\n    }\r\n\r\n    handleEmailChange = (e, stateName) => {\r\n        const val = (e.target.value);\r\n        this.props.playerStore.updateUserEmail(val, stateName);\r\n        this.setState({isFieldsEdited: true}, () => this.callbackToParent());\r\n    }\r\n\r\n    handleCheckboxChange = (e, stateName) => {\r\n        let val = (e.target.checked);\r\n        if (stateName === 'termsAcceptedDate') {\r\n            val = val ? new Date(val) : null;\r\n        }\r\n        this.props.playerStore.updateUserDetails(val, stateName);\r\n        this.setState({isFieldsEdited: true}, () => this.callbackToParent());\r\n    }\r\n\r\n    handleSelectChange = (e, stateName) => {\r\n        const value = e.target.value;\r\n        if (stateName === 'gender') {\r\n            this.props.playerStore.updateUserDetails(value, 'gender');\r\n        } else if (stateName === 'state') {\r\n            this.props.playerStore.updateUserDetails(value, 'state');\r\n        }\r\n        this.setState({isFieldsEdited: true}, () => this.callbackToParent());\r\n    }\r\n\r\n    handleDateChange = (selected) => {\r\n        let dateString = new Date(selected);\r\n        let monthString = dateString.getMonth() + 1;\r\n        let dayString = dateString.getDate();\r\n        let yearString = dateString.getFullYear();\r\n        let timeString = 'T00:00:00';\r\n        dateString = yearString + \"-\" + (\"0\" + monthString).slice(-2) + \"-\" + (\"0\" + dayString).slice(-2) + \"\" + timeString;\r\n        this.props.playerStore.updatePlayerDateOfBirth(dateString);\r\n    }\r\n\r\n    APICallback = () => {\r\n        this.props.playerStore.updatePlayer();\r\n    }\r\n\r\n    onYes = () => {\r\n        this.setState({onYesClicked: true}, () => this.APICallback());\r\n    }\r\n\r\n    render() {\r\n\r\n        let isDisabled = false;\r\n\r\n        let date18YearAgo = new Date();\r\n        date18YearAgo.setFullYear(date18YearAgo.getFullYear() - 18)\r\n\r\n        const {showBackConfirm} = this.props;\r\n        const {selectedPlayerDetails, showUpdateModal, showToast, successMessage, errorMessage} = this.props.playerStore;\r\n\r\n        if (selectedPlayerDetails && selectedPlayerDetails.identity && selectedPlayerDetails.account) {\r\n\r\n            const {showCancelPopup} = this.state;\r\n\r\n            const {identity, account} = selectedPlayerDetails;\r\n            const {\r\n                firstName, lastName, gender, dateOfBirth, ssn, phone, address1, address2, city, state, zip5,\r\n                acceptedEmailCommunication, acceptedSmsCommunication, termsAcceptedDate\r\n            } = identity;\r\n            const {email} = account;\r\n\r\n            isDisabled = !this.isEmailValid(email) || !this.isPhoneNumberValid(phone) || !this.isZipcodeValid(zip5) ||\r\n                !this.isAddr1Valid(address1) || !this.isCityValid(city) ||\r\n                !this.isStateValid(state) || !this.isSSNValid(ssn);\r\n\r\n            return (\r\n                <div className='player-details-container container-fluid '>\r\n                    {/*{showToast\r\n                        ?\r\n                        <AppToast showToast={showToast}\r\n                                  message={successMessage ? successMessage : errorMessage}\r\n                                  isSuccessMessage={successMessage !== null}\r\n                                  handleClose={() => this.handleToastClose()}/>\r\n                        : null\r\n                    }*/}\r\n                    <Modal show={showCancelPopup || showBackConfirm} centered={true}>\r\n                        <Modal.Body>\r\n                            <div className='player-details-label'>\r\n                                Are you sure you would like to cancel? All unsaved changes will be lost.\r\n                            </div>\r\n                        </Modal.Body>\r\n                        <Modal.Footer>\r\n                            <Button variant='secondary' onClick={(e) => this.onRejectCancel(e)}>No</Button>\r\n                            <Button variant='primary' onClick={(e) => this.onCancel(e)}>Yes</Button>\r\n                        </Modal.Footer>\r\n                    </Modal>\r\n                    <Modal show={showUpdateModal} centered={true}>\r\n                        <Modal.Body>\r\n                            <div className='player-details-label'>\r\n                                Are you sure you would like to Submit?\r\n                            </div>\r\n                        </Modal.Body>\r\n                        <Modal.Footer>\r\n                            <Button variant='secondary' onClick={(e) => this.onSubmitCancel(e)}>No</Button>\r\n                            <Button variant='primary' onClick={() => this.onYes()}>Yes</Button>\r\n                        </Modal.Footer>\r\n                    </Modal>\r\n\r\n\r\n                    <div className='player-details-panel'>\r\n                        <div className='player-details-child '>\r\n                            <div className='row'>\r\n                                <div className='col-3'>\r\n                                    <div className='player-details-label'>First Name</div>\r\n                                    <AppTextbox type='text' placeholder='Enter First Name ' value={firstName}\r\n                                                onChange={(e) => this.handleInputChange(e, 'firstName')}/>\r\n                                </div>\r\n                                <div className='col-3'>\r\n                                    <div className='player-details-label'>Last Name</div>\r\n                                    <AppTextbox type='text' placeholder='Enter last Name ' value={lastName}\r\n                                                onChange={(e) => this.handleInputChange(e, 'lastName')}/>\r\n                                </div>\r\n                                <div className='col-3'>\r\n                                    <div className='player-details-label'>SSN</div>\r\n                                    {checkRenderPermissions(permissions.CAN_UPDATE_PLAYER_SSN, JSON.parse(localStorage.getItem('userpolicies'))) ?\r\n                                        <AppTextbox type='text' maxlength='11' placeholder='Enter SSN' value={ssn}\r\n                                                    onChange={(e) => this.handleSSNChange(e, 'ssn')}\r\n                                                    onClick={(e) => this.handleSSNOnClick(e, 'ssn')}\r\n                                        /> :\r\n                                        <div className='player-details-value'>{ssn}</div>}\r\n                                    {\r\n                                        !this.isSSNValid(ssn)\r\n                                            ? <div className='player-invalid-email'>Invalid SSN</div>\r\n                                            : null\r\n                                    }\r\n                                </div>\r\n                                <div className='col-3'>\r\n                                    <div className='player-details-label'>Date of Birth</div>\r\n                                    <DatePicker popperPlacement=\"bottom-end\"\r\n                                                selected={dateOfBirth ? new Date(dateOfBirth): null}\r\n                                                maxDate={date18YearAgo}\r\n                                                onChange={date => this.handleDateChange(date)}/>\r\n                                </div>\r\n                            </div>\r\n                            <div className='row'>\r\n                                <div className='col-3'>\r\n                                    <div className='player-details-label'>Gender</div>\r\n                                    <select value={gender} onChange={(e) => this.handleSelectChange(e, 'gender')}>\r\n                                        <option selected disabled value=\"\">Select</option>\r\n                                        {\r\n                                            GenderCodes.map(g => {\r\n                                                return <option value={g}>{g}</option>\r\n                                            })\r\n                                        }\r\n                                    </select>\r\n                                </div>\r\n                                <div className='col-3'>\r\n                                    <div className='player-details-label'>Mailing Address 1</div>\r\n                                    <AppTextbox type='text' placeholder='Enter address1 ' value={address1}\r\n                                                onChange={(e) => this.handleInputChange(e, 'address1')}/>\r\n                                    {\r\n                                        !this.isAddr1Valid(address1)\r\n                                            ? <div className='player-invalid-email'>Invalid Address 1</div>\r\n                                            : null\r\n                                    }\r\n                                </div>\r\n                                <div className='col-3'>\r\n                                    <div className='player-details-label'>Mailing Address 2</div>\r\n                                    <AppTextbox type='text' placeholder='Enter address2 ' value={address2}\r\n                                                onChange={(e) => this.handleInputChange(e, 'address2')}/>\r\n                                </div>\r\n                                <div className='col-3'>\r\n                                    <div className='player-details-label'>City</div>\r\n                                    <AppTextbox type='text' placeholder='Enter city' value={city}\r\n                                                onChange={(e) => this.handleInputChange(e, 'city')}/>\r\n                                    {\r\n                                        !this.isCityValid(city)\r\n                                            ? <div className='player-invalid-email'>Invalid City</div>\r\n                                            : null\r\n                                    }\r\n                                </div>\r\n\r\n                            </div>\r\n                            <div className='row'>\r\n                                <div className='col-3'>\r\n                                    <div className='player-details-label'>State</div>\r\n                                    <select value={state} onChange={(e) => this.handleSelectChange(e, 'state')}>\r\n                                        <option selected disabled value=\"\">Select</option>\r\n                                        {\r\n                                            AddressStateCodes.map(g => {\r\n                                                return <option value={g}>{g}</option>\r\n                                            })\r\n                                        }\r\n                                    </select>\r\n                                </div>\r\n                                <div className='col-3'>\r\n                                    <div className='player-details-label'>Zipcode</div>\r\n                                    <AppTextbox type='text' placeholder='Enter zipcode ' value={zip5} maxlength='5'\r\n                                                onChange={(e) => this.handleInputChange(e, 'zip5')}/>\r\n                                    {\r\n                                        !this.isZipcodeValid(zip5) && zip5.length\r\n                                            ? <div className='player-invalid-email'>Invalid Zipcode</div>\r\n                                            : null\r\n                                    }\r\n                                </div>\r\n\r\n                                <div className='col-3'>\r\n                                    <div className='player-details-label'>Email</div>\r\n                                    <AppTextbox type='text' placeholder='Enter email ' value={email}\r\n                                                onChange={(e) => this.handleEmailChange(e, 'email')}/>\r\n                                    {\r\n                                        !this.isEmailValid(email) && email.length\r\n                                            ? <div className='player-invalid-email'>Invalid Email</div>\r\n                                            : null\r\n                                    }\r\n                                </div>\r\n                                <div className='col-3'>\r\n                                    <div className='player-details-label'>Phone</div>\r\n                                    <AppTextbox type='text' placeholder='Enter Cellphone ' value={phone}\r\n                                                maxlength='10'\r\n                                                onChange={(e) => this.handleInputChange(e, 'phone')}/>\r\n                                    {\r\n                                        !this.isPhoneNumberValid(phone) && phone.length\r\n                                            ? <div className='player-invalid-email'>Phone should be 10 digit</div>\r\n                                            : null\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                            <div className='row'>\r\n                                <div className='col-3'>\r\n                                    <div className='player-details-label'>Email Opt-In</div>\r\n                                    <input type=\"checkbox\" id=\"EmailOptInCheck\" checked={acceptedEmailCommunication}\r\n                                           onChange={(e) => this.handleCheckboxChange(e, 'acceptedEmailCommunication')}/>\r\n                                </div>\r\n                                <div className='col-3'>\r\n                                    <div className='player-details-label'>SMS Opt-In</div>\r\n                                    <input type=\"checkbox\" id=\"SMSOptInCheck\" checked={acceptedSmsCommunication}\r\n                                           onChange={(e) => this.handleCheckboxChange(e, 'acceptedSmsCommunication')}/>\r\n                                </div>\r\n                                <div className='col-3'>\r\n                                    <div className='player-details-label'>T&C Terms Accept</div>\r\n                                    <input type=\"checkbox\" id=\"TnCTermsAcceptCheck\" checked={termsAcceptedDate}\r\n                                           disabled={true}/>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <hr className='separator'/>\r\n                        <div className='row player-button-row'>\r\n                            <div className='offset-6 col-3 button-column'>\r\n                                <Button disabled={isDisabled} className='player-details-btn'\r\n                                        onClick={() => this.handleSubmit()}>\r\n                                    Submit\r\n                                </Button>\r\n                            </div>\r\n                            <div className='col-3 button-column'>\r\n                                <Button className='player-details-btn ' onClick={() => this.handleCancel()}>\r\n                                    Cancel\r\n                                </Button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            );\r\n        } else {\r\n            return <div className='player-details-container container-fluid'>\r\n                <div className='no-data-message'>Error loading data...go back</div>\r\n            </div>\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\r\nexport default UpdateProfile;\r\n"]},"metadata":{},"sourceType":"module"}