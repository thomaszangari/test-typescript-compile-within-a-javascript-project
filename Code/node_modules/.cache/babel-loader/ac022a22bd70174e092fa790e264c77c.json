{"ast":null,"code":"var _dec,\n    _class,\n    _temp,\n    _jsxFileName = \"C:\\\\Users\\\\tomsa\\\\OneDrive\\\\Desktop\\\\Capstone\\\\lottery\\\\mslc-backoffice-client\\\\v1\\\\Code\\\\src\\\\Finance\\\\DailyReconciliationReport\\\\DailyReconciliationReport.js\";\n\nimport React from \"react\";\nimport { inject, observer } from \"mobx-react\";\nimport DatePicker from 'react-datepicker';\nimport { Button, Modal } from \"react-bootstrap\";\nimport moment from \"moment\";\nimport { UserAction, UserActionCategory } from \"../../UserActionCategory\";\nimport { toJS } from \"mobx\";\nimport { checkRenderPermissions } from \"../../helpers\";\nimport { permissions, timeOfDayFormat } from \"../../constants\"; //import Tile from \"../../components/tile/tile.js\";\n\nimport LightTable from \"../../components/lighttable/LightTable\";\nimport './DailyReconciliationReport.css';\nlet DailyReconciliationReport = (_dec = inject('claimStore', 'playerStore'), _dec(_class = observer(_class = (_temp = class DailyReconciliationReport extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.setReconDate = newDate => {\n      if (newDate === null) {\n        this.props.claimStore.setReconDate(null); // this.setState({endDate: null, startDate: null});\n      } else {\n        this.props.claimStore.setReconDate(newDate);\n      }\n    };\n\n    this.onSearchClick = () => {\n      const {\n        reconDate\n      } = this.props.claimStore;\n      let queryParams = '?';\n\n      if (reconDate) {\n        const rDate = moment(reconDate).format('YYYY-MM-DD');\n        queryParams += `queryDate=${rDate}`;\n      }\n\n      this.props.claimStore.getReconData(queryParams);\n    };\n\n    this.handlePaymentDetailClick = paymentData => {\n      this.props.claimStore.logAction(UserActionCategory.API_CALL, UserAction.VIEW_PAYMENT_DETAILS, 'Transaction ID: ' + paymentData.transactionId, '');\n      this.props.claimStore.setPaymentDetails(paymentData, this.navigateToPaymentDetails);\n    };\n\n    this.onModalClose = () => {\n      this.setState({\n        showPopup: false,\n        selectedRejectFile: null\n      });\n    };\n\n    this.viewDetailsClick = data => {\n      if (data.label == 'Player Payments by ACH' || data.label == 'Taxes to DOR by ACH' || data.label == 'Payment Retries by ACH') {\n        this.props.claimStore.reconSetSelectedBatchId(data);\n        this.props.history.push('/finance/claims/batch/details');\n      } else if (data.label == 'Returned ACH Payments') {\n        this.props.claimStore.reconSetSelectedRejectReferenceNumber(data);\n        this.props.history.push('/finance/claims/reject/details');\n      }\n    };\n\n    this.state = {\n      showPopup: false,\n      selectedRejectFile: null\n    };\n  }\n\n  maxDate() {\n    let d = new Date();\n    return d.setDate(d.getDate() - 1);\n  }\n\n  componentDidMount() {\n    this.props.claimStore.getReconData();\n  }\n\n  renderDailyReconciliationReport() {\n    const {\n      reconDate,\n      ESAValidations,\n      mobileClaims,\n      playerPayments,\n      taxes,\n      ACHTotal,\n      returnedPayments,\n      ACHRetries,\n      paperCheckRetries,\n      reconTableHeader,\n      reconTableRows\n    } = this.props.claimStore;\n    const {} = this.state;\n    const rows = toJS(JSON.parse(JSON.stringify(reconTableRows)));\n\n    if (rows.length > 0 && checkRenderPermissions(permissions.CAN_SEE_BATCH_REJECT_FILE_DETAILS, JSON.parse(localStorage.getItem('userpolicies')))) {\n      rows.forEach(row => {\n        if (row.label != 'Payment Retries by Paper Check' && row.label != 'Unknown Type') {\n          row.items[0] = /*#__PURE__*/React.createElement(\"a\", {\n            onClick: () => this.viewDetailsClick(row),\n            className: \"recon-link\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 36\n            }\n          }, row.label);\n        }\n      });\n    }\n\n    if (true) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"full-container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"report-header\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"tile-card\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"tile-card-title-label\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 33\n        }\n      }, \"Mobile Claims Reconciliation Report\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"tile-card-note-label\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 33\n        }\n      }, \"Date\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"tile-card-contents\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(DatePicker, {\n        style: \"margin-right:15px;\",\n        selected: reconDate,\n        isClearable: true,\n        maxDate: this.maxDate(),\n        onChange: date => this.setReconDate(date),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 37\n        }\n      }), /*#__PURE__*/React.createElement(\"button\", {\n        className: \"date-picker-btn\",\n        onClick: () => this.onSearchClick(),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 33\n        }\n      }, \"Generate\")))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"container-left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"new-claims\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"tile-card\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"tile-card-label\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 37\n        }\n      }, \"New Claims\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"tile-card-data\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"tile-card-data-label\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 41\n        }\n      }, \"ESA Validations\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"tile-card-data-value\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 41\n        }\n      }, ESAValidations)), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"tile-card-note-label\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 37\n        }\n      }, \"Imported Data from Third Party\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"tile-card-data\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"tile-card-data-label\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 41\n        }\n      }, \"RTC Mobile Claims\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"tile-card-data-value\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 41\n        }\n      }, mobileClaims)))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"new-payments\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"tile-card\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"tile-card-label\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 37\n        }\n      }, \"New Payments\"), \" \", /*#__PURE__*/React.createElement(\"div\", {\n        className: \"tile-card-data\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 89\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"tile-card-data-label\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 41\n        }\n      }, \"Player Payment by ACH\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"tile-card-data-value\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 41\n        }\n      }, playerPayments)), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"tile-card-data\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"tile-card-data-label\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 41\n        }\n      }, \"Taxes to DOR by ACH\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"tile-card-data-value\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 41\n        }\n      }, taxes)), /*#__PURE__*/React.createElement(\"hr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 37\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"tile-card-data\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"tile-card-data-label\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 41\n        }\n      }, \"Total\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"tile-card-data-value\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 41\n        }\n      }, ACHTotal))))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"container-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"returned-payments\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"tile-card\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"tile-card-label\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 37\n        }\n      }, \"Returned Payments\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"tile-card-data\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"tile-card-data-label\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 41\n        }\n      }, \"Returned ACH Payments\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"tile-card-data-value\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 41\n        }\n      }, returnedPayments)))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"payment-retries\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"tile-card\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"tile-card-label\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 37\n        }\n      }, \"Payment Retries\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"tile-card-data\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"tile-card-data-label\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 41\n        }\n      }, \"Payment Retries by ACH\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"tile-card-data-value\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 41\n        }\n      }, ACHRetries)), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"tile-card-data\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"tile-card-data-label\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 41\n        }\n      }, \"Payment Retries by Paper Check\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"tile-card-data-value\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 41\n        }\n      }, paperCheckRetries)))))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"itemized-transactions\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 21\n        }\n      }, reconTableHeader && reconTableHeader.length > 0 ? /*#__PURE__*/React.createElement(\"div\", {\n        className: \"tile-card\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"tile-card-label\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 33\n        }\n      }, \"Itemized Transaction Reports\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"table-container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(LightTable, {\n        theadData: reconTableHeader,\n        tbodyData: rows,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 37\n        }\n      }))) : null));\n    }\n  }\n\n  render() {\n    //<NewTable tableHeader={reconTableHeader} rowData={reconTableRows}></NewTable>\n    let renderObj;\n\n    if (checkRenderPermissions(permissions.CAN_SEE_DAILY_RECONCILIATION, JSON.parse(localStorage.getItem('userpolicies')))) {\n      renderObj = this.renderDailyReconciliationReport();\n    } else {\n      renderObj = /*#__PURE__*/React.createElement(\"h3\", {\n        class: \"unauthorized-header\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 17\n        }\n      }, \"You do not have permission to view this page! Please contact your System Administrator!\");\n    }\n\n    return renderObj;\n  }\n\n}, _temp)) || _class) || _class);\nexport default DailyReconciliationReport;","map":{"version":3,"sources":["C:/Users/tomsa/OneDrive/Desktop/Capstone/lottery/mslc-backoffice-client/v1/Code/src/Finance/DailyReconciliationReport/DailyReconciliationReport.js"],"names":["React","inject","observer","DatePicker","Button","Modal","moment","UserAction","UserActionCategory","toJS","checkRenderPermissions","permissions","timeOfDayFormat","LightTable","DailyReconciliationReport","Component","constructor","props","setReconDate","newDate","claimStore","onSearchClick","reconDate","queryParams","rDate","format","getReconData","handlePaymentDetailClick","paymentData","logAction","API_CALL","VIEW_PAYMENT_DETAILS","transactionId","setPaymentDetails","navigateToPaymentDetails","onModalClose","setState","showPopup","selectedRejectFile","viewDetailsClick","data","label","reconSetSelectedBatchId","history","push","reconSetSelectedRejectReferenceNumber","state","maxDate","d","Date","setDate","getDate","componentDidMount","renderDailyReconciliationReport","ESAValidations","mobileClaims","playerPayments","taxes","ACHTotal","returnedPayments","ACHRetries","paperCheckRetries","reconTableHeader","reconTableRows","rows","JSON","parse","stringify","length","CAN_SEE_BATCH_REJECT_FILE_DETAILS","localStorage","getItem","forEach","row","items","date","render","renderObj","CAN_SEE_DAILY_RECONCILIATION"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport {inject, observer} from \"mobx-react\";\r\nimport DatePicker from 'react-datepicker';\r\nimport {Button, Modal} from \"react-bootstrap\";\r\nimport moment from \"moment\";\r\nimport {UserAction, UserActionCategory} from \"../../UserActionCategory\";\r\nimport {toJS} from \"mobx\";\r\nimport {checkRenderPermissions} from \"../../helpers\";\r\nimport {permissions, timeOfDayFormat} from \"../../constants\";\r\n//import Tile from \"../../components/tile/tile.js\";\r\nimport LightTable from \"../../components/lighttable/LightTable\";\r\n\r\nimport './DailyReconciliationReport.css';\r\n\r\n@inject('claimStore', 'playerStore')\r\n@observer\r\nclass DailyReconciliationReport extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            showPopup: false,\r\n            selectedRejectFile: null,\r\n        }\r\n    }\r\n\r\n    maxDate() {\r\n        let d = new Date();\r\n        return d.setDate(d.getDate() -1);\r\n    }\r\n\r\n    setReconDate = (newDate) => {\r\n        if(newDate === null) {\r\n            this.props.claimStore.setReconDate(null);\r\n            // this.setState({endDate: null, startDate: null});\r\n        } else {\r\n            this.props.claimStore.setReconDate(newDate);\r\n        }\r\n    }\r\n\r\n    onSearchClick = () => {\r\n        const {reconDate} = this.props.claimStore;\r\n        let queryParams = '?';\r\n        if (reconDate) {\r\n            const rDate = moment(reconDate).format('YYYY-MM-DD');\r\n            queryParams += `queryDate=${rDate}`;\r\n        }\r\n        this.props.claimStore.getReconData(queryParams);\r\n\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.claimStore.getReconData();\r\n    }\r\n\r\n    handlePaymentDetailClick = (paymentData) => {\r\n        this.props.claimStore.logAction(UserActionCategory.API_CALL, UserAction.VIEW_PAYMENT_DETAILS, 'Transaction ID: '+paymentData.transactionId, '');\r\n        this.props.claimStore.setPaymentDetails(paymentData, this.navigateToPaymentDetails);\r\n    }\r\n\r\n    onModalClose = () => {\r\n        this.setState({showPopup: false, selectedRejectFile: null});\r\n    }\r\n\r\n    viewDetailsClick = (data) => {\r\n        if(data.label == 'Player Payments by ACH' || data.label == 'Taxes to DOR by ACH' || data.label == 'Payment Retries by ACH') {\r\n            this.props.claimStore.reconSetSelectedBatchId(data);\r\n            this.props.history.push('/finance/claims/batch/details');\r\n        } else if (data.label == 'Returned ACH Payments') {\r\n            this.props.claimStore.reconSetSelectedRejectReferenceNumber(data);\r\n            this.props.history.push('/finance/claims/reject/details');\r\n        }\r\n\r\n    }\r\n\r\n    renderDailyReconciliationReport() {\r\n        const {reconDate, ESAValidations, mobileClaims, playerPayments, taxes, ACHTotal, returnedPayments, ACHRetries, paperCheckRetries, reconTableHeader, reconTableRows} = this.props.claimStore;\r\n        const {} = this.state;\r\n        const rows = toJS(JSON.parse(JSON.stringify(reconTableRows)));\r\n        if(rows.length > 0 &&\r\n            checkRenderPermissions(permissions.CAN_SEE_BATCH_REJECT_FILE_DETAILS, JSON.parse(localStorage.getItem('userpolicies')))) {\r\n            rows.forEach(row => {\r\n                if(row.label != 'Payment Retries by Paper Check' && row.label != 'Unknown Type'){\r\n                    row.items[0] = <a onClick={() => this.viewDetailsClick(row)} className='recon-link'>{row.label}</a>\r\n                }\r\n            })\r\n        }\r\n        if(true) {\r\n            return(\r\n                <div className='full-container'>\r\n                    <div>\r\n                        <div className = 'report-header'>      \r\n                            <div className='tile-card'>\r\n                                <div className='tile-card-title-label'>Mobile Claims Reconciliation Report</div>  \r\n                                <div className = 'tile-card-note-label'>Date</div> \r\n                                <div className='tile-card-contents'>\r\n                                    <DatePicker\r\n                                    style=\"margin-right:15px;\"\r\n                                    selected={reconDate}\r\n                                    isClearable\r\n                                    maxDate={this.maxDate()}\r\n                                    onChange={date => this.setReconDate(date)}\r\n                                    />\r\n                                    \r\n                                <button className=\"date-picker-btn\" onClick={() => this.onSearchClick()}>Generate</button> \r\n                                </div> \r\n                            </div>\r\n                        </div>\r\n                        <div className='container-left'>\r\n                            <div className = 'new-claims'>\r\n                                <div className='tile-card'>\r\n                                    <div className='tile-card-label'>New Claims</div>\r\n                                    <div className='tile-card-data'>\r\n                                        <div className='tile-card-data-label'>ESA Validations</div>\r\n                                        <div className='tile-card-data-value'>{ESAValidations}</div>\r\n                                    </div>  \r\n                                    <div className = 'tile-card-note-label'>Imported Data from Third Party</div> \r\n                                    <div className='tile-card-data'>\r\n                                        <div className='tile-card-data-label'>RTC Mobile Claims</div>\r\n                                        <div className='tile-card-data-value'>{mobileClaims}</div>\r\n                                    </div>       \r\n                                </div>\r\n                            </div>\r\n                            <div className = 'new-payments'>\r\n                                <div className='tile-card'>\r\n                                    <div className='tile-card-label'>New Payments</div> <div className='tile-card-data'>\r\n                                        <div className='tile-card-data-label'>Player Payment by ACH</div>\r\n                                        <div className='tile-card-data-value'>{playerPayments}</div>\r\n                                    </div>  \r\n                                    <div className='tile-card-data'>\r\n                                        <div className='tile-card-data-label'>Taxes to DOR by ACH</div>\r\n                                        <div className='tile-card-data-value'>{taxes}</div>\r\n                                    </div>  \r\n                                    <hr></hr>\r\n                                    <div className='tile-card-data'>\r\n                                        <div className='tile-card-data-label'>Total</div>\r\n                                        <div className='tile-card-data-value'>{ACHTotal}</div>\r\n                                    </div>                \r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className='container-right'>\r\n                            <div className = 'returned-payments'>\r\n                                <div className='tile-card'>\r\n                                    <div className='tile-card-label'>Returned Payments</div>     \r\n                                    <div className='tile-card-data'>\r\n                                        <div className='tile-card-data-label'>Returned ACH Payments</div>\r\n                                        <div className='tile-card-data-value'>{returnedPayments}</div>\r\n                                    </div> \r\n                                </div>\r\n                            </div>\r\n                            <div className = 'payment-retries'>\r\n                                <div className='tile-card'>\r\n                                    <div className='tile-card-label'>Payment Retries</div>  \r\n                                    <div className='tile-card-data'>\r\n                                        <div className='tile-card-data-label'>Payment Retries by ACH</div>\r\n                                        <div className='tile-card-data-value'>{ACHRetries}</div>\r\n                                    </div>  \r\n                                    <div className='tile-card-data'>\r\n                                        <div className='tile-card-data-label'>Payment Retries by Paper Check</div>\r\n                                        <div className='tile-card-data-value'>{paperCheckRetries}</div>\r\n                                    </div>       \r\n                                </div>\r\n                            </div>\r\n                        </div>                                     \r\n                    </div>\r\n                    <div className='itemized-transactions'>\r\n                        {\r\n                            reconTableHeader && reconTableHeader.length > 0 ?\r\n                            <div className='tile-card'>\r\n                                <div className='tile-card-label'>Itemized Transaction Reports</div>\r\n                                <div className='table-container'>\r\n                                    <LightTable theadData={reconTableHeader} tbodyData={rows}/>  \r\n                                </div>\r\n                            </div>\r\n                            : null\r\n                        }\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n\r\n    render() {\r\n        //<NewTable tableHeader={reconTableHeader} rowData={reconTableRows}></NewTable>\r\n        let renderObj;\r\n\r\n        if(checkRenderPermissions(permissions.CAN_SEE_DAILY_RECONCILIATION, JSON.parse(localStorage.getItem('userpolicies')))) {\r\n            renderObj = this.renderDailyReconciliationReport();\r\n        } else {\r\n            renderObj =\r\n                <h3 class='unauthorized-header'>You do not have permission to view this page! Please contact your System\r\n                    Administrator!</h3>\r\n        }\r\n\r\n        return (\r\n            renderObj\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default DailyReconciliationReport;\r\n"]},"metadata":{},"sourceType":"module"}