{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\tomsa\\\\OneDrive\\\\Desktop\\\\ReactExampleCode\\\\test-typescript-compile-within-a-javascript-project\\\\Code\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\tomsa\\\\OneDrive\\\\Desktop\\\\ReactExampleCode\\\\test-typescript-compile-within-a-javascript-project\\\\Code\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\tomsa\\\\OneDrive\\\\Desktop\\\\ReactExampleCode\\\\test-typescript-compile-within-a-javascript-project\\\\Code\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\tomsa\\\\OneDrive\\\\Desktop\\\\ReactExampleCode\\\\test-typescript-compile-within-a-javascript-project\\\\Code\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";var _dec,_class,_temp;import React from\"react\";import{Tab,Tabs}from\"react-bootstrap\";import'./PlayerHub.css';import Details from\"../Tabs/Details\";import KYCVerification from\"../Tabs/KYCVerification\";import ConfirmEmail from\"../Tabs/ConfirmEmail\";import LockUnlock from\"../Tabs/LockUnlock\";import TicketHistory from\"../Tabs/TicketHistory\";import UpdateProfile from\"../Tabs/UpdateProfile\";import EventHistory from\"../Tabs/EventHistory\";import{checkRenderPermissions}from\"../../helpers\";import{permissions}from\"../../constants\";import{UserActionCategory}from\"../../UserActionCategory\";import AppToast from\"../../toast\";import{inject,observer}from\"mobx-react\";import ClaimHistory from\"../Tabs/ClaimHistory\";import EnableDisable from\"../Tabs/EnableDisable\";//  Constant Tab Keys\nvar PLAYER_DETAILS='Player Details';var UPDATE_PLAYER_PROFILE='Update Player Profile';var CONFIRM_EMAIL='Confirm Email';var LOCK_UNLOCK_PLAYER='Lock Unlock Player';var ENABLE_DISABLE_SCANS='Enable Disable Player Scans';var VERIFY_PLAYER='Verify Player';var TICKET_HISTORY='Ticket History';var EVENT_HISTORY='Event History';var CLAIM_HISTORY='Claim History';//  Constant Tab Titles\nvar PLAYER_DETAILS_TITLE='Details';var UPDATE_PLAYER_PROFILE_TITLE='Update Profile';var CONFIRM_EMAIL_TITLE='Confirm Email';var LOCK_UNLOCK_PLAYER_TITLE='Lock/Unlock';var ENABLE_DISABLE_PLAYER_TITLE='Ticket Scanner Activity';var VERIFY_PLAYER_TITLE='KYC Verification';var TICKET_HISTORY_TITLE='Ticket History';var EVENT_HISTORY_TITLE='Event History';var CLAIM_HISTORY_TITLE='Claims';var PlayerHub=(_dec=inject('playerStore'),_dec(_class=observer(_class=(_temp=/*#__PURE__*/function(_React$Component){_inherits(PlayerHub,_React$Component);var _super=_createSuper(PlayerHub);function PlayerHub(props){var _this;_classCallCheck(this,PlayerHub);_this=_super.call(this,props);// this.state = {\n//     tabKey: PLAYER_DETAILS,\n//     selectedIndex: 0\n// }\n_this.handleToastClose=function(){var navigateToFirstTab=_this.props.playerStore.playerHubNavigateToFirstTab;_this.props.playerStore.setToast(false);if(navigateToFirstTab)_this.navigateToFirstTab();};_this.handleCancel=function(){_this.props.history.goBack();};_this.handleSelect=function(key){var firstName='';var lastName='';var selectedPlayerDetails=_this.props.playerStore.selectedPlayerDetails;if(selectedPlayerDetails){var identity=selectedPlayerDetails.identity;if(identity){firstName=identity['firstName'];lastName=identity['lastName'];}}var target=\"Player Name: \".concat(firstName,\" \").concat(lastName);if(key!==CLAIM_HISTORY){_this.props.playerStore.logAction(UserActionCategory.TAB_VIEW,key,target);}if(key===PLAYER_DETAILS){_this.props.playerStore.getPlayerDetails();// this.setState({tabKey: key}, () => this.props.playerStore.getPlayerDetails())\n}_this.props.playerStore.setSelectedTabKey(key);// else {\n//     this.setState({tabKey: key})\n// }\n};_this.navigateToFirstTab=function(){_this.handleSelect(PLAYER_DETAILS);};return _this;}_createClass(PlayerHub,[{key:\"componentDidMount\",value:function componentDidMount(){//alert('hi')\nthis.props.playerStore.getPlayerDetails();}},{key:\"render\",value:function render(){var _this2=this;var _this$props$playerSto=this.props.playerStore,showToast=_this$props$playerSto.showToast,successMessage=_this$props$playerSto.successMessage,errorMessage=_this$props$playerSto.errorMessage;var tabKey=this.props.playerStore.selectedTabKey;return/*#__PURE__*/React.createElement(\"div\",{className:\"app-tab-panel\"},showToast?/*#__PURE__*/React.createElement(AppToast,{showToast:showToast,message:successMessage?successMessage:errorMessage,isSuccessMessage:successMessage!==null,handleClose:function handleClose(){return _this2.handleToastClose();}}):null,/*#__PURE__*/React.createElement(Tabs,{id:\"controlled-tab-example\",activeKey:tabKey,onSelect:function onSelect(key){return _this2.handleSelect(key);}},/*#__PURE__*/React.createElement(Tab,{eventKey:PLAYER_DETAILS,title:PLAYER_DETAILS_TITLE},tabKey===PLAYER_DETAILS?/*#__PURE__*/React.createElement(Details,this.props):null),checkRenderPermissions(permissions.UPDATE_PLAYER,JSON.parse(localStorage.getItem('userpolicies')))?/*#__PURE__*/React.createElement(Tab,{eventKey:UPDATE_PLAYER_PROFILE,title:UPDATE_PLAYER_PROFILE_TITLE},tabKey===UPDATE_PLAYER_PROFILE?/*#__PURE__*/React.createElement(UpdateProfile,Object.assign({navigateToFirstTab:this.navigateToFirstTab},this.props)):null):null,checkRenderPermissions(permissions.CAN_CONFIRM_PLAYER_EMAIL,JSON.parse(localStorage.getItem('userpolicies')))?/*#__PURE__*/React.createElement(Tab,{eventKey:CONFIRM_EMAIL,title:CONFIRM_EMAIL_TITLE},tabKey===CONFIRM_EMAIL?/*#__PURE__*/React.createElement(ConfirmEmail,Object.assign({navigateToFirstTab:this.navigateToFirstTab},this.props)):null):null,checkRenderPermissions(permissions.UNLOCK_PLAYER_ACCOUNT,JSON.parse(localStorage.getItem('userpolicies')))?/*#__PURE__*/React.createElement(Tab,{eventKey:LOCK_UNLOCK_PLAYER,title:LOCK_UNLOCK_PLAYER_TITLE},tabKey===LOCK_UNLOCK_PLAYER?/*#__PURE__*/React.createElement(LockUnlock,Object.assign({navigateToFirstTab:this.navigateToFirstTab},this.props)):null):null,checkRenderPermissions(permissions.ENABLE_PLAYER_SCANS,JSON.parse(localStorage.getItem('userpolicies')))?/*#__PURE__*/React.createElement(Tab,{eventKey:ENABLE_DISABLE_SCANS,title:ENABLE_DISABLE_PLAYER_TITLE},tabKey===ENABLE_DISABLE_SCANS?/*#__PURE__*/React.createElement(EnableDisable,Object.assign({navigateToFirstTab:this.navigateToFirstTab},this.props)):null):null,checkRenderPermissions(permissions.SEE_PLAYER_VERIFICATION,JSON.parse(localStorage.getItem('userpolicies')))?/*#__PURE__*/React.createElement(Tab,{eventKey:VERIFY_PLAYER,title:VERIFY_PLAYER_TITLE},tabKey===VERIFY_PLAYER?/*#__PURE__*/React.createElement(KYCVerification,Object.assign({navigateToFirstTab:this.navigateToFirstTab},this.props)):null):null,checkRenderPermissions(permissions.CAN_SEE_PLAYER_TICKET_HISTORY,JSON.parse(localStorage.getItem('userpolicies')))?/*#__PURE__*/React.createElement(Tab,{eventKey:TICKET_HISTORY,title:TICKET_HISTORY_TITLE},tabKey===TICKET_HISTORY?/*#__PURE__*/React.createElement(TicketHistory,this.props):null):null,checkRenderPermissions(permissions.CAN_SEE_PLAYER_EVENT_HISTORY,JSON.parse(localStorage.getItem('userpolicies')))?/*#__PURE__*/React.createElement(Tab,{eventKey:EVENT_HISTORY,title:EVENT_HISTORY_TITLE},tabKey===EVENT_HISTORY?/*#__PURE__*/React.createElement(EventHistory,this.props):null):null,checkRenderPermissions(permissions.CAN_SEE_CLAIMS,JSON.parse(localStorage.getItem('userpolicies')))?/*#__PURE__*/React.createElement(Tab,{eventKey:CLAIM_HISTORY,title:CLAIM_HISTORY_TITLE},tabKey===CLAIM_HISTORY?/*#__PURE__*/React.createElement(ClaimHistory,this.props):null):null));}}]);return PlayerHub;}(React.Component),_temp))||_class)||_class);export default PlayerHub;","map":{"version":3,"sources":["C:/Users/tomsa/OneDrive/Desktop/ReactExampleCode/test-typescript-compile-within-a-javascript-project/Code/src/Player/Hub/PlayerHub.js"],"names":["React","Tab","Tabs","Details","KYCVerification","ConfirmEmail","LockUnlock","TicketHistory","UpdateProfile","EventHistory","checkRenderPermissions","permissions","UserActionCategory","AppToast","inject","observer","ClaimHistory","EnableDisable","PLAYER_DETAILS","UPDATE_PLAYER_PROFILE","CONFIRM_EMAIL","LOCK_UNLOCK_PLAYER","ENABLE_DISABLE_SCANS","VERIFY_PLAYER","TICKET_HISTORY","EVENT_HISTORY","CLAIM_HISTORY","PLAYER_DETAILS_TITLE","UPDATE_PLAYER_PROFILE_TITLE","CONFIRM_EMAIL_TITLE","LOCK_UNLOCK_PLAYER_TITLE","ENABLE_DISABLE_PLAYER_TITLE","VERIFY_PLAYER_TITLE","TICKET_HISTORY_TITLE","EVENT_HISTORY_TITLE","CLAIM_HISTORY_TITLE","PlayerHub","props","handleToastClose","navigateToFirstTab","playerStore","playerHubNavigateToFirstTab","setToast","handleCancel","history","goBack","handleSelect","key","firstName","lastName","selectedPlayerDetails","identity","target","logAction","TAB_VIEW","getPlayerDetails","setSelectedTabKey","showToast","successMessage","errorMessage","tabKey","selectedTabKey","UPDATE_PLAYER","JSON","parse","localStorage","getItem","CAN_CONFIRM_PLAYER_EMAIL","UNLOCK_PLAYER_ACCOUNT","ENABLE_PLAYER_SCANS","SEE_PLAYER_VERIFICATION","CAN_SEE_PLAYER_TICKET_HISTORY","CAN_SEE_PLAYER_EVENT_HISTORY","CAN_SEE_CLAIMS","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport {Tab, Tabs} from \"react-bootstrap\";\r\nimport './PlayerHub.css';\r\nimport Details from \"../Tabs/Details\";\r\nimport KYCVerification from \"../Tabs/KYCVerification\";\r\nimport ConfirmEmail from \"../Tabs/ConfirmEmail\";\r\nimport LockUnlock from \"../Tabs/LockUnlock\";\r\nimport TicketHistory from \"../Tabs/TicketHistory\";\r\nimport UpdateProfile from \"../Tabs/UpdateProfile\";\r\nimport EventHistory from \"../Tabs/EventHistory\";\r\nimport {checkRenderPermissions} from \"../../helpers\";\r\nimport {permissions} from \"../../constants\";\r\nimport {UserActionCategory} from \"../../UserActionCategory\";\r\nimport AppToast from \"../../toast\";\r\nimport {inject, observer} from \"mobx-react\";\r\nimport ClaimHistory from \"../Tabs/ClaimHistory\";\r\nimport EnableDisable from \"../Tabs/EnableDisable\";\r\n\r\n\r\n//  Constant Tab Keys\r\nconst PLAYER_DETAILS = 'Player Details';\r\nconst UPDATE_PLAYER_PROFILE = 'Update Player Profile';\r\nconst CONFIRM_EMAIL = 'Confirm Email';\r\nconst LOCK_UNLOCK_PLAYER = 'Lock Unlock Player';\r\nconst ENABLE_DISABLE_SCANS = 'Enable Disable Player Scans';\r\nconst VERIFY_PLAYER = 'Verify Player';\r\nconst TICKET_HISTORY = 'Ticket History';\r\nconst EVENT_HISTORY = 'Event History';\r\nconst CLAIM_HISTORY = 'Claim History';\r\n\r\n//  Constant Tab Titles\r\nconst PLAYER_DETAILS_TITLE = 'Details';\r\nconst UPDATE_PLAYER_PROFILE_TITLE = 'Update Profile';\r\nconst CONFIRM_EMAIL_TITLE = 'Confirm Email';\r\nconst LOCK_UNLOCK_PLAYER_TITLE = 'Lock/Unlock';\r\nconst ENABLE_DISABLE_PLAYER_TITLE = 'Ticket Scanner Activity';\r\nconst VERIFY_PLAYER_TITLE = 'KYC Verification';\r\nconst TICKET_HISTORY_TITLE = 'Ticket History';\r\nconst EVENT_HISTORY_TITLE = 'Event History';\r\nconst CLAIM_HISTORY_TITLE = 'Claims';\r\n\r\n@inject('playerStore')\r\n@observer\r\nclass PlayerHub extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        // this.state = {\r\n        //     tabKey: PLAYER_DETAILS,\r\n        //     selectedIndex: 0\r\n        // }\r\n    }\r\n\r\n    componentDidMount() {\r\n        //alert('hi')\r\n        this.props.playerStore.getPlayerDetails();\r\n    }\r\n\r\n    handleToastClose = () => {\r\n        const navigateToFirstTab = this.props.playerStore.playerHubNavigateToFirstTab;\r\n        this.props.playerStore.setToast(false);\r\n        if (navigateToFirstTab)\r\n            this.navigateToFirstTab();\r\n    }\r\n\r\n    handleCancel = () => {\r\n        this.props.history.goBack();\r\n    }\r\n\r\n    handleSelect = (key) => {\r\n        let firstName = '';\r\n        let lastName = '';\r\n        const {selectedPlayerDetails} = this.props.playerStore;\r\n        if (selectedPlayerDetails) {\r\n            const {identity} = selectedPlayerDetails;\r\n            if (identity) {\r\n                firstName = identity['firstName'];\r\n                lastName = identity['lastName'];\r\n            }\r\n        }\r\n        const target = `Player Name: ${firstName} ${lastName}`;\r\n        if(key !== CLAIM_HISTORY) {\r\n            this.props.playerStore.logAction(UserActionCategory.TAB_VIEW, key, target);\r\n        }\r\n\r\n        if (key === PLAYER_DETAILS) {\r\n            this.props.playerStore.getPlayerDetails();\r\n            // this.setState({tabKey: key}, () => this.props.playerStore.getPlayerDetails())\r\n        }\r\n        this.props.playerStore.setSelectedTabKey(key);\r\n        // else {\r\n        //     this.setState({tabKey: key})\r\n        // }\r\n\r\n    }\r\n\r\n    navigateToFirstTab = () => {\r\n        this.handleSelect(PLAYER_DETAILS);\r\n    }\r\n\r\n    render() {\r\n\r\n        const {showToast, successMessage, errorMessage} = this.props.playerStore;\r\n        const tabKey = this.props.playerStore.selectedTabKey;\r\n        return (\r\n            <div className='app-tab-panel'>\r\n                {showToast\r\n                    ?\r\n                    <AppToast showToast={showToast}\r\n                              message={successMessage ? successMessage : errorMessage}\r\n                              isSuccessMessage={successMessage !== null}\r\n                              handleClose={() => this.handleToastClose()}/>\r\n                    : null\r\n                }\r\n                <Tabs\r\n                    id=\"controlled-tab-example\"\r\n                    activeKey={tabKey}\r\n                    onSelect={(key) => this.handleSelect(key)}\r\n                >\r\n                    <Tab eventKey={PLAYER_DETAILS} title={PLAYER_DETAILS_TITLE}>\r\n                        {tabKey === PLAYER_DETAILS ? <Details {...this.props}/> : null}\r\n                    </Tab>\r\n                    {checkRenderPermissions(permissions.UPDATE_PLAYER, JSON.parse(localStorage.getItem('userpolicies'))) ?\r\n                        <Tab eventKey={UPDATE_PLAYER_PROFILE} title={UPDATE_PLAYER_PROFILE_TITLE}>\r\n                            {tabKey === UPDATE_PLAYER_PROFILE ? <UpdateProfile navigateToFirstTab={this.navigateToFirstTab} {...this.props} /> : null }\r\n                        </Tab> : null}\r\n                    {checkRenderPermissions(permissions.CAN_CONFIRM_PLAYER_EMAIL, JSON.parse(localStorage.getItem('userpolicies'))) ?\r\n                        <Tab eventKey={CONFIRM_EMAIL} title={CONFIRM_EMAIL_TITLE}>\r\n                            {tabKey === CONFIRM_EMAIL ? <ConfirmEmail navigateToFirstTab={this.navigateToFirstTab} {...this.props}/> : null }\r\n                        </Tab> : null}\r\n                    {checkRenderPermissions(permissions.UNLOCK_PLAYER_ACCOUNT, JSON.parse(localStorage.getItem('userpolicies'))) ?\r\n                        <Tab eventKey={LOCK_UNLOCK_PLAYER} title={LOCK_UNLOCK_PLAYER_TITLE}>\r\n                            {tabKey === LOCK_UNLOCK_PLAYER ? <LockUnlock navigateToFirstTab={this.navigateToFirstTab} {...this.props}/> : null }\r\n                        </Tab> : null}\r\n                    {checkRenderPermissions(permissions.ENABLE_PLAYER_SCANS, JSON.parse(localStorage.getItem('userpolicies'))) ?\r\n                        <Tab eventKey={ENABLE_DISABLE_SCANS} title={ENABLE_DISABLE_PLAYER_TITLE}>\r\n                            {tabKey === ENABLE_DISABLE_SCANS ? <EnableDisable navigateToFirstTab={this.navigateToFirstTab} {...this.props}/> : null }\r\n                        </Tab> : null}\r\n                    {checkRenderPermissions(permissions.SEE_PLAYER_VERIFICATION, JSON.parse(localStorage.getItem('userpolicies'))) ?\r\n                        <Tab eventKey={VERIFY_PLAYER} title={VERIFY_PLAYER_TITLE}>\r\n                            {tabKey === VERIFY_PLAYER ? <KYCVerification navigateToFirstTab={this.navigateToFirstTab} {...this.props}/> : null}\r\n                        </Tab> : null}\r\n                    {checkRenderPermissions(permissions.CAN_SEE_PLAYER_TICKET_HISTORY, JSON.parse(localStorage.getItem('userpolicies'))) ?\r\n                        <Tab eventKey={TICKET_HISTORY} title={TICKET_HISTORY_TITLE}>\r\n                            {tabKey === TICKET_HISTORY ? <TicketHistory {...this.props}/> : null}\r\n                        </Tab> : null}\r\n                    {checkRenderPermissions(permissions.CAN_SEE_PLAYER_EVENT_HISTORY, JSON.parse(localStorage.getItem('userpolicies'))) ?\r\n                        <Tab eventKey={EVENT_HISTORY} title={EVENT_HISTORY_TITLE}>\r\n                            {tabKey === EVENT_HISTORY ? <EventHistory {...this.props}/> : null }\r\n                        </Tab> : null}\r\n                    {checkRenderPermissions(permissions.CAN_SEE_CLAIMS, JSON.parse(localStorage.getItem('userpolicies'))) ?\r\n                        <Tab eventKey={CLAIM_HISTORY} title={CLAIM_HISTORY_TITLE}>\r\n                            {tabKey === CLAIM_HISTORY ? <ClaimHistory {...this.props}/> : null}\r\n                        </Tab> : null}\r\n                </Tabs>\r\n              \r\n                \r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default PlayerHub;"]},"metadata":{},"sourceType":"module"}