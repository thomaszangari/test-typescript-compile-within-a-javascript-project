{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\tomsa\\\\OneDrive\\\\Desktop\\\\Capstone\\\\lottery\\\\mslc-backoffice-client\\\\v1\\\\Code\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\tomsa\\\\OneDrive\\\\Desktop\\\\Capstone\\\\lottery\\\\mslc-backoffice-client\\\\v1\\\\Code\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\tomsa\\\\OneDrive\\\\Desktop\\\\Capstone\\\\lottery\\\\mslc-backoffice-client\\\\v1\\\\Code\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\tomsa\\\\OneDrive\\\\Desktop\\\\Capstone\\\\lottery\\\\mslc-backoffice-client\\\\v1\\\\Code\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from\"react\";import'./ClaimDetailsEditable.css';import{checkRenderPermissions}from\"../../helpers\";import{permissions}from\"../../constants\";import config from\"../../config\";import AppToast from\"../../toast\";import TableComponent from\"../../TableComponent\";import{Button}from\"react-bootstrap\";import AppTextbox from\"../../AppTextbox\";import{inject}from\"mobx-react\";inject('authStore');var ClaimDetailsEditable=/*#__PURE__*/function(_React$Component){_inherits(ClaimDetailsEditable,_React$Component);var _super=_createSuper(ClaimDetailsEditable);function ClaimDetailsEditable(props){var _this;_classCallCheck(this,ClaimDetailsEditable);_this=_super.call(this,props);_this.fetchClaimDetails=function(id){fetch(\"\".concat(config.SERVER_BASE_URL,\"/v1/claim/\").concat(id),{method:'GET',headers:{'Authorization':\"Bearer \".concat(localStorage.getItem('accessToken')),'Content-Type':'application/json'}}).then(function(response){return response.json();}).then(function(res){if(res&&res.error){_this.setState({errorMessage:res.error});}else{//this.setPlayerDetails(res[0]);\n}}).catch(function(error){_this.setState({errorMessage:error.toString()});});};_this.setTableData=function(data){/*if (data.length === 0) {\r\n            this.setState({showToast: true, userList: [], tableHeader: []});\r\n        } else {\r\n            const rows = data.map((d, index) => {\r\n                d.idField = index + 1;\r\n                d.select = <a onClick={(e) => this.handleSelectClick(e, d.id)} href='' className='select-link'>View</a>;\r\n                return d;\r\n            });\r\n\r\n            const tableHeader = [\r\n                {key: 'ticketnumber', label: 'Ticket#'},\r\n                {key: 'firstname', label: 'First Name'},\r\n                {key: 'lastname', label: 'Last Name'},\r\n                {key: 'drawdate', label: 'Draw date'},\r\n                {key: 'ticketstatus', label: 'Ticket Status'},\r\n                {key: 'select', label: 'View'}\r\n            ];\r\n            this.setState({tableHeader: tableHeader, userList: rows});\r\n        }*/var tableHeader=[{key:'status',label:'Status'},{key:'statusDate',label:'Status Date'},{key:'claimsAgent',label:'Claims Agent'},{key:'reasonCode',label:'Reason Code'}];_this.setState({tableHeader:tableHeader,userList:data});};_this.state={firstName:'Ryan',lastName:'Olsen',ticketNumber:'123',drawDate:'1990-12-25',game:'LuckyDraw',ticketStatus:'Pending',totalPrizeAmount:'4000',taxAmount:'50',netAmount:'4500',wagerAmount:'50',wagerType:'Sample',paymentStatus:'Pending',showSuccess:false,successMessage:'',showToast:false,userList:[],tableHeader:[]};return _this;}_createClass(ClaimDetailsEditable,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var id=this.props.match.params.id;this.setState({},function(){return _this2.fetchClaimDetails(id);});var res=[{status:'status1',statusDate:'2020-12-01',claimsAgent:'Ryan Feller',reasonCode:'reason code1'},{status:'status2',statusDate:'2020-06-01',claimsAgent:'John Olsen',reasonCode:'reason code1'},{status:'status3',statusDate:'2020-04-01',claimsAgent:'Sam Wyatt',reasonCode:'reason code1'}];this.setTableData(res);}},{key:\"renderClaimDetailsEditable\",value:function renderClaimDetailsEditable(){var _this3=this;var _this$state=this.state,showToast=_this$state.showToast,showSuccess=_this$state.showSuccess,successMessage=_this$state.successMessage,firstName=_this$state.firstName,lastName=_this$state.lastName,ticketNumber=_this$state.ticketNumber,drawDate=_this$state.drawDate,game=_this$state.game,ticketStatus=_this$state.ticketStatus,totalPrizeAmount=_this$state.totalPrizeAmount,taxAmount=_this$state.taxAmount,netAmount=_this$state.netAmount,wagerAmount=_this$state.wagerAmount,wagerType=_this$state.wagerType,paymentStatus=_this$state.paymentStatus,tableHeader=_this$state.tableHeader,userList=_this$state.userList;return/*#__PURE__*/React.createElement(\"div\",{className:\"player-details-container container-fluid \"},showToast?/*#__PURE__*/React.createElement(AppToast,{showToast:showSuccess,message:successMessage,isSuccessMessage:true,handleClose:function handleClose(){return _this3.handleToastClose('showSuccess');}}):null,/*#__PURE__*/React.createElement(\"div\",{className:\"claim-details-panel\"},/*#__PURE__*/React.createElement(\"div\",{className:\"claim-details-child \"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"claim-details-label\"},\"Ticket#\"),/*#__PURE__*/React.createElement(\"div\",{className:\"claim-details-value\"},ticketNumber)),/*#__PURE__*/React.createElement(\"div\",{className:\"col-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"claim-details-label\"},\"First Name\"),/*#__PURE__*/React.createElement(AppTextbox,{type:\"text\",placeholder:\"Enter First Name\",value:firstName,onChange:function onChange(e){return _this3.handleInputChange(e,'firstName');}})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"claim-details-label\"},\"Last Name\"),/*#__PURE__*/React.createElement(AppTextbox,{type:\"text\",placeholder:\"Enter Last Name\",value:lastName,onChange:function onChange(e){return _this3.handleInputChange(e,'lastName');}})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"claim-details-label\"},\"Ticket Status\"),/*#__PURE__*/React.createElement(\"div\",{className:\"claim-details-value\"},ticketStatus))),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"claim-details-label\"},\"Draw Date\"),/*#__PURE__*/React.createElement(\"div\",{className:\"claim-details-value\"},drawDate)),/*#__PURE__*/React.createElement(\"div\",{className:\"col-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"claim-details-label\"},\"Game\"),/*#__PURE__*/React.createElement(\"div\",{className:\"claim-details-value\"},game)),/*#__PURE__*/React.createElement(\"div\",{className:\"col-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"claim-details-label\"},\"Total Prize Amount\"),/*#__PURE__*/React.createElement(AppTextbox,{type:\"text\",placeholder:\"Enter Total Prize Amount\",value:totalPrizeAmount,onChange:function onChange(e){return _this3.handleInputChange(e,'totalPrizeAmount');}})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"claim-details-label\"},\"Tax Amount\"),/*#__PURE__*/React.createElement(AppTextbox,{type:\"text\",placeholder:\"Enter Tax Amount\",value:taxAmount,onChange:function onChange(e){return _this3.handleInputChange(e,'taxAmount');}}))),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"claim-details-label\"},\"Net Amount\"),/*#__PURE__*/React.createElement(AppTextbox,{type:\"text\",placeholder:\"Enter Net Amount\",value:netAmount,onChange:function onChange(e){return _this3.handleInputChange(e,'netAmount');}})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"claim-details-label\"},\"Wager Amount\"),/*#__PURE__*/React.createElement(AppTextbox,{type:\"text\",placeholder:\"Enter Wager Amount\",value:wagerAmount,onChange:function onChange(e){return _this3.handleInputChange(e,'wagerAmount');}})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"claim-details-label\"},\"Wager Type\"),/*#__PURE__*/React.createElement(\"div\",{className:\"claim-details-value\"},wagerType)),/*#__PURE__*/React.createElement(\"div\",{className:\"col-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"claim-details-label\"},\"Payment Status\"),/*#__PURE__*/React.createElement(\"div\",{className:\"claim-details-value\"},paymentStatus))),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(TableComponent,{tableHeader:tableHeader,rowData:userList,className:\"search-table\"}))),/*#__PURE__*/React.createElement(\"hr\",{className:\"separator\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"row claim-button-row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"offset-6 col-3 button-column\"},/*#__PURE__*/React.createElement(Button,{disabled:false,className:\"claim-details-btn\",onClick:function onClick(){return _this3.handleSubmit();}},\"Submit\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-3 button-column\"},/*#__PURE__*/React.createElement(Button,{className:\"claim-details-btn \",onClick:function onClick(){return _this3.handleCancel();}},\"Cancel\")))));}},{key:\"render\",value:function render(){var renderObj;if(checkRenderPermissions(permissions.SEE_CLAIM_SUPPORT,JSON.parse(localStorage.getItem('userpolicies')))&&checkRenderPermissions(permissions.UPDATE_CLAIMS,JSON.parse(localStorage.getItem('userpolicies')))){renderObj=this.renderClaimDetailsEditable();}else{renderObj=/*#__PURE__*/React.createElement(\"h1\",{class:\"unauthorized-header\"},\"You do not have permission to view this page! Please contact your System Administrator!\");}return renderObj;}}]);return ClaimDetailsEditable;}(React.Component);export default ClaimDetailsEditable;","map":{"version":3,"sources":["C:/Users/tomsa/OneDrive/Desktop/Capstone/lottery/mslc-backoffice-client/v1/Code/src/Claims/claimdetailseditable/ClaimDetailsEditable.js"],"names":["React","checkRenderPermissions","permissions","config","AppToast","TableComponent","Button","AppTextbox","inject","ClaimDetailsEditable","props","fetchClaimDetails","id","fetch","SERVER_BASE_URL","method","headers","localStorage","getItem","then","response","json","res","error","setState","errorMessage","catch","toString","setTableData","data","tableHeader","key","label","userList","state","firstName","lastName","ticketNumber","drawDate","game","ticketStatus","totalPrizeAmount","taxAmount","netAmount","wagerAmount","wagerType","paymentStatus","showSuccess","successMessage","showToast","match","params","status","statusDate","claimsAgent","reasonCode","handleToastClose","e","handleInputChange","handleSubmit","handleCancel","renderObj","SEE_CLAIM_SUPPORT","JSON","parse","UPDATE_CLAIMS","renderClaimDetailsEditable","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport './ClaimDetailsEditable.css';\r\nimport {checkRenderPermissions} from \"../../helpers\";\r\nimport {permissions} from \"../../constants\";\r\nimport config from \"../../config\";\r\nimport AppToast from \"../../toast\";\r\nimport TableComponent from \"../../TableComponent\";\r\nimport {Button} from \"react-bootstrap\";\r\nimport AppTextbox from \"../../AppTextbox\";\r\nimport {inject} from \"mobx-react\";\r\n\r\ninject('authStore')\r\nclass ClaimDetailsEditable extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            firstName: 'Ryan',\r\n            lastName: 'Olsen',\r\n            ticketNumber: '123',\r\n            drawDate: '1990-12-25',\r\n            game: 'LuckyDraw',\r\n            ticketStatus: 'Pending',\r\n            totalPrizeAmount: '4000',\r\n            taxAmount: '50',\r\n            netAmount: '4500',\r\n            wagerAmount: '50',\r\n            wagerType: 'Sample',\r\n            paymentStatus: 'Pending',\r\n            showSuccess: false,\r\n            successMessage: '',\r\n            showToast: false,\r\n            userList: [],\r\n            tableHeader: []\r\n        }\r\n\r\n    }\r\n\r\n    componentDidMount() {\r\n        const id = (this.props.match.params.id);\r\n        this.setState({}, () => this.fetchClaimDetails(id));\r\n        const res = [\r\n            {\r\n                status: 'status1',\r\n                statusDate: '2020-12-01',\r\n                claimsAgent: 'Ryan Feller',\r\n                reasonCode: 'reason code1',\r\n            },\r\n            {\r\n                status: 'status2',\r\n                statusDate: '2020-06-01',\r\n                claimsAgent: 'John Olsen',\r\n                reasonCode: 'reason code1',\r\n            },\r\n            {\r\n                status: 'status3',\r\n                statusDate: '2020-04-01',\r\n                claimsAgent: 'Sam Wyatt',\r\n                reasonCode: 'reason code1',\r\n            },\r\n        ];\r\n        this.setTableData(res);\r\n    }\r\n\r\n    fetchClaimDetails = (id) => {\r\n        fetch(`${config.SERVER_BASE_URL}/v1/claim/${id}`, {\r\n            method: 'GET',\r\n            headers: {\r\n                'Authorization': `Bearer ${localStorage.getItem('accessToken')}`,\r\n                'Content-Type': 'application/json',\r\n            },\r\n        })\r\n            .then(response => response.json())\r\n            .then(res => {\r\n                if (res && res.error) {\r\n                    this.setState({errorMessage: res.error});\r\n                } else {\r\n                    //this.setPlayerDetails(res[0]);\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                this.setState({errorMessage: error.toString()});\r\n            });\r\n    }\r\n\r\n    setTableData = (data) => {\r\n        /*if (data.length === 0) {\r\n            this.setState({showToast: true, userList: [], tableHeader: []});\r\n        } else {\r\n            const rows = data.map((d, index) => {\r\n                d.idField = index + 1;\r\n                d.select = <a onClick={(e) => this.handleSelectClick(e, d.id)} href='' className='select-link'>View</a>;\r\n                return d;\r\n            });\r\n\r\n            const tableHeader = [\r\n                {key: 'ticketnumber', label: 'Ticket#'},\r\n                {key: 'firstname', label: 'First Name'},\r\n                {key: 'lastname', label: 'Last Name'},\r\n                {key: 'drawdate', label: 'Draw date'},\r\n                {key: 'ticketstatus', label: 'Ticket Status'},\r\n                {key: 'select', label: 'View'}\r\n            ];\r\n            this.setState({tableHeader: tableHeader, userList: rows});\r\n        }*/\r\n\r\n        const tableHeader = [\r\n            {key: 'status', label: 'Status'},\r\n            {key: 'statusDate', label: 'Status Date'},\r\n            {key: 'claimsAgent', label: 'Claims Agent'},\r\n            {key: 'reasonCode', label: 'Reason Code'}\r\n        ];\r\n        this.setState({tableHeader: tableHeader, userList: data});\r\n\r\n    }\r\n\r\n    renderClaimDetailsEditable() {\r\n        const {\r\n            showToast, showSuccess, successMessage,\r\n            firstName, lastName, ticketNumber, drawDate, game,\r\n            ticketStatus, totalPrizeAmount, taxAmount, netAmount,\r\n            wagerAmount, wagerType, paymentStatus,\r\n            tableHeader, userList\r\n        } = this.state;\r\n        return (\r\n            <div className='player-details-container container-fluid '>\r\n                {showToast\r\n                    ? <AppToast showToast={showSuccess} message={successMessage} isSuccessMessage={true}\r\n                                handleClose={() => this.handleToastClose('showSuccess')}/>\r\n                    : null\r\n                }\r\n                <div className='claim-details-panel'>\r\n                    <div className='claim-details-child '>\r\n                        <div className='row'>\r\n                            <div className='col-3'>\r\n                                <div className='claim-details-label'>Ticket#</div>\r\n                                <div className='claim-details-value'>{ticketNumber}</div>\r\n                            </div>\r\n                            <div className='col-3'>\r\n                                <div className='claim-details-label'>First Name</div>\r\n                                <AppTextbox type='text' placeholder='Enter First Name' value={firstName}\r\n                                            onChange={(e) => this.handleInputChange(e, 'firstName')}/>\r\n                            </div>\r\n                            <div className='col-3'>\r\n                                <div className='claim-details-label'>Last Name</div>\r\n                                <AppTextbox type='text' placeholder='Enter Last Name' value={lastName}\r\n                                            onChange={(e) => this.handleInputChange(e, 'lastName')}/>\r\n                            </div>\r\n                            <div className='col-3'>\r\n                                <div className='claim-details-label'>Ticket Status</div>\r\n                                <div className='claim-details-value'>{ticketStatus}</div>\r\n                            </div>\r\n                        </div>\r\n                        <div className='row'>\r\n                            <div className='col-3'>\r\n                                <div className='claim-details-label'>Draw Date</div>\r\n                                <div className='claim-details-value'>{drawDate}</div>\r\n                            </div>\r\n                            <div className='col-3'>\r\n                                <div className='claim-details-label'>Game</div>\r\n                                <div className='claim-details-value'>{game}</div>\r\n                            </div>\r\n                            <div className='col-3'>\r\n                                <div className='claim-details-label'>Total Prize Amount</div>\r\n                                <AppTextbox type='text' placeholder='Enter Total Prize Amount' value={totalPrizeAmount}\r\n                                            onChange={(e) => this.handleInputChange(e, 'totalPrizeAmount')}/>\r\n                            </div>\r\n                            <div className='col-3'>\r\n                                <div className='claim-details-label'>Tax Amount</div>\r\n                                <AppTextbox type='text' placeholder='Enter Tax Amount' value={taxAmount}\r\n                                            onChange={(e) => this.handleInputChange(e, 'taxAmount')}/>\r\n                            </div>\r\n\r\n                        </div>\r\n                        <div className='row'>\r\n                            <div className='col-3'>\r\n                                <div className='claim-details-label'>Net Amount</div>\r\n                                <AppTextbox type='text' placeholder='Enter Net Amount' value={netAmount}\r\n                                            onChange={(e) => this.handleInputChange(e, 'netAmount')}/>\r\n                            </div>\r\n                            <div className='col-3'>\r\n                                <div className='claim-details-label'>Wager Amount</div>\r\n                                <AppTextbox type='text' placeholder='Enter Wager Amount' value={wagerAmount}\r\n                                            onChange={(e) => this.handleInputChange(e, 'wagerAmount')}/>\r\n                            </div>\r\n\r\n                            <div className='col-3'>\r\n                                <div className='claim-details-label'>Wager Type</div>\r\n                                <div className='claim-details-value'>{wagerType}</div>\r\n                            </div>\r\n                            <div className='col-3'>\r\n                                <div className='claim-details-label'>Payment Status</div>\r\n                                <div className='claim-details-value'>{paymentStatus}</div>\r\n                            </div>\r\n                        </div>\r\n                        <div className='row'>\r\n                            <TableComponent tableHeader={tableHeader} rowData={userList} className='search-table'/>\r\n                        </div>\r\n                    </div>\r\n                    <hr className='separator'/>\r\n                    <div className='row claim-button-row'>\r\n                        <div className='offset-6 col-3 button-column'>\r\n                            <Button disabled={false} className='claim-details-btn'\r\n                                    onClick={() => this.handleSubmit()}>\r\n                                Submit\r\n                            </Button>\r\n                        </div>\r\n                        <div className='col-3 button-column'>\r\n                            <Button className='claim-details-btn ' onClick={() => this.handleCancel()}>\r\n                                Cancel\r\n                            </Button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    render() {\r\n        var renderObj;\r\n\r\n        if (checkRenderPermissions(permissions.SEE_CLAIM_SUPPORT, JSON.parse(localStorage.getItem('userpolicies'))) &&\r\n            checkRenderPermissions(permissions.UPDATE_CLAIMS, JSON.parse(localStorage.getItem('userpolicies')))) {\r\n            renderObj = this.renderClaimDetailsEditable();\r\n        } else {\r\n            renderObj =\r\n                <h1 class='unauthorized-header'>You do not have permission to view this page! Please contact your System\r\n                    Administrator!</h1>\r\n        }\r\n\r\n        return (\r\n            renderObj\r\n        );\r\n    }\r\n\r\n\r\n}\r\n\r\nexport default ClaimDetailsEditable;\r\n"]},"metadata":{},"sourceType":"module"}