{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\tomsa\\\\OneDrive\\\\Desktop\\\\ReactExampleCode\\\\test-typescript-compile-within-a-javascript-project\\\\Code\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\tomsa\\\\OneDrive\\\\Desktop\\\\ReactExampleCode\\\\test-typescript-compile-within-a-javascript-project\\\\Code\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\tomsa\\\\OneDrive\\\\Desktop\\\\ReactExampleCode\\\\test-typescript-compile-within-a-javascript-project\\\\Code\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\tomsa\\\\OneDrive\\\\Desktop\\\\ReactExampleCode\\\\test-typescript-compile-within-a-javascript-project\\\\Code\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";var _dec,_class,_temp;import React from\"react\";import{inject,observer}from\"mobx-react\";import'./Tabs.css';import EventSearch from\"../../Event/SearchBar\";import moment from\"moment\";import ReactTable from\"../../PaginatedTable/ReactTable\";var EventHistory=(_dec=inject('playerStore'),_dec(_class=observer(_class=(_temp=/*#__PURE__*/function(_React$Component){_inherits(EventHistory,_React$Component);var _super=_createSuper(EventHistory);function EventHistory(props){var _this;_classCallCheck(this,EventHistory);_this=_super.call(this,props);_this.onSearchClick=function(){var queryDateRangeStart=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'';var queryDateRangeEnd=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'';var startDate=new Date(queryDateRangeStart);var momentStartDate=moment(startDate).format();var endDate=new Date(queryDateRangeEnd);endDate.setHours(23,59,59);var momentEndDate=moment(endDate).format();var queryParams='?';if(queryDateRangeStart&&queryDateRangeStart!==''){queryParams+=\"queryDateRangeStart=\".concat(momentStartDate);}if(queryDateRangeEnd&&queryDateRangeEnd!==''){if(queryParams.endsWith(\"?\"))queryParams+=\"queryDateRangeEnd=\".concat(momentEndDate);else queryParams+=\"&queryDateRangeEnd=\".concat(momentEndDate);}_this.props.playerStore.searchEvents(queryParams);};_this.onFilterClick=function(){_this.props.playerStore.filterEventHistoryResult();};_this.handleToastClose=function(){_this.props.playerStore.setEventHistoryToast(false);};_this.state={eventHistoryList:[],tableHeader:[],showToast:false};return _this;}/*    componentDidMount() {\r\n        /!*let startDate = new Date();\r\n        startDate.setDate(startDate.getDate() - 31)\r\n        this.onSearchClick(startDate, new Date());*!/\r\n    }*/_createClass(EventHistory,[{key:\"render\",value:function render(){var _this$props$playerSto=this.props.playerStore,eventHistoryTableHeader=_this$props$playerSto.eventHistoryTableHeader,eventHistoryTableRows=_this$props$playerSto.eventHistoryTableRows,showEventHistoryToast=_this$props$playerSto.showEventHistoryToast,successMessage=_this$props$playerSto.successMessage,errorMessage=_this$props$playerSto.errorMessage;var Timestamp;var rows=eventHistoryTableRows&&eventHistoryTableRows.map(function(d,index){d.idField=index+1;Timestamp=\"\".concat(d.eventTimestamp);d.date=Timestamp.substring(0,10);d.time=Timestamp.substring(11,19);return d;});return/*#__PURE__*/React.createElement(\"div\",{className:\"player-search-container container-fluid\"},/*#__PURE__*/React.createElement(\"div\",{className:\"player-search-panel player-search-child\"},/*#__PURE__*/React.createElement(EventSearch,Object.assign({tableHeader:eventHistoryTableHeader,userList:rows,handleSearchClick:this.onSearchClick,handleFilterClick:this.onFilterClick},this.props))),eventHistoryTableHeader&&rows?/*#__PURE__*/React.createElement(ReactTable,{tableHeader:eventHistoryTableHeader,rowData:rows,className:\"update-user-table\"}):null);}}]);return EventHistory;}(React.Component),_temp))||_class)||_class);export default EventHistory;","map":{"version":3,"sources":["C:/Users/tomsa/OneDrive/Desktop/ReactExampleCode/test-typescript-compile-within-a-javascript-project/Code/src/Player/Tabs/EventHistory.js"],"names":["React","inject","observer","EventSearch","moment","ReactTable","EventHistory","props","onSearchClick","queryDateRangeStart","queryDateRangeEnd","startDate","Date","momentStartDate","format","endDate","setHours","momentEndDate","queryParams","endsWith","playerStore","searchEvents","onFilterClick","filterEventHistoryResult","handleToastClose","setEventHistoryToast","state","eventHistoryList","tableHeader","showToast","eventHistoryTableHeader","eventHistoryTableRows","showEventHistoryToast","successMessage","errorMessage","Timestamp","rows","map","d","index","idField","eventTimestamp","date","substring","time","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport {inject, observer} from \"mobx-react\";\r\nimport './Tabs.css';\r\nimport EventSearch from \"../../Event/SearchBar\";\r\nimport moment from \"moment\";\r\nimport ReactTable from \"../../PaginatedTable/ReactTable\";\r\n\r\n@inject('playerStore')\r\n@observer\r\nclass EventHistory extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            eventHistoryList: [],\r\n            tableHeader: [],\r\n            showToast: false\r\n        }\r\n    }\r\n\r\n/*    componentDidMount() {\r\n        /!*let startDate = new Date();\r\n        startDate.setDate(startDate.getDate() - 31)\r\n        this.onSearchClick(startDate, new Date());*!/\r\n    }*/\r\n\r\n    onSearchClick = (queryDateRangeStart = '', queryDateRangeEnd = '') => {\r\n\r\n        const startDate = new Date(queryDateRangeStart);\r\n        const momentStartDate = moment(startDate).format();\r\n        const endDate = new Date(queryDateRangeEnd);\r\n        endDate.setHours(23, 59, 59);\r\n        const momentEndDate = moment(endDate).format();\r\n        \r\n        let queryParams = '?';\r\n        if (queryDateRangeStart && queryDateRangeStart !== '') {\r\n            queryParams += `queryDateRangeStart=${momentStartDate}`\r\n        }\r\n        if (queryDateRangeEnd && queryDateRangeEnd !== '') {\r\n            if (queryParams.endsWith(\"?\"))\r\n                queryParams += `queryDateRangeEnd=${momentEndDate}`\r\n            else\r\n                queryParams += `&queryDateRangeEnd=${momentEndDate}`\r\n        }\r\n\r\n        this.props.playerStore.searchEvents(queryParams);\r\n    }\r\n\r\n    onFilterClick = () => {\r\n        this.props.playerStore.filterEventHistoryResult();\r\n    }\r\n\r\n    handleToastClose = () => {\r\n        this.props.playerStore.setEventHistoryToast(false);\r\n    }\r\n\r\n    render() {\r\n\r\n        const {eventHistoryTableHeader, eventHistoryTableRows, showEventHistoryToast, successMessage, errorMessage} = this.props.playerStore;\r\n        let Timestamp;\r\n        let rows = eventHistoryTableRows && eventHistoryTableRows.map((d, index) => {\r\n            d.idField = index + 1;\r\n            Timestamp = `${d.eventTimestamp}`\r\n            d.date = Timestamp.substring(0, 10)\r\n            d.time = Timestamp.substring(11, 19)\r\n            return d;\r\n        });\r\n        return (\r\n            <div className='player-search-container container-fluid'>\r\n                <div className='player-search-panel player-search-child'>\r\n                    <EventSearch tableHeader={eventHistoryTableHeader} userList={rows}\r\n                                  handleSearchClick={this.onSearchClick} handleFilterClick={this.onFilterClick} {...this.props}/>\r\n                </div>\r\n                {\r\n                    eventHistoryTableHeader && rows\r\n                        ? <ReactTable tableHeader={eventHistoryTableHeader} rowData={rows}\r\n                                          className='update-user-table'/>\r\n                        : null\r\n                }\r\n                {/*{showEventHistoryToast\r\n                    ?\r\n                    <AppToast showToast={showEventHistoryToast}\r\n                              message={successMessage ? successMessage : errorMessage}\r\n                              isSuccessMessage={successMessage !== null}\r\n                              handleClose={() => this.handleToastClose()}/>\r\n                    : null\r\n                }*/}\r\n            </div>\r\n\r\n        );\r\n\r\n    }\r\n\r\n}\r\n\r\nexport default EventHistory;\r\n"]},"metadata":{},"sourceType":"module"}