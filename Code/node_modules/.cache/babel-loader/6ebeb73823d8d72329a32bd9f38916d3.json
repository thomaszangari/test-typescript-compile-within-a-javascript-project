{"ast":null,"code":"import _defineProperty from\"C:\\\\Users\\\\tomsa\\\\OneDrive\\\\Desktop\\\\Capstone\\\\lottery\\\\mslc-backoffice-client\\\\v1\\\\Code\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _classCallCheck from\"C:\\\\Users\\\\tomsa\\\\OneDrive\\\\Desktop\\\\Capstone\\\\lottery\\\\mslc-backoffice-client\\\\v1\\\\Code\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\tomsa\\\\OneDrive\\\\Desktop\\\\Capstone\\\\lottery\\\\mslc-backoffice-client\\\\v1\\\\Code\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\tomsa\\\\OneDrive\\\\Desktop\\\\Capstone\\\\lottery\\\\mslc-backoffice-client\\\\v1\\\\Code\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\tomsa\\\\OneDrive\\\\Desktop\\\\Capstone\\\\lottery\\\\mslc-backoffice-client\\\\v1\\\\Code\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";var _dec,_class,_temp;import React from\"react\";import{Button,Modal}from\"react-bootstrap\";import{inject,observer}from\"mobx-react\";import'./Tabs.css';import{UnlockPlayerReasonCodes}from\"../../Constants/UnlockPlayerReasonCodes\";import{LockPlayerReasonCodes}from\"../../Constants/LockPlayerReasonCodes\";var LockUnlock=(_dec=inject('playerStore'),_dec(_class=observer(_class=(_temp=/*#__PURE__*/function(_React$Component){_inherits(LockUnlock,_React$Component);var _super=_createSuper(LockUnlock);function LockUnlock(props){var _this;_classCallCheck(this,LockUnlock);_this=_super.call(this,props);_this.handleSubmit=function(){_this.props.playerStore.setshowPlayerLockUnlockModal(true);};_this.onSubmitCancel=function(){_this.props.playerStore.setshowPlayerLockUnlockModal(false);};_this.onRejectCancel=function(){_this.setState({showCancelPopup:false},function(){return _this.props.handlePopup(false);});};_this.onCancel=function(){_this.setState({showCancelPopup:false},function(){return _this.props.handlePopup(true);});};_this.handleToastClose=function(){var navigateToFirstTab=_this.props.playerStore.successMessage;_this.props.playerStore.setToast(false);if(navigateToFirstTab)_this.props.navigateToFirstTab();};_this.APICallback=function(){var enabled;var selectedPlayerDetails=_this.props.playerStore.selectedPlayerDetails;if(selectedPlayerDetails&&selectedPlayerDetails.identity&&selectedPlayerDetails.account){var account=selectedPlayerDetails.account;enabled=account.enabled;}console.log(enabled);var _this$state=_this.state,reason=_this$state.reason,comment=_this$state.comment;if(enabled){_this.props.playerStore.disablePlayer(reason,comment);}else{_this.props.playerStore.enablePlayer(reason,comment);}};_this.onYes=function(){_this.setState({onYesClicked:true},function(){return _this.APICallback();});};_this.handleCancel=function(){if(_this.state.isFieldsEdited)_this.setState({showCancelPopup:true});else _this.props.history.goBack();};_this.isEmailValid=function(email){return email.match(/^([\\w.%+-]+)@([\\w-]+\\.)+([\\w]{2,})$/i);};_this.callbackToParent=function(){var isFieldsEdited=_this.state.isFieldsEdited;var flag=isFieldsEdited;_this.props.onUpdate(flag);};_this.handleInputChange=function(e,stateName){var _this$setState;_this.setState((_this$setState={},_defineProperty(_this$setState,stateName,e.target.value),_defineProperty(_this$setState,\"isFieldsEdited\",true),_this$setState),function(){return _this.callbackToParent();});};_this.handleSelectChange=function(e,stateName){var _this$setState2;var val=e.target.value;_this.setState((_this$setState2={},_defineProperty(_this$setState2,stateName,val),_defineProperty(_this$setState2,\"isFieldsEdited\",true),_this$setState2),function(){return _this.callbackToParent();});};_this.isReasonCodeValid=function(reason){return reason&&reason.trim().length>0;};_this.state={isFieldsEdited:false,locked:true,isUpdate:false,showSuccess:false,successMessage:'',showToast:false,showCancelPopup:false,onYesClicked:false,reason:'',comment:''};return _this;}_createClass(LockUnlock,[{key:\"render\",value:function render(){var _this2=this;var _this$state2=this.state,showCancelPopup=_this$state2.showCancelPopup,reason=_this$state2.reason,comment=_this$state2.comment;var showBackConfirm=this.props.showBackConfirm;var _this$props$playerSto=this.props.playerStore,selectedPlayerDetails=_this$props$playerSto.selectedPlayerDetails,showPlayerLockUnlockModal=_this$props$playerSto.showPlayerLockUnlockModal,showToast=_this$props$playerSto.showToast,successMessage=_this$props$playerSto.successMessage,errorMessage=_this$props$playerSto.errorMessage;var isDisabled=false;isDisabled=!this.isReasonCodeValid(reason);if(selectedPlayerDetails&&selectedPlayerDetails.identity&&selectedPlayerDetails.account){var identity=selectedPlayerDetails.identity,account=selectedPlayerDetails.account;var firstName=identity.firstName,lastName=identity.lastName,gender=identity.gender,dateOfBirth=identity.dateOfBirth,ssn=identity.ssn,phone=identity.phone,address1=identity.address1,address2=identity.address2,city=identity.city,state=identity.state,zip5=identity.zip5,acceptedEmailCommunication=identity.acceptedEmailCommunication,acceptedSmsCommunication=identity.acceptedSmsCommunication,termsAcceptedDate=identity.termsAcceptedDate,identityCheckResult=identity.identityCheckResult;var email=account.email,enabled=account.enabled;return/*#__PURE__*/React.createElement(\"div\",{className:\"player-details-container container-fluid \"},/*#__PURE__*/React.createElement(Modal,{show:showCancelPopup||showBackConfirm,centered:true},/*#__PURE__*/React.createElement(Modal.Body,null,/*#__PURE__*/React.createElement(\"div\",{className:\"player-details-label\"},\"Are you sure you would like to cancel? All unsaved changes will be lost.\")),/*#__PURE__*/React.createElement(Modal.Footer,null,/*#__PURE__*/React.createElement(Button,{variant:\"secondary\",onClick:function onClick(e){return _this2.onRejectCancel(e);}},\"No\"),/*#__PURE__*/React.createElement(Button,{variant:\"primary\",onClick:function onClick(e){return _this2.onCancel(e);}},\"Yes\"))),/*#__PURE__*/React.createElement(Modal,{show:showPlayerLockUnlockModal,centered:true},/*#__PURE__*/React.createElement(Modal.Body,null,/*#__PURE__*/React.createElement(\"div\",{className:\"player-details-label\"},\"Are you sure you would like to Lock/Unlock?\")),/*#__PURE__*/React.createElement(Modal.Footer,null,/*#__PURE__*/React.createElement(Button,{variant:\"secondary\",onClick:function onClick(e){return _this2.onSubmitCancel(e);}},\"No\"),/*#__PURE__*/React.createElement(Button,{variant:\"primary\",onClick:function onClick(e){return _this2.onYes(e);}},\"Yes\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"player-details-panel\"},/*#__PURE__*/React.createElement(\"div\",{className:\"player-details-child \"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"player-details-label\"},\"First Name\"),/*#__PURE__*/React.createElement(\"div\",{className:\"player-details-value\"},firstName)),/*#__PURE__*/React.createElement(\"div\",{className:\"col-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"player-details-label\"},\"Last Name\"),/*#__PURE__*/React.createElement(\"div\",{className:\"player-details-value\"},lastName)),/*#__PURE__*/React.createElement(\"div\",{className:\"col-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"player-details-label\"},\"SSN\"),/*#__PURE__*/React.createElement(\"div\",{className:\"player-details-value\"},ssn)),/*#__PURE__*/React.createElement(\"div\",{className:\"col-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"player-details-label\"},\"Date of Birth\"),/*#__PURE__*/React.createElement(\"div\",{className:\"player-details-value\"},dateOfBirth))),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"player-details-label\"},\"Gender\"),/*#__PURE__*/React.createElement(\"div\",{className:\"player-details-value\"},gender)),/*#__PURE__*/React.createElement(\"div\",{className:\"col-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"player-details-label\"},\"Mailing Address 1\"),/*#__PURE__*/React.createElement(\"div\",{className:\"player-details-value\"},address1)),/*#__PURE__*/React.createElement(\"div\",{className:\"col-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"player-details-label\"},\"Mailing Address 2\"),/*#__PURE__*/React.createElement(\"div\",{className:\"player-details-value\"},address2)),/*#__PURE__*/React.createElement(\"div\",{className:\"col-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"player-details-label\"},\"City\"),/*#__PURE__*/React.createElement(\"div\",{className:\"player-details-value\"},city))),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"player-details-label\"},\"State\"),/*#__PURE__*/React.createElement(\"div\",{className:\"player-details-value\"},state)),/*#__PURE__*/React.createElement(\"div\",{className:\"col-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"player-details-label\"},\"Zipcode\"),/*#__PURE__*/React.createElement(\"div\",{className:\"player-details-value\"},zip5)),/*#__PURE__*/React.createElement(\"div\",{className:\"col-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"player-details-label\"},\"Email\"),/*#__PURE__*/React.createElement(\"div\",{className:\"player-details-value\"},email)),/*#__PURE__*/React.createElement(\"div\",{className:\"col-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"player-details-label\"},\"Phone\"),/*#__PURE__*/React.createElement(\"div\",{className:\"player-details-value\"},phone))),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"player-details-label\"},\"Email Opt-In\"),/*#__PURE__*/React.createElement(\"input\",{disabled:true,type:\"checkbox\",id:\"exampleCheck1\",checked:acceptedEmailCommunication})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"player-details-label\"},\"SMS Opt-In\"),/*#__PURE__*/React.createElement(\"input\",{disabled:true,type:\"checkbox\",id:\"exampleCheck1\",checked:acceptedSmsCommunication})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"player-details-label\"},\"T&C Terms Accept\"),/*#__PURE__*/React.createElement(\"input\",{disabled:true,type:\"checkbox\",id:\"exampleCheck1\",checked:termsAcceptedDate})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"player-details-label\"},\"Identity Check Result\"),/*#__PURE__*/React.createElement(\"div\",{className:\"player-details-value\"},identityCheckResult))),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"player-details-label\"},\"Account Status\"),/*#__PURE__*/React.createElement(\"div\",{className:\"player-details-value\"},enabled?'Unlocked':'Locked')),/*#__PURE__*/React.createElement(\"div\",{className:\"col-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"player-details-label\"},\"Reason for Action\"),/*#__PURE__*/React.createElement(\"select\",{value:reason,onChange:function onChange(e){return _this2.handleSelectChange(e,'reason');}},/*#__PURE__*/React.createElement(\"option\",{selected:true,disabled:true,value:\"\"},\"Select\"),enabled?LockPlayerReasonCodes.map(function(rc){return/*#__PURE__*/React.createElement(\"option\",{value:rc},rc);}):UnlockPlayerReasonCodes.map(function(rc){return/*#__PURE__*/React.createElement(\"option\",{value:rc},rc);}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"player-details-label\"},\"Comments\"),/*#__PURE__*/React.createElement(\"textarea\",{type:\"textarea\",id:\"comment\",onChange:function onChange(e){return _this2.handleInputChange(e,'comment');}},comment)))),/*#__PURE__*/React.createElement(\"hr\",{className:\"separator\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"row player-button-row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"offset-6 col-3 button-column\"},enabled?/*#__PURE__*/React.createElement(Button,{className:\"player-details-btn\",disabled:isDisabled,onClick:function onClick(){return _this2.handleSubmit();}},\"Lock\"):/*#__PURE__*/React.createElement(Button,{className:\"player-details-btn\",disabled:isDisabled,onClick:function onClick(){return _this2.handleSubmit();}},\"Unlock\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-3 button-column\"},/*#__PURE__*/React.createElement(Button,{className:\"player-details-btn \",onClick:function onClick(){return _this2.handleCancel();}},\"Cancel\")))));}else{return/*#__PURE__*/React.createElement(\"div\",{className:\"player-details-container container-fluid\"},/*#__PURE__*/React.createElement(\"div\",{className:\"no-data-message\"},\"Error loading data...go back\"));}}}]);return LockUnlock;}(React.Component),_temp))||_class)||_class);export default LockUnlock;","map":{"version":3,"sources":["C:/Users/tomsa/OneDrive/Desktop/Capstone/lottery/mslc-backoffice-client/v1/Code/src/Player/Tabs/LockUnlock.js"],"names":["React","Button","Modal","inject","observer","UnlockPlayerReasonCodes","LockPlayerReasonCodes","LockUnlock","props","handleSubmit","playerStore","setshowPlayerLockUnlockModal","onSubmitCancel","onRejectCancel","setState","showCancelPopup","handlePopup","onCancel","handleToastClose","navigateToFirstTab","successMessage","setToast","APICallback","enabled","selectedPlayerDetails","identity","account","console","log","state","reason","comment","disablePlayer","enablePlayer","onYes","onYesClicked","handleCancel","isFieldsEdited","history","goBack","isEmailValid","email","match","callbackToParent","flag","onUpdate","handleInputChange","e","stateName","target","value","handleSelectChange","val","isReasonCodeValid","trim","length","locked","isUpdate","showSuccess","showToast","showBackConfirm","showPlayerLockUnlockModal","errorMessage","isDisabled","firstName","lastName","gender","dateOfBirth","ssn","phone","address1","address2","city","zip5","acceptedEmailCommunication","acceptedSmsCommunication","termsAcceptedDate","identityCheckResult","map","rc","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport {Button, Modal} from \"react-bootstrap\";\r\nimport {inject, observer} from \"mobx-react\";\r\nimport './Tabs.css';\r\nimport {UnlockPlayerReasonCodes} from \"../../Constants/UnlockPlayerReasonCodes\";\r\nimport {LockPlayerReasonCodes} from \"../../Constants/LockPlayerReasonCodes\";\r\n\r\n@inject('playerStore')\r\n@observer\r\nclass LockUnlock extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            isFieldsEdited: false,\r\n            locked: true,\r\n            isUpdate: false,\r\n            showSuccess: false,\r\n            successMessage: '',\r\n            showToast: false,\r\n            showCancelPopup: false,\r\n            onYesClicked: false,\r\n            reason: '',\r\n            comment: ''\r\n        }\r\n    }\r\n\r\n    handleSubmit = () => {\r\n        this.props.playerStore.setshowPlayerLockUnlockModal(true);\r\n    }\r\n\r\n    onSubmitCancel = () => {\r\n        this.props.playerStore.setshowPlayerLockUnlockModal(false)\r\n    }\r\n\r\n    onRejectCancel = () => {\r\n        this.setState({showCancelPopup: false}, () => this.props.handlePopup(false));\r\n    }\r\n\r\n    onCancel = () => {\r\n        this.setState({showCancelPopup: false}, () => this.props.handlePopup(true));\r\n    }\r\n\r\n    handleToastClose = () => {\r\n        const navigateToFirstTab = this.props.playerStore.successMessage;\r\n        this.props.playerStore.setToast(false);\r\n        if (navigateToFirstTab)\r\n            this.props.navigateToFirstTab();\r\n    }\r\n\r\n    APICallback = () => {\r\n\r\n        let enabled;\r\n        const {selectedPlayerDetails} = this.props.playerStore;\r\n        if (selectedPlayerDetails && selectedPlayerDetails.identity && selectedPlayerDetails.account) {\r\n            const {account} = selectedPlayerDetails;\r\n            enabled = account.enabled;\r\n        }\r\n\r\n        console.log(enabled);\r\n        const {reason, comment} = this.state;\r\n\r\n        if (enabled) {\r\n            this.props.playerStore.disablePlayer(reason, comment);\r\n        } else {\r\n            this.props.playerStore.enablePlayer(reason, comment);\r\n        }\r\n    }\r\n\r\n    onYes = () => {\r\n        this.setState({onYesClicked: true}, () => this.APICallback());\r\n    }\r\n\r\n    handleCancel = () => {\r\n        if (this.state.isFieldsEdited)\r\n            this.setState({showCancelPopup: true});\r\n        else\r\n            this.props.history.goBack();\r\n    }\r\n\r\n    isEmailValid = (email) => {\r\n        return email.match(/^([\\w.%+-]+)@([\\w-]+\\.)+([\\w]{2,})$/i);\r\n    }\r\n\r\n    callbackToParent = () => {\r\n        const {isFieldsEdited} = this.state;\r\n        const flag = isFieldsEdited;\r\n        this.props.onUpdate(flag);\r\n    }\r\n\r\n    handleInputChange = (e, stateName) => {\r\n        this.setState({[stateName]: e.target.value, isFieldsEdited: true}, () => this.callbackToParent());\r\n    }\r\n\r\n    handleSelectChange = (e, stateName) => {\r\n        const val = e.target.value;\r\n        this.setState({[stateName]: val, isFieldsEdited: true}, () => this.callbackToParent());\r\n    }\r\n\r\n    isReasonCodeValid = (reason) => {\r\n        return reason && reason.trim().length > 0;\r\n    }\r\n\r\n    render() {\r\n\r\n        const {showCancelPopup, reason, comment} = this.state;\r\n        const {showBackConfirm} = this.props;\r\n        const {selectedPlayerDetails, showPlayerLockUnlockModal, showToast, successMessage, errorMessage} = this.props.playerStore;\r\n\r\n        let isDisabled = false;\r\n        isDisabled = !this.isReasonCodeValid(reason)\r\n\r\n        if (selectedPlayerDetails && selectedPlayerDetails.identity && selectedPlayerDetails.account) {\r\n            const {identity, account} = selectedPlayerDetails;\r\n            const {\r\n                firstName, lastName, gender, dateOfBirth, ssn, phone, address1, address2, city, state, zip5,\r\n                acceptedEmailCommunication, acceptedSmsCommunication, termsAcceptedDate, identityCheckResult\r\n            } = identity;\r\n            const {email, enabled} = account;\r\n\r\n            return (\r\n                <div className='player-details-container container-fluid '>\r\n                    {/*{showToast\r\n                        ?\r\n                        <AppToast showToast={showToast}\r\n                                  message={successMessage ? successMessage : errorMessage}\r\n                                  isSuccessMessage={successMessage !== null}\r\n                                  handleClose={() => this.handleToastClose()}/>\r\n                        : null\r\n                    }*/}\r\n                    <Modal show={showCancelPopup || showBackConfirm} centered={true}>\r\n                        <Modal.Body>\r\n                            <div className='player-details-label'>\r\n                                Are you sure you would like to cancel? All unsaved changes will be lost.\r\n                            </div>\r\n                        </Modal.Body>\r\n                        <Modal.Footer>\r\n                            <Button variant='secondary' onClick={(e) => this.onRejectCancel(e)}>No</Button>\r\n                            <Button variant='primary' onClick={(e) => this.onCancel(e)}>Yes</Button>\r\n                        </Modal.Footer>\r\n                    </Modal>\r\n                    <Modal show={showPlayerLockUnlockModal} centered={true}>\r\n                        <Modal.Body>\r\n                            <div className='player-details-label'>\r\n                                Are you sure you would like to Lock/Unlock?\r\n                            </div>\r\n                        </Modal.Body>\r\n                        <Modal.Footer>\r\n                            <Button variant='secondary' onClick={(e) => this.onSubmitCancel(e)}>No</Button>\r\n                            <Button variant='primary' onClick={(e) => this.onYes(e)}>Yes</Button>\r\n                        </Modal.Footer>\r\n                    </Modal>\r\n                    <div className='player-details-panel'>\r\n                        <div className='player-details-child '>\r\n                            <div className='row'>\r\n                                <div className='col-3'>\r\n                                    <div className='player-details-label'>First Name</div>\r\n                                    <div className='player-details-value'>{firstName}</div>\r\n                                </div>\r\n                                <div className='col-3'>\r\n                                    <div className='player-details-label'>Last Name</div>\r\n                                    <div className='player-details-value'>{lastName}</div>\r\n                                </div>\r\n                                <div className='col-3'>\r\n                                    <div className='player-details-label'>SSN</div>\r\n                                    <div className='player-details-value'>{ssn}</div>\r\n                                </div>\r\n                                <div className='col-3'>\r\n                                    <div className='player-details-label'>Date of Birth</div>\r\n                                    <div className='player-details-value'>{dateOfBirth}</div>\r\n                                </div>\r\n                            </div>\r\n                            <div className='row'>\r\n                                <div className='col-3'>\r\n                                    <div className='player-details-label'>Gender</div>\r\n                                    <div className='player-details-value'>{gender}</div>\r\n                                </div>\r\n                                <div className='col-3'>\r\n                                    <div className='player-details-label'>Mailing Address 1</div>\r\n                                    <div className='player-details-value'>{address1}</div>\r\n                                </div>\r\n                                <div className='col-3'>\r\n                                    <div className='player-details-label'>Mailing Address 2</div>\r\n                                    <div className='player-details-value'>{address2}</div>\r\n                                </div>\r\n                                <div className='col-3'>\r\n                                    <div className='player-details-label'>City</div>\r\n                                    <div className='player-details-value'>{city}</div>\r\n                                </div>\r\n\r\n                            </div>\r\n                            <div className='row'>\r\n                                <div className='col-3'>\r\n                                    <div className='player-details-label'>State</div>\r\n                                    <div className='player-details-value'>{state}</div>\r\n                                </div>\r\n                                <div className='col-3'>\r\n                                    <div className='player-details-label'>Zipcode</div>\r\n                                    <div className='player-details-value'>{zip5}</div>\r\n                                </div>\r\n\r\n                                <div className='col-3'>\r\n                                    <div className='player-details-label'>Email</div>\r\n                                    <div className='player-details-value'>{email}</div>\r\n                                </div>\r\n                                <div className='col-3'>\r\n                                    <div className='player-details-label'>Phone</div>\r\n                                    <div className='player-details-value'>{phone}</div>\r\n                                </div>\r\n                            </div>\r\n                            <div className='row'>\r\n                                <div className='col-3'>\r\n                                    <div className='player-details-label'>Email Opt-In</div>\r\n                                    <input disabled={true} type=\"checkbox\" id=\"exampleCheck1\"\r\n                                           checked={acceptedEmailCommunication}/>\r\n                                </div>\r\n                                <div className='col-3'>\r\n                                    <div className='player-details-label'>SMS Opt-In</div>\r\n                                    <input disabled={true} type=\"checkbox\" id=\"exampleCheck1\"\r\n                                           checked={acceptedSmsCommunication}/>\r\n                                </div>\r\n                                <div className='col-3'>\r\n                                    <div className='player-details-label'>T&C Terms Accept</div>\r\n                                    <input disabled={true} type=\"checkbox\" id=\"exampleCheck1\"\r\n                                           checked={termsAcceptedDate}/>\r\n                                </div>\r\n                                <div className='col-3'>\r\n                                    <div className='player-details-label'>Identity Check Result</div>\r\n                                    <div className='player-details-value'>{identityCheckResult}</div>\r\n                                </div>\r\n                            </div>\r\n                            <div className='row'>\r\n                                <div className='col-3'>\r\n                                    <div className='player-details-label'>Account Status</div>\r\n                                    <div className='player-details-value'>{enabled ? 'Unlocked' : 'Locked'}</div>\r\n                                </div>\r\n                                <div className='col-3'>\r\n                                    <div className='player-details-label'>Reason for Action</div>\r\n                                    <select value={reason} onChange={(e) => this.handleSelectChange(e, 'reason')}>\r\n                                        <option selected disabled value=\"\">Select</option>\r\n                                        {enabled ?\r\n                                            LockPlayerReasonCodes.map(rc => {\r\n                                                return <option value={rc}>{rc}</option>\r\n                                            }) :\r\n                                            UnlockPlayerReasonCodes.map(rc => {\r\n                                                return <option value={rc}>{rc}</option>\r\n                                            })\r\n                                        }\r\n                                    </select>\r\n                                </div>\r\n                                <div className='col-3'>\r\n                                    <div className='player-details-label'>Comments</div>\r\n                                    <textarea type=\"textarea\" id=\"comment\"\r\n                                              onChange={(e) => this.handleInputChange(e, 'comment')}>{comment}</textarea>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <hr className='separator'/>\r\n                        <div className='row player-button-row'>\r\n                            <div className='offset-6 col-3 button-column'>\r\n                                {\r\n                                    enabled ?\r\n                                        <Button className='player-details-btn' disabled={isDisabled}\r\n                                                onClick={() => this.handleSubmit()}>\r\n                                            Lock\r\n                                        </Button> :\r\n                                        <Button className='player-details-btn' disabled={isDisabled}\r\n                                                onClick={() => this.handleSubmit()}>\r\n                                            Unlock\r\n                                        </Button>\r\n                                }\r\n                            </div>\r\n                            <div className='col-3 button-column'>\r\n                                <Button className='player-details-btn ' onClick={() => this.handleCancel()}>\r\n                                    Cancel\r\n                                </Button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            );\r\n        } else {\r\n            return <div className='player-details-container container-fluid'>\r\n                <div className='no-data-message'>Error loading data...go back</div>\r\n            </div>\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\r\nexport default LockUnlock;\r\n"]},"metadata":{},"sourceType":"module"}