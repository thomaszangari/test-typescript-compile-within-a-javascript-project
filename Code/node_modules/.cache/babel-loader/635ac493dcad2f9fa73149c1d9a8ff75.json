{"ast":null,"code":"import _defineProperty from\"C:\\\\Users\\\\tomsa\\\\OneDrive\\\\Desktop\\\\ReactExampleCode\\\\test-typescript-compile-within-a-javascript-project\\\\Code\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _classCallCheck from\"C:\\\\Users\\\\tomsa\\\\OneDrive\\\\Desktop\\\\ReactExampleCode\\\\test-typescript-compile-within-a-javascript-project\\\\Code\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\tomsa\\\\OneDrive\\\\Desktop\\\\ReactExampleCode\\\\test-typescript-compile-within-a-javascript-project\\\\Code\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\tomsa\\\\OneDrive\\\\Desktop\\\\ReactExampleCode\\\\test-typescript-compile-within-a-javascript-project\\\\Code\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\tomsa\\\\OneDrive\\\\Desktop\\\\ReactExampleCode\\\\test-typescript-compile-within-a-javascript-project\\\\Code\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";var _dec,_class,_temp;import React from\"react\";import{Button,Modal}from\"react-bootstrap\";import EditIcon from\"../components/Icons/editIcon\";import LockIcon from\"../components/Icons/LockIcon\";import UnlockIcon from\"../components/Icons/UnlockIcon\";import'./usermanagement.css';import AppTextbox from\"../AppTextbox\";import config from\"../config\";import ResetPasswordIcon from\"../icons/ResetPasswordIcon\";import{checkRenderPermissions}from\"../helpers\";import{permissions}from\"../constants\";import{UserAction,UserActionCategory}from\"../UserActionCategory\";import MyToast from\"../MyToast\";import{inject}from\"mobx-react\";import ReactTable from\"../PaginatedTable/ReactTable\";var AddUser=(_dec=inject('playerStore','authStore'),_dec(_class=(_temp=/*#__PURE__*/function(_React$Component){_inherits(AddUser,_React$Component);var _super=_createSuper(AddUser);function AddUser(props){var _this;_classCallCheck(this,AddUser);_this=_super.call(this,props);_this.handleInputChange=function(event,stateName){_this.props.onInputChange(stateName,event.target.value);};_this.handleRoleChange=function(e){var value=e.target.value;_this.props.onRoleChange(value);};_this.state={roles:[]};return _this;}_createClass(AddUser,[{key:\"render\",value:function render(){var _this2=this;var _this$state=this.state,roles=_this$state.roles,selectedId=_this$state.selectedId;var rolesList=this.props.rolesList;var _this$props=this.props,showEmailError=_this$props.showEmailError,userName=_this$props.userName,confirmUserName=_this$props.confirmUserName,lastName=_this$props.lastName,firstName=_this$props.firstName,middleName=_this$props.middleName,role=_this$props.role,roleId=_this$props.roleId,isEditUser=_this$props.isEditUser;return/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(AppTextbox,{controlId:\"userName\",type:\"email\",placeholder:\"Email\",value:userName,disabled:isEditUser,onChange:function onChange(e){return _this2.handleInputChange(e,'userName');}}),showEmailError?/*#__PURE__*/React.createElement(\"div\",{className:\"invalid-email\"},\"Invalid email\"):null,!isEditUser?/*#__PURE__*/React.createElement(AppTextbox,{controlId:\"confirmUserName\",type:\"text\",placeholder:\"Confirm Email\",value:confirmUserName,disabled:isEditUser,onChange:function onChange(e){return _this2.handleInputChange(e,'confirmUserName');}}):null,/*#__PURE__*/React.createElement(AppTextbox,{controlId:\"firstName\",type:\"text\",placeholder:\"First Name\",value:firstName,onChange:function onChange(e){return _this2.handleInputChange(e,'firstName');}}),/*#__PURE__*/React.createElement(AppTextbox,{controlId:\"middleName\",type:\"text\",placeholder:\"Middle Name\",value:middleName,onChange:function onChange(e){return _this2.handleInputChange(e,'middleName');}}),/*#__PURE__*/React.createElement(AppTextbox,{controlId:\"lastName\",type:\"text\",placeholder:\"Last Name\",value:lastName,onChange:function onChange(e){return _this2.handleInputChange(e,'lastName');}}),/*#__PURE__*/React.createElement(\"select\",{className:\"form-control user-dropdown\",id:\"role\",onChange:function onChange(e){return _this2.handleRoleChange(e);}},/*#__PURE__*/React.createElement(\"option\",{value:\"\"},\"Select a Role\"),rolesList.map(function(role,index){return/*#__PURE__*/React.createElement(\"option\",{selected:role.roleid===roleId,value:role.roleid,key:index,id:role.roleid},role.rolename);})));}}]);return AddUser;}(React.Component),_temp))||_class);var UserManagement=/*#__PURE__*/function(_React$Component2){_inherits(UserManagement,_React$Component2);var _super2=_createSuper(UserManagement);function UserManagement(props){var _this3;_classCallCheck(this,UserManagement);_this3=_super2.call(this,props);_this3.fetchAllUsers=function(){fetch(\"\".concat(config.SERVER_BASE_URL,\"/v1/users/allusers\"),{method:'get',headers:{'Authorization':\"Bearer \".concat(localStorage.getItem('accessToken')),'Content-Type':'application/json'}}).then(function(response){return response.json();}).then(function(res){_this3.setUsers(res);}).catch(function(error){_this3.setState({showError:true,errorMessage:error.toString()});});};_this3.setRoles=function(roles){_this3.setState({rolesList:roles});};_this3.cancelUnlock=function(user){_this3.setState({showUnlockModal:false,lockedUser:null});};_this3.showUnlockModal=function(user){_this3.setState({showUnlockModal:true,lockedUser:user});};_this3.unlockUser=function(user){var lockedUser=_this3.state.lockedUser;_this3.setState({showUnlockModal:false,lockedUser:null},function(){return _this3.props.playerStore.unlockUser(lockedUser,_this3.fetchAllUsers);});};_this3.setUsers=function(users){var _users=users.filter(function(user){return user.username!==localStorage.getItem('userName');});var _tableHeader=JSON.parse(JSON.stringify(_this3.state.tableHeader));if(checkRenderPermissions(permissions.CAN_EDIT_USER_ACCOUNT,JSON.parse(localStorage.getItem('userpolicies')))){if(_tableHeader.findIndex(function(row){return row.key==='edit';})===-1){_tableHeader.push({key:'edit',label:'Edit'});}_users.forEach(function(user){user.edit=/*#__PURE__*/React.createElement(EditIcon,{color:\"#FFFFFF\",onclick:function onclick(){return _this3.handleEditUser(user.username);}});});}if(checkRenderPermissions(permissions.CAN_RESET_USER_PASSWORD,JSON.parse(localStorage.getItem('userpolicies')))){if(_tableHeader.findIndex(function(row){return row.key==='password';})===-1){_tableHeader.push({key:'password',label:'Password'});}_users.forEach(function(user){user.password=/*#__PURE__*/React.createElement(ResetPasswordIcon,{color:\"#FFFFFF\",onclick:function onclick(){return _this3.handleResetPassword(user.username);}});});}if(checkRenderPermissions(permissions.CAN_UNLOCK_USER_ACCOUNT,JSON.parse(localStorage.getItem('userpolicies')))){if(_tableHeader.findIndex(function(row){return row.key==='account';})===-1){_tableHeader.push({key:'account',label:'Account'});}_users.forEach(function(user){user.account=user.islocked?/*#__PURE__*/React.createElement(LockIcon,{onclick:function onclick(){return _this3.showUnlockModal(user);}}):/*#__PURE__*/React.createElement(UnlockIcon,{isDisabled:true});});}if(checkRenderPermissions(permissions.CAN_SEE_USER_AUDIT_ACTIONS,JSON.parse(localStorage.getItem('userpolicies')))){if(_tableHeader.findIndex(function(row){return row.key==='audit';})===-1){_tableHeader.push({key:'audit',label:'Audit'});}_users.forEach(function(user){user.audit=/*#__PURE__*/React.createElement(\"a\",{onClick:function onClick(e){return _this3.handleAuditClick(e,user.id,user.username);},href:\"\",className:\"select-link\"},\"Audit\");});}_this3.setState({userList:_users,tableHeader:_tableHeader});};_this3.showAddUserModal=function(){_this3.setState({showModal:true,isEditUser:false,firstName:'',lastName:'',middleName:'',userName:'',confirmUserName:'',role:'',roleId:0});};_this3.onAddUserClick=function(e){e.preventDefault();var _this3$state=_this3.state,firstName=_this3$state.firstName,middleName=_this3$state.middleName,lastName=_this3$state.lastName,userName=_this3$state.userName,confirmUserName=_this3$state.confirmUserName,roleId=_this3$state.roleId,isEditUser=_this3$state.isEditUser,id=_this3$state.id,isValidEmail=_this3$state.isValidEmail;if(!isValidEmail&&!isEditUser){_this3.setState({showEmailError:true});}else{var newUser={username:userName,confirmUserName:confirmUserName,roleid:roleId,firstname:firstName,middlename:middleName,lastname:lastName};var url=\"\".concat(config.SERVER_BASE_URL,\"/v1/users/register\");if(isEditUser){newUser.id=id;url=\"\".concat(config.SERVER_BASE_URL,\"/v1/user/update\");}var message=isEditUser?'User updated successfully.':'Email with instructions to setup a password is sent to the user';fetch(url,{method:'POST',headers:{'Authorization':\"Bearer \".concat(localStorage.getItem('accessToken')),'Content-Type':'application/json'},body:JSON.stringify(newUser)}).then(function(response){return response.json();}).then(function(res){if(res.error){_this3.setState({showModal:false,errorMessage:res.error,showError:true});}else{_this3.setState({isEditUser:false,showModal:false,successMessage:message,showSuccess:true},function(){return _this3.fetchAllUsers();});}}).catch(function(error){_this3.setState({showError:true,errorMessage:error.toString()});});}};_this3.onCancel=function(e){e.preventDefault();_this3.setState({showModal:false});};_this3.onDelete=function(e){e.preventDefault();_this3.setState({showConfirmPopup:true,isDeleteProcess:true,isDeactivateProcess:false});};_this3.onDeactivate=function(e){e.preventDefault();_this3.setState({showConfirmPopup:true,isDeleteProcess:false,isDeactivateProcess:true});};_this3.handleInputChange=function(stateName,value){var _this3$setState;var _isValidEmail=_this3.state.isValidEmail;if(stateName==='userName'){if(/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(value)){_isValidEmail=true;}else{_isValidEmail=false;}}_this3.setState((_this3$setState={},_defineProperty(_this3$setState,stateName,value),_defineProperty(_this3$setState,\"isValidEmail\",_isValidEmail),_defineProperty(_this3$setState,\"showEmailError\",false),_this3$setState));};_this3.handleRoleChange=function(role){_this3.setState({roleId:role});};_this3.resetPassword=function(e){// CALL RESET API /v1/users/resetpassword\ne.preventDefault();var data={username:_this3.state.selectedUserName};fetch(\"\".concat(config.SERVER_BASE_URL,\"/v1/users/resetpassword\"),{method:'POST',// or 'PUT'\nheaders:{'Authorization':\"Bearer \".concat(localStorage.getItem('accessToken')),'Content-Type':'application/json'},body:JSON.stringify(data)}).then(function(response){return response.json();}).then(function(res){if(res&&res.error){_this3.setState({errorMessage:res.error,showError:true});}else{_this3.setState({showSuccess:true,successMessage:'Email has been sent with instructions to reset the password.'});}}).catch(function(error){console.log(error);_this3.setState({errorMessage:error.toString(),showError:true});});_this3.setState({showResetPasswordPopup:false,selectedUserName:null});};_this3.hideResetPassword=function(){_this3.setState({showResetPasswordPopup:false,selectedUserName:null});};_this3.handleResetPassword=function(username){_this3.setState({showResetPasswordPopup:true,selectedUserName:username});};_this3.handleAuditClick=function(event,userid,username){event.preventDefault();_this3.props.playerStore.setSelectedBackOfficeUserID(userid);_this3.props.playerStore.setSelectedBackOfficeUserName(username);_this3.props.history.push(\"/user/audit/\".concat(userid));};_this3.handleEditUser=function(username){var selectedUser=_this3.state.userList.find(function(user){return user.username===username;});if(selectedUser){var firstname=selectedUser.firstname,middlename=selectedUser.middlename,lastname=selectedUser.lastname,_username=selectedUser.username,roleid=selectedUser.roleid,id=selectedUser.id;_this3.setState({id:id,firstName:firstname,lastName:lastname,middleName:middlename,userName:_username,roleId:roleid,showModal:true,isEditUser:true,successMessage:'test'});_this3.props.playerStore.logAction(UserActionCategory.PAGE_VIEW,UserAction.EDIT_USER,_username);}};_this3.cancelDeleteUser=function(){_this3.setState({showConfirmPopup:false});};_this3.deleteOrDeactivateUser=function(){var _this3$state2=_this3.state,id=_this3$state2.id,isDeactivateProcess=_this3$state2.isDeactivateProcess,userName=_this3$state2.userName;// let _userList = userList;\n// _userList = _userList.filter(user => user.userName !== userName);\n// this.setState({userList: _userList, showConfirmPopup: false, showModal: false});\nvar url=\"\".concat(config.SERVER_BASE_URL,\"/v1/user/delete\");var method='DELETE';if(isDeactivateProcess){url=\"\".concat(config.SERVER_BASE_URL,\"/v1/users/deactivate\");method='POST';}fetch(url,{method:method,headers:{'Authorization':\"Bearer \".concat(localStorage.getItem('accessToken')),'Content-Type':'application/json'},body:JSON.stringify({userid:id,username:userName})}).then(function(response){return response.json();}).then(function(res){if(res.error){_this3.setState({isEditUser:false,showModal:false,showConfirmPopup:false});}else{_this3.setState({isEditUser:false,showModal:false,showConfirmPopup:false,successMessage:res.message,showSuccess:true},function(){return _this3.fetchAllUsers();});}}).catch(function(error){_this3.setState({showError:true,errorMessage:error.toString()});});};_this3.addNewUser=function(){_this3.setState({isEditUser:false,showModal:true,firstName:'',middleName:'',lastName:'',userName:'',confirmUserName:'',roleId:''});};_this3.getTableHeader=function(){return/*#__PURE__*/React.createElement(\"div\",{className:\"user-table-header\"},/*#__PURE__*/React.createElement(\"div\",null,\"User Management\"),checkRenderPermissions(permissions.CAN_CREATE_USER_ACCOUNT,JSON.parse(localStorage.getItem('userpolicies')))?/*#__PURE__*/React.createElement(Button,{variant:\"primary\",onClick:_this3.addNewUser},\"Add User\"):null);};_this3.handleToastClose=function(stateName){_this3.setState(_defineProperty({},stateName,false));};_this3.state={role:'',userList:[],tableHeader:[{key:'id',label:'User ID'},{key:'username',label:'User Name'},{key:'rolename',label:'Role'}],showModal:false,selectedId:0,firstName:'',middleName:'',lastName:'',userName:'',roleId:'',isEditUser:false,showConfirmPopup:false,rolesList:[],id:'',showEmailError:false,isValidEmail:false,showResetPasswordPopup:false,confirmUserName:null,selectedUserName:null,successMessage:null,showSuccess:false,showError:false,isDeleteProcess:false,isDeactivateProcess:false,showUnlockModal:false,lockedUser:null};return _this3;}_createClass(UserManagement,[{key:\"componentDidMount\",value:function componentDidMount(){var _this4=this;this.fetchAllUsers();fetch(\"\".concat(config.SERVER_BASE_URL,\"/v1/users/allroles\"),{method:'get',headers:{'Authorization':\"Bearer \".concat(localStorage.getItem('accessToken')),'Content-Type':'application/json'}}).then(function(response){return response.json();}).then(function(res){_this4.setRoles(res);}).catch(function(error){_this4.setState({showError:true,errorMessage:error.toString()});});}},{key:\"renderUserManagement\",value:function renderUserManagement(){var _this5=this;var _this$state2=this.state,showEmailError=_this$state2.showEmailError,showModal=_this$state2.showModal,roleId=_this$state2.roleId,role=_this$state2.role,firstName=_this$state2.firstName,middleName=_this$state2.middleName,lastName=_this$state2.lastName,userName=_this$state2.userName,userList=_this$state2.userList,tableHeader=_this$state2.tableHeader,isEditUser=_this$state2.isEditUser,showConfirmPopup=_this$state2.showConfirmPopup,rolesList=_this$state2.rolesList,showResetPasswordPopup=_this$state2.showResetPasswordPopup,confirmUserName=_this$state2.confirmUserName,showSuccess=_this$state2.showSuccess,successMessage=_this$state2.successMessage,showError=_this$state2.showError,errorMessage=_this$state2.errorMessage,isDeactivateProcess=_this$state2.isDeactivateProcess,isDeleteProcess=_this$state2.isDeleteProcess,showUnlockModal=_this$state2.showUnlockModal,lockedUser=_this$state2.lockedUser;var deleteConfirmMessage=/*#__PURE__*/React.createElement(\"div\",null,\"Do you really want to \".concat(isDeleteProcess?'delete':'deactivate'),/*#__PURE__*/React.createElement(\"br\",null),userName);var resetPasswordConfirmMessage=/*#__PURE__*/React.createElement(\"div\",null,\"Are you sure you want to reset this User\\u2019s password?\");var isDisabled=true;if(!isEditUser&&firstName.trim()&&lastName.trim()&&userName.trim()&&confirmUserName&&roleId&&userName===confirmUserName){isDisabled=false;}else if(isEditUser&&firstName.trim()&&lastName.trim()&&userName&&roleId){isDisabled=false;}var customHeight=\"\".concat(window.innerHeight-162,\"px\");var _header=this.getTableHeader();var customStyle={height:customHeight};return/*#__PURE__*/React.createElement(\"div\",{className:\"user-management app-center-body\"},showSuccess?/*#__PURE__*/React.createElement(MyToast,{showToast:showSuccess,message:successMessage,isSuccessMessage:true,handleClose:function handleClose(){return _this5.handleToastClose('showSuccess');}}):null,errorMessage&&showError?/*#__PURE__*/React.createElement(MyToast,{showToast:showError,message:errorMessage,isSuccessMessage:false,handleClose:function handleClose(){return _this5.handleToastClose('showError');}}):null,/*#__PURE__*/React.createElement(\"div\",{className:\"user-management-child\"},/*#__PURE__*/React.createElement(ReactTable,{header:_header,tableHeader:tableHeader,rowData:userList,handleColumnCLick:this.handleEditUser,className:\"fixed_header\"}),/*#__PURE__*/React.createElement(Modal,{show:showModal,className:showConfirmPopup?'hide-user-popup':''},/*#__PURE__*/React.createElement(Modal.Header,null,/*#__PURE__*/React.createElement(\"h5\",null,isEditUser?'Edit User':'Add User')),/*#__PURE__*/React.createElement(Modal.Body,null,/*#__PURE__*/React.createElement(AddUser,{userName:userName,confirmUserName:confirmUserName,lastName:lastName,firstName:firstName,middleName:middleName,showEmailError:showEmailError,rolesList:rolesList,role:role,roleId:roleId,onInputChange:this.handleInputChange,onRoleChange:this.handleRoleChange,isEditUser:isEditUser})),/*#__PURE__*/React.createElement(Modal.Footer,null,isEditUser?/*#__PURE__*/React.createElement(React.Fragment,null,checkRenderPermissions(permissions.CAN_DEACTIVATE_USER_ACCOUNT,JSON.parse(localStorage.getItem('userpolicies')))?/*#__PURE__*/React.createElement(Button,{variant:\"warning\",onClick:function onClick(e){return _this5.onDeactivate(e);}},\"Deactivate User\"):null,checkRenderPermissions(permissions.CAN_DELETE_USER_ACCOUNT,JSON.parse(localStorage.getItem('userpolicies')))?/*#__PURE__*/React.createElement(Button,{variant:\"danger\",onClick:function onClick(e){return _this5.onDelete(e);}},\"Delete User\"):null):null,/*#__PURE__*/React.createElement(Button,{variant:\"secondary\",onClick:function onClick(e){return _this5.onCancel(e);}},\"Cancel\"),/*#__PURE__*/React.createElement(Button,{disabled:isDisabled,variant:\"primary\",onClick:function onClick(e){return _this5.onAddUserClick(e);}},isEditUser?'Update':'Add User'))),/*#__PURE__*/React.createElement(Modal,{show:showConfirmPopup,className:\"delete-popup\"},/*#__PURE__*/React.createElement(Modal.Header,null,/*#__PURE__*/React.createElement(\"strong\",null,deleteConfirmMessage)),/*#__PURE__*/React.createElement(Modal.Footer,null,/*#__PURE__*/React.createElement(Button,{variant:\"secondary\",onClick:function onClick(e){return _this5.cancelDeleteUser(e);}},\"No\"),/*#__PURE__*/React.createElement(Button,{disabled:isDisabled,variant:\"danger\",onClick:function onClick(e){return _this5.deleteOrDeactivateUser(e);}},\"Yes\"))),/*#__PURE__*/React.createElement(Modal,{show:showResetPasswordPopup,className:\"reset-password-popup\",centered:true},/*#__PURE__*/React.createElement(Modal.Header,null,/*#__PURE__*/React.createElement(\"strong\",null,resetPasswordConfirmMessage)),/*#__PURE__*/React.createElement(Modal.Footer,null,/*#__PURE__*/React.createElement(Button,{variant:\"secondary\",onClick:function onClick(e){return _this5.hideResetPassword(e);}},\"No\"),/*#__PURE__*/React.createElement(Button,{variant:\"danger\",onClick:function onClick(e){return _this5.resetPassword(e);}},\"Yes\"))),/*#__PURE__*/React.createElement(Modal,{show:showUnlockModal,className:\"\",centered:true},/*#__PURE__*/React.createElement(Modal.Header,null,/*#__PURE__*/React.createElement(\"div\",null,\"Do you really want to unlock \",lockedUser&&lockedUser.username,\"?\")),/*#__PURE__*/React.createElement(Modal.Footer,null,/*#__PURE__*/React.createElement(Button,{variant:\"secondary\",onClick:function onClick(e){return _this5.cancelUnlock(e);}},\"No\"),/*#__PURE__*/React.createElement(Button,{variant:\"primary\",onClick:function onClick(e){return _this5.unlockUser(e);}},\"Yes\")))));}},{key:\"render\",value:function render(){var renderObj;if(checkRenderPermissions(permissions.CAN_ACCESS_USER_MANAGEMENT,JSON.parse(localStorage.getItem('userpolicies')))){renderObj=this.renderUserManagement();}else{renderObj=/*#__PURE__*/React.createElement(\"h1\",{class:\"unauthorized-header\"},\"You do not have permission to view this page! Please contact your System Administrator!\");}return renderObj;}}]);return UserManagement;}(React.Component);export default UserManagement;","map":{"version":3,"sources":["C:/Users/tomsa/OneDrive/Desktop/ReactExampleCode/test-typescript-compile-within-a-javascript-project/Code/src/users/usermanagement.js"],"names":["React","Button","Modal","EditIcon","LockIcon","UnlockIcon","AppTextbox","config","ResetPasswordIcon","checkRenderPermissions","permissions","UserAction","UserActionCategory","MyToast","inject","ReactTable","AddUser","props","handleInputChange","event","stateName","onInputChange","target","value","handleRoleChange","e","onRoleChange","state","roles","selectedId","rolesList","showEmailError","userName","confirmUserName","lastName","firstName","middleName","role","roleId","isEditUser","map","index","roleid","rolename","Component","UserManagement","fetchAllUsers","fetch","SERVER_BASE_URL","method","headers","localStorage","getItem","then","response","json","res","setUsers","catch","error","setState","showError","errorMessage","toString","setRoles","cancelUnlock","user","showUnlockModal","lockedUser","unlockUser","playerStore","users","_users","filter","username","_tableHeader","JSON","parse","stringify","tableHeader","CAN_EDIT_USER_ACCOUNT","findIndex","row","key","push","label","forEach","edit","handleEditUser","CAN_RESET_USER_PASSWORD","password","handleResetPassword","CAN_UNLOCK_USER_ACCOUNT","account","islocked","CAN_SEE_USER_AUDIT_ACTIONS","audit","handleAuditClick","id","userList","showAddUserModal","showModal","onAddUserClick","preventDefault","isValidEmail","newUser","firstname","middlename","lastname","url","message","body","successMessage","showSuccess","onCancel","onDelete","showConfirmPopup","isDeleteProcess","isDeactivateProcess","onDeactivate","_isValidEmail","test","resetPassword","data","selectedUserName","console","log","showResetPasswordPopup","hideResetPassword","userid","setSelectedBackOfficeUserID","setSelectedBackOfficeUserName","history","selectedUser","find","logAction","PAGE_VIEW","EDIT_USER","cancelDeleteUser","deleteOrDeactivateUser","addNewUser","getTableHeader","CAN_CREATE_USER_ACCOUNT","handleToastClose","deleteConfirmMessage","resetPasswordConfirmMessage","isDisabled","trim","customHeight","window","innerHeight","_header","customStyle","height","CAN_DEACTIVATE_USER_ACCOUNT","CAN_DELETE_USER_ACCOUNT","renderObj","CAN_ACCESS_USER_MANAGEMENT","renderUserManagement"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport {Button, Modal} from \"react-bootstrap\";\r\nimport EditIcon from \"../components/Icons/editIcon\";\r\nimport LockIcon from \"../components/Icons/LockIcon\";\r\nimport UnlockIcon from \"../components/Icons/UnlockIcon\";\r\nimport './usermanagement.css';\r\nimport AppTextbox from \"../AppTextbox\";\r\nimport config from \"../config\";\r\nimport ResetPasswordIcon from \"../icons/ResetPasswordIcon\";\r\nimport {checkRenderPermissions} from \"../helpers\";\r\nimport {permissions} from \"../constants\";\r\nimport {UserAction, UserActionCategory} from \"../UserActionCategory\";\r\nimport MyToast from \"../MyToast\";\r\nimport {inject} from \"mobx-react\";\r\nimport ReactTable from \"../PaginatedTable/ReactTable\";\r\n\r\n@inject('playerStore', 'authStore')\r\nclass AddUser extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            roles: []\r\n        }\r\n    }\r\n\r\n    handleInputChange = (event, stateName) => {\r\n        this.props.onInputChange(stateName, event.target.value)\r\n    }\r\n    handleRoleChange = (e) => {\r\n        const value = e.target.value;\r\n        this.props.onRoleChange(value);\r\n    }\r\n\r\n    render() {\r\n        const {roles, selectedId} = this.state;\r\n        const {rolesList} = this.props;\r\n        const {showEmailError, userName, confirmUserName, lastName, firstName, middleName, role, roleId, isEditUser} = this.props;\r\n        return (\r\n            <div className='container'>\r\n                <AppTextbox controlId='userName'\r\n                            type=\"email\" placeholder='Email' value={userName} disabled={isEditUser}\r\n                            onChange={(e) => this.handleInputChange(e, 'userName')}/>\r\n                {\r\n                    showEmailError ? <div className='invalid-email'>Invalid email</div> : null\r\n                }\r\n\r\n                {\r\n                    !isEditUser\r\n                        ? <AppTextbox controlId='confirmUserName' type=\"text\" placeholder='Confirm Email'\r\n                                      value={confirmUserName}\r\n                                      disabled={isEditUser}\r\n                                      onChange={(e) => this.handleInputChange(e, 'confirmUserName')}/>\r\n                        : null\r\n                }\r\n\r\n\r\n                <AppTextbox controlId='firstName'\r\n                            type=\"text\" placeholder='First Name' value={firstName}\r\n                            onChange={(e) => this.handleInputChange(e, 'firstName')}/>\r\n\r\n                {/* <div className=\"form-group\">\r\n                    <input type=\"text\" className=\"form-control\" id=\"firstName\" placeholder=\"First Name\"\r\n                           value={firstName}\r\n                           onChange={(e) => this.handleInputChange(e, 'firstName')}/>\r\n                </div>*/}\r\n\r\n                <AppTextbox controlId='middleName'\r\n                            type=\"text\" placeholder='Middle Name' value={middleName}\r\n                            onChange={(e) => this.handleInputChange(e, 'middleName')}/>\r\n\r\n                {/*<div className=\"form-group\">\r\n                    <input type=\"text\" className=\"form-control\" id=\"middleName\" placeholder=\"Middle Name\"\r\n                           value={middleName}\r\n                           onChange={(e) => this.handleInputChange(e, 'middleName')}/>\r\n                </div>*/}\r\n\r\n                <AppTextbox controlId='lastName'\r\n                            type=\"text\" placeholder='Last Name' value={lastName}\r\n                            onChange={(e) => this.handleInputChange(e, 'lastName')}/>\r\n\r\n                {/*<div className=\"form-group\">*/}\r\n                {/*    <input type=\"text\" className=\"form-control\" id=\"lastName\" placeholder=\"Last Name\" value={lastName}*/}\r\n                {/*           onChange={(e) => this.handleInputChange(e, 'lastName')}/>*/}\r\n                {/*</div>*/}\r\n                <select className=\"form-control user-dropdown\" id=\"role\" onChange={(e) => this.handleRoleChange(e)}>\r\n                    <option value=''>Select a Role</option>\r\n                    {\r\n                        rolesList.map((role, index) => {\r\n                            return <option selected={role.roleid === roleId} value={role.roleid} key={index}\r\n                                           id={role.roleid}>{role.rolename}</option>\r\n                        })\r\n                    }\r\n                </select>\r\n\r\n            </div>\r\n        );\r\n\r\n    }\r\n}\r\n\r\nclass UserManagement extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            role: '',\r\n            userList: [],\r\n            tableHeader: [\r\n                {key: 'id', label: 'User ID'},\r\n                {key: 'username', label: 'User Name'},\r\n                {key: 'rolename', label: 'Role'}\r\n            ],\r\n            showModal: false,\r\n            selectedId: 0,\r\n            firstName: '',\r\n            middleName: '',\r\n            lastName: '',\r\n            userName: '',\r\n            roleId: '',\r\n            isEditUser: false,\r\n            showConfirmPopup: false,\r\n            rolesList: [],\r\n            id: '',\r\n            showEmailError: false,\r\n            isValidEmail: false,\r\n            showResetPasswordPopup: false,\r\n            confirmUserName: null,\r\n            selectedUserName: null,\r\n            successMessage: null,\r\n            showSuccess: false,\r\n            showError: false,\r\n            isDeleteProcess: false,\r\n            isDeactivateProcess: false,\r\n            showUnlockModal: false,\r\n            lockedUser: null\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n        this.fetchAllUsers();\r\n        fetch(`${config.SERVER_BASE_URL}/v1/users/allroles`, {\r\n            method: 'get',\r\n            headers: {\r\n                'Authorization': `Bearer ${localStorage.getItem('accessToken')}`,\r\n                'Content-Type': 'application/json',\r\n            }\r\n        })\r\n            .then(response => response.json())\r\n            .then(res => {\r\n                this.setRoles(res);\r\n            })\r\n            .catch((error) => {\r\n                this.setState({showError: true, errorMessage: error.toString()})\r\n            });\r\n    }\r\n\r\n    fetchAllUsers = () => {\r\n        fetch(`${config.SERVER_BASE_URL}/v1/users/allusers`, {\r\n            method: 'get',\r\n            headers: {\r\n                'Authorization': `Bearer ${localStorage.getItem('accessToken')}`,\r\n                'Content-Type': 'application/json',\r\n            }\r\n        })\r\n            .then(response => response.json())\r\n            .then(res => {\r\n                this.setUsers(res);\r\n            })\r\n            .catch((error) => {\r\n                this.setState({showError: true, errorMessage: error.toString()})\r\n            });\r\n    }\r\n\r\n    setRoles = (roles) => {\r\n        this.setState({rolesList: roles});\r\n    }\r\n\r\n    cancelUnlock = (user) => {\r\n        this.setState({showUnlockModal: false, lockedUser: null});\r\n    }\r\n    showUnlockModal = (user) => {\r\n        this.setState({showUnlockModal: true, lockedUser: user});\r\n    }\r\n    unlockUser = (user) => {\r\n        const {lockedUser} = this.state;\r\n        this.setState({showUnlockModal: false, lockedUser: null},\r\n            () => this.props.playerStore.unlockUser(lockedUser, this.fetchAllUsers)\r\n        );\r\n    }\r\n\r\n    setUsers = (users) => {\r\n\r\n        const _users = users.filter(user => user.username !== localStorage.getItem('userName'));\r\n        let _tableHeader = JSON.parse(JSON.stringify(this.state.tableHeader));\r\n\r\n        if (checkRenderPermissions(permissions.CAN_EDIT_USER_ACCOUNT, JSON.parse(localStorage.getItem('userpolicies')))) {\r\n            if (_tableHeader.findIndex(row => row.key === 'edit') === -1) {\r\n                _tableHeader.push({key: 'edit', label: 'Edit'})\r\n            }\r\n            _users.forEach(user => {\r\n                user.edit = <EditIcon color='#FFFFFF' onclick={() => this.handleEditUser(user.username)}/>\r\n            });\r\n        }\r\n\r\n        if (checkRenderPermissions(permissions.CAN_RESET_USER_PASSWORD, JSON.parse(localStorage.getItem('userpolicies')))) {\r\n            if (_tableHeader.findIndex(row => row.key === 'password') === -1) {\r\n                _tableHeader.push({key: 'password', label: 'Password'})\r\n            }\r\n            _users.forEach(user => {\r\n                user.password =\r\n                    <ResetPasswordIcon color='#FFFFFF' onclick={() => this.handleResetPassword(user.username)}/>\r\n            });\r\n        }\r\n\r\n        if (checkRenderPermissions(permissions.CAN_UNLOCK_USER_ACCOUNT, JSON.parse(localStorage.getItem('userpolicies')))) {\r\n            if (_tableHeader.findIndex(row => row.key === 'account') === -1) {\r\n                _tableHeader.push({key: 'account', label: 'Account'});\r\n            }\r\n            _users.forEach(user => {\r\n                user.account = user.islocked ? <LockIcon onclick={() => this.showUnlockModal(user)}/> : <UnlockIcon isDisabled={true}/>;\r\n            });\r\n        }\r\n\r\n        if (checkRenderPermissions(permissions.CAN_SEE_USER_AUDIT_ACTIONS, JSON.parse(localStorage.getItem('userpolicies')))) {\r\n            if (_tableHeader.findIndex(row => row.key === 'audit') === -1) {\r\n                _tableHeader.push({key: 'audit', label: 'Audit'})\r\n            }\r\n            _users.forEach(user => {\r\n                user.audit =\r\n                    <a onClick={(e) => this.handleAuditClick(e, user.id, user.username)} href=''\r\n                       className='select-link'>Audit</a>\r\n            });\r\n        }\r\n\r\n        this.setState({userList: _users, tableHeader: _tableHeader});\r\n    }\r\n\r\n    showAddUserModal = () => {\r\n        this.setState({\r\n            showModal: true,\r\n            isEditUser: false,\r\n            firstName: '',\r\n            lastName: '',\r\n            middleName: '',\r\n            userName: '',\r\n            confirmUserName: '',\r\n            role: '',\r\n            roleId: 0,\r\n        });\r\n    }\r\n\r\n    onAddUserClick = (e) => {\r\n        e.preventDefault();\r\n        const {firstName, middleName, lastName, userName, confirmUserName, roleId, isEditUser, id, isValidEmail} = this.state;\r\n        if (!isValidEmail && !isEditUser) {\r\n            this.setState({showEmailError: true});\r\n        } else {\r\n\r\n            const newUser = {\r\n                username: userName,\r\n                confirmUserName: confirmUserName,\r\n                roleid: roleId,\r\n                firstname: firstName,\r\n                middlename: middleName,\r\n                lastname: lastName,\r\n            };\r\n            let url = `${config.SERVER_BASE_URL}/v1/users/register`;\r\n            if (isEditUser) {\r\n                newUser.id = id;\r\n                url = `${config.SERVER_BASE_URL}/v1/user/update`;\r\n            }\r\n            const message = isEditUser ? 'User updated successfully.' : 'Email with instructions to setup a password is sent to the user'\r\n            fetch(url, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Authorization': `Bearer ${localStorage.getItem('accessToken')}`,\r\n                    'Content-Type': 'application/json',\r\n                },\r\n                body: JSON.stringify(newUser),\r\n            })\r\n                .then(response => response.json())\r\n                .then(res => {\r\n                    if (res.error) {\r\n                        this.setState({showModal: false, errorMessage: res.error, showError: true})\r\n                    } else {\r\n                        this.setState({\r\n                            isEditUser: false,\r\n                            showModal: false,\r\n                            successMessage: message,\r\n                            showSuccess: true\r\n                        }, () => this.fetchAllUsers());\r\n                    }\r\n                })\r\n                .catch((error) => {\r\n                    this.setState({showError: true, errorMessage: error.toString()})\r\n                });\r\n        }\r\n    }\r\n\r\n    onCancel = (e) => {\r\n        e.preventDefault();\r\n        this.setState({showModal: false});\r\n    }\r\n\r\n    onDelete = (e) => {\r\n        e.preventDefault();\r\n        this.setState({showConfirmPopup: true, isDeleteProcess: true, isDeactivateProcess: false});\r\n    }\r\n    onDeactivate = (e) => {\r\n        e.preventDefault();\r\n        this.setState({showConfirmPopup: true, isDeleteProcess: false, isDeactivateProcess: true});\r\n    }\r\n\r\n    handleInputChange = (stateName, value) => {\r\n        let _isValidEmail = this.state.isValidEmail;\r\n        if (stateName === 'userName') {\r\n            if (/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(value)) {\r\n                _isValidEmail = true;\r\n            } else {\r\n                _isValidEmail = false\r\n            }\r\n        }\r\n        this.setState({[stateName]: value, isValidEmail: _isValidEmail, showEmailError: false});\r\n    }\r\n\r\n    handleRoleChange = (role) => {\r\n        this.setState({roleId: role})\r\n    }\r\n\r\n\r\n    resetPassword = (e) => {\r\n        // CALL RESET API /v1/users/resetpassword\r\n        e.preventDefault();\r\n        const data = {username: this.state.selectedUserName};\r\n        fetch(`${config.SERVER_BASE_URL}/v1/users/resetpassword`, {\r\n            method: 'POST', // or 'PUT'\r\n            headers: {\r\n                'Authorization': `Bearer ${localStorage.getItem('accessToken')}`,\r\n                'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify(data),\r\n        })\r\n            .then(response => response.json())\r\n            .then(res => {\r\n                if (res && res.error) {\r\n                    this.setState({errorMessage: res.error, showError: true});\r\n                } else {\r\n                    this.setState({\r\n                        showSuccess: true,\r\n                        successMessage: 'Email has been sent with instructions to reset the password.'\r\n                    });\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                console.log(error);\r\n                this.setState({errorMessage: error.toString(), showError: true});\r\n            });\r\n        this.setState({showResetPasswordPopup: false, selectedUserName: null});\r\n    }\r\n    hideResetPassword = () => {\r\n        this.setState({showResetPasswordPopup: false, selectedUserName: null});\r\n    }\r\n    handleResetPassword = (username) => {\r\n        this.setState({showResetPasswordPopup: true, selectedUserName: username});\r\n    }\r\n\r\n    handleAuditClick = (event, userid, username) => {\r\n        event.preventDefault();\r\n        this.props.playerStore.setSelectedBackOfficeUserID(userid);\r\n        this.props.playerStore.setSelectedBackOfficeUserName(username);\r\n        this.props.history.push(`/user/audit/${userid}`);\r\n    }\r\n\r\n    handleEditUser = (username) => {\r\n\r\n        const selectedUser = this.state.userList.find(user => user.username === username);\r\n        if (selectedUser) {\r\n            const {firstname, middlename, lastname, username, roleid, id} = selectedUser;\r\n            this.setState({\r\n                id: id,\r\n                firstName: firstname,\r\n                lastName: lastname,\r\n                middleName: middlename,\r\n                userName: username,\r\n                roleId: roleid,\r\n                showModal: true,\r\n                isEditUser: true,\r\n                successMessage: 'test'\r\n            })\r\n            this.props.playerStore.logAction(UserActionCategory.PAGE_VIEW, UserAction.EDIT_USER, username);\r\n        }\r\n    }\r\n    cancelDeleteUser = () => {\r\n        this.setState({showConfirmPopup: false});\r\n    }\r\n    deleteOrDeactivateUser = () => {\r\n\r\n        const {id, isDeactivateProcess, userName} = this.state;\r\n        // let _userList = userList;\r\n        // _userList = _userList.filter(user => user.userName !== userName);\r\n        // this.setState({userList: _userList, showConfirmPopup: false, showModal: false});\r\n\r\n        let url = `${config.SERVER_BASE_URL}/v1/user/delete`;\r\n        let method = 'DELETE';\r\n        if (isDeactivateProcess) {\r\n            url = `${config.SERVER_BASE_URL}/v1/users/deactivate`;\r\n            method = 'POST';\r\n        }\r\n        fetch(url, {\r\n            method: method,\r\n            headers: {\r\n                'Authorization': `Bearer ${localStorage.getItem('accessToken')}`,\r\n                'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify({userid: id, username: userName}),\r\n        })\r\n            .then(response => response.json())\r\n            .then((res) => {\r\n                if (res.error) {\r\n                    this.setState({isEditUser: false, showModal: false, showConfirmPopup: false});\r\n                } else {\r\n                    this.setState({\r\n                        isEditUser: false,\r\n                        showModal: false,\r\n                        showConfirmPopup: false,\r\n                        successMessage: res.message,\r\n                        showSuccess: true\r\n                    }, () => this.fetchAllUsers());\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                this.setState({showError: true, errorMessage: error.toString()})\r\n            });\r\n\r\n\r\n    }\r\n    addNewUser = () => {\r\n        this.setState({\r\n            isEditUser: false, showModal: true, firstName: '', middleName: '', lastName: '',\r\n            userName: '', confirmUserName: '', roleId: ''\r\n        });\r\n    }\r\n    getTableHeader = () => {\r\n        return (\r\n            <div className='user-table-header'>\r\n                <div>User Management</div>\r\n                {checkRenderPermissions(permissions.CAN_CREATE_USER_ACCOUNT, JSON.parse(localStorage.getItem('userpolicies'))) ?\r\n                    <Button variant='primary' onClick={this.addNewUser}>Add User</Button> : null}\r\n            </div>\r\n        )\r\n    }\r\n\r\n    handleToastClose = (stateName) => {\r\n        this.setState({[stateName]: false})\r\n    }\r\n\r\n    renderUserManagement() {\r\n\r\n        const {\r\n            showEmailError, showModal, roleId, role, firstName, middleName, lastName, userName, userList, tableHeader,\r\n            isEditUser, showConfirmPopup, rolesList, showResetPasswordPopup, confirmUserName,\r\n            showSuccess, successMessage, showError, errorMessage, isDeactivateProcess, isDeleteProcess, showUnlockModal,\r\n            lockedUser } = this.state;\r\n        const deleteConfirmMessage =\r\n            <div>{`Do you really want to ${isDeleteProcess ? 'delete' : 'deactivate'}`}<br/>{userName}</div>;\r\n        const resetPasswordConfirmMessage = <div>Are you sure you want to reset this User’s password?</div>;\r\n        let isDisabled = true;\r\n        if (!isEditUser && firstName.trim() && lastName.trim() && userName.trim() && confirmUserName && roleId && userName === confirmUserName) {\r\n            isDisabled = false;\r\n        } else if (isEditUser && firstName.trim() && lastName.trim() && userName && roleId) {\r\n            isDisabled = false;\r\n        }\r\n        const customHeight = `${window.innerHeight - 162}px`;\r\n        const _header = this.getTableHeader();\r\n        const customStyle = {height: customHeight}\r\n        return (\r\n            <div className='user-management app-center-body'>\r\n                {\r\n                    showSuccess\r\n                        ? <MyToast showToast={showSuccess} message={successMessage} isSuccessMessage={true}\r\n                                   handleClose={() => this.handleToastClose('showSuccess')}/>\r\n                        : null\r\n                }\r\n                {\r\n                    errorMessage && showError\r\n                        ? <MyToast showToast={showError} message={errorMessage} isSuccessMessage={false}\r\n                                   handleClose={() => this.handleToastClose('showError')}/>\r\n                        : null\r\n                }\r\n                <div className='user-management-child'>\r\n                    <ReactTable header={_header} tableHeader={tableHeader} rowData={userList}\r\n                                handleColumnCLick={this.handleEditUser} className='fixed_header'/>\r\n                    <Modal show={showModal} className={showConfirmPopup ? 'hide-user-popup' : ''}>\r\n                        <Modal.Header>\r\n                            <h5>{isEditUser ? 'Edit User' : 'Add User'}</h5>\r\n                        </Modal.Header>\r\n                        <Modal.Body>\r\n                            <AddUser\r\n                                userName={userName}\r\n                                confirmUserName={confirmUserName}\r\n                                lastName={lastName}\r\n                                firstName={firstName}\r\n                                middleName={middleName}\r\n                                showEmailError={showEmailError}\r\n                                rolesList={rolesList}\r\n                                role={role}\r\n                                roleId={roleId}\r\n                                onInputChange={this.handleInputChange}\r\n                                onRoleChange={this.handleRoleChange}\r\n                                isEditUser={isEditUser}\r\n                            />\r\n                        </Modal.Body>\r\n                        <Modal.Footer>\r\n                            {isEditUser\r\n                                ? <>\r\n                                    {checkRenderPermissions(permissions.CAN_DEACTIVATE_USER_ACCOUNT, JSON.parse(localStorage.getItem('userpolicies'))) ?\r\n                                        <Button variant='warning' onClick={(e) => this.onDeactivate(e)}>Deactivate\r\n                                            User</Button> : null}\r\n                                    {checkRenderPermissions(permissions.CAN_DELETE_USER_ACCOUNT, JSON.parse(localStorage.getItem('userpolicies'))) ?\r\n                                        <Button variant='danger' onClick={(e) => this.onDelete(e)}>Delete\r\n                                            User</Button> : null}\r\n                                </>\r\n                                : null\r\n                            }\r\n                            <Button variant='secondary' onClick={(e) => this.onCancel(e)}>Cancel</Button>\r\n                            <Button disabled={isDisabled} variant='primary' onClick={(e) => this.onAddUserClick(e)}>\r\n                                {isEditUser ? 'Update' : 'Add User'}\r\n                            </Button>\r\n                        </Modal.Footer>\r\n                    </Modal>\r\n\r\n\r\n                    <Modal show={showConfirmPopup} className='delete-popup'>\r\n                        <Modal.Header>\r\n                            <strong>{deleteConfirmMessage}</strong>\r\n                        </Modal.Header>\r\n                        <Modal.Footer>\r\n                            <Button variant='secondary' onClick={(e) => this.cancelDeleteUser(e)}>No</Button>\r\n                            <Button disabled={isDisabled} variant='danger'\r\n                                    onClick={(e) => this.deleteOrDeactivateUser(e)}>\r\n                                Yes\r\n                            </Button>\r\n                        </Modal.Footer>\r\n                    </Modal>\r\n\r\n                    <Modal show={showResetPasswordPopup} className='reset-password-popup' centered={true}>\r\n                        <Modal.Header>\r\n                            <strong>{resetPasswordConfirmMessage}</strong>\r\n                        </Modal.Header>\r\n                        <Modal.Footer>\r\n                            <Button variant='secondary' onClick={(e) => this.hideResetPassword(e)}>No</Button>\r\n                            <Button variant='danger' onClick={(e) => this.resetPassword(e)}>\r\n                                Yes\r\n                            </Button>\r\n                        </Modal.Footer>\r\n                    </Modal>\r\n\r\n                    <Modal show={showUnlockModal} className='' centered={true}>\r\n                        <Modal.Header>\r\n                            <div>Do you really want to unlock {lockedUser && lockedUser.username}?</div>\r\n                        </Modal.Header>\r\n                        <Modal.Footer>\r\n                            <Button variant='secondary' onClick={(e) => this.cancelUnlock(e)}>No</Button>\r\n                            <Button variant='primary' onClick={(e) => this.unlockUser(e)}>\r\n                                Yes\r\n                            </Button>\r\n                        </Modal.Footer>\r\n                    </Modal>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        let renderObj;\r\n\r\n        if (checkRenderPermissions(permissions.CAN_ACCESS_USER_MANAGEMENT, JSON.parse(localStorage.getItem('userpolicies')))) {\r\n            renderObj = this.renderUserManagement();\r\n        } else {\r\n            renderObj =\r\n                <h1 class='unauthorized-header'>You do not have permission to view this page! Please contact your System\r\n                    Administrator!</h1>\r\n        }\r\n\r\n        return (\r\n            renderObj\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default UserManagement;"]},"metadata":{},"sourceType":"module"}